    func CalculateDelta( ratio: Double) -> Double {
    let ratioArray = [ 1.0, 1.05, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 500 ]
    let deltaArray = [ 0.15, 0.15, 0.103, 0.072, 0.053, 0.04, 0.03, 0.023, 0.017, 0.011, 0.006, 0.001, 0 ]

    var delta = deltaArray[0]
    if (ratio > ratioArray[ratioArray.count - 1] ) {
        delta = deltaArray[deltaArray.count - 1]
    } else {
        for var i=0; i<ratioArray.count-1; i++ {
            if (ratio > deltaArray[i]) {
                delta = deltaArray[i] + (((ratio - ratioArray[i])/(ratioArray[i+1] - ratioArray[i])) * (deltaArray[i+1] - deltaArray[i]));
                break;
            }
        }
    }
    return delta
}

