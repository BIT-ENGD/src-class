func perfromQueryForHRSamples() {
    let startDate = NSDate(timeIntervalSinceNow: -30*24*60*60)
    let endDate = NSDate()
    let heartRateSample = HKSampleType.quantityTypeForIdentifier(HKQuantityTypeIdentifierHeartRate)
    let predicate = HKQuery.predicateForSamplesWithStartDate(startDate, endDate: endDate, options: .None)

    let sampleQuery = HKSampleQuery(sampleType: HKSampleType.quantityTypeForIdentifier(HKQuantityTypeIdentifierHeartRate),
        predicate: predicate,
        limit: 100,
        sortDescriptors: nil,
        resultsHandler: { (query, results, error) in

            if error != nil {
                println("There was an error: \(error)")

            }

            for result in results as [HKQuantitySample]! {
                let count = results.count
                println("Success \(count)")
            }
    })

    self.healthStore.executeQuery(sampleQuery)

}

