@IBAction func checkAdminMessage(sender: NSMenuItem) {


    let messageURL = NSURL(string: "http://www.xxxxxx.com/text.txt")

    // The Network stuff will be handled in a background thread
    let sharedSession = NSURLSession.sharedSession()
    let downloadTask: NSURLSessionDownloadTask = sharedSession.downloadTaskWithURL(messageURL!,
        completionHandler: {
            (location: NSURL!, response: NSURLResponse!, error: NSError!) -> Void in

            var urlContents = NSString(contentsOfURL: location, encoding: NSUTF8StringEncoding, error: nil)


            // Check if text.txt has NULL as content
            if urlContents! == "NULL" {


                // Have to use Grand Central Dispatch to put NSAlert in the main thread
                let noMessage = NSLocalizedString("Nothing there", comment: "Text to dislay when the file is empty" )

                dispatch_async(dispatch_get_main_queue()) { () -> Void in
                    self.displayAlertNotification(notification: noMessage)

                }

            } else {
                // If the file is not empty then we display the content of this file
                dispatch_async(dispatch_get_main_queue()) { () -> Void in
                    self.displayAlertNotification(notification: urlContents!)
                }

            }
    })
    downloadTask.resume()
}

@IBAction func checkAdminMessage(sender: NSMenuItem) {

 if let messageURL = NSURL(string: "http://www.xxxxxx.com/text.txt") {
        let sharedSession = NSURLSession.sharedSession()


        let downloadTask: NSURLSessionDownloadTask = sharedSession.downloadTaskWithURL(messageURL,
            completionHandler: {
                (location: NSURL!, response: NSURLResponse!, error: NSError!) -> Void in

                var urlContents = NSString(contentsOfURL: location, encoding: NSUTF8StringEncoding, error: nil )


                if urlContents == "NULL" {

                    println(urlContents)
                    // Have to use Grand Central Dispatch to put NSAlert in the main thread
                    let noMessage = NSLocalizedString("Nothing there", comment: "Text to dislay when the file is empty" )

                    dispatch_async(dispatch_get_main_queue()) { () -> Void in
                        self.displayAlertNotification(notification: noMessage)
                    }
                }
                else {
                    dispatch_async(dispatch_get_main_queue()) { () -> Void in
                        self.displayAlertNotification(notification: urlContents!)
                    }
                }


        })
        downloadTask.resume()

    }
    else {
        println("Error")
    }

}

