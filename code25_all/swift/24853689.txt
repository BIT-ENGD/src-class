CKContainer *defaultContainer =[CKContainer defaultContainer];
CKDatabase *publicDB = [defaultContainer publicCloudDatabase];
[defaultContainer fetchUserRecordIDWithCompletionHandler:^(CKRecordID *recordID, NSError *error) {
    if(error){
        NSLog([NSString stringWithFormat:@"1 %@", error.description]);}
    else{
        [publicDB fetchRecordWithID:recordID completionHandler:^(CKRecord *record, NSError *error) {
            if(error){
                NSLog([NSString stringWithFormat:@"2 %@", error.description]);}
            else{
                record[@"name"]=name.text;
                record[@"phone"]=phone.text;
                record[@"building"]=building.text;
                record[@"apartment"]=apartment.text;
                [publicDB saveRecord:record completionHandler:^(CKRecord *record, NSError *error) {
                    if(error){
                         NSLog([NSString stringWithFormat:@"3 %@", error.description]);}
                    else{
                         NSLog(@"success");}}];}}];}}];

