DateRange
class DateRange {
    var from: NSDate?
    var to: NSDate?
}

from
to
from
to
nil
date_ranges.sort { |a, b|
  [fix_nil(a.from), fix_nil(a.to)] <=> [fix_nil(b.from), fix_nil(b.to)]
}.reverse

def fix_nil(val)
  val.nil? ? Date.new(0) : val
end

