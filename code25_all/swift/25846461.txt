protocol SomeProtocol {
    func setValue(value: Int)
}

class ProtocolLabel : UILabel, SomeProtocol {
    func setValue(value: Int) {

    }
}

class ProtocolImageView : UIImageView, SomeProtocol {
    func setValue(value: Int) {
    }
}

func viewForValue<T where T: SomeProtocol, T: UIView>(param: Int) -> UIView {
    var someView: T
    if param > 0 {
        someView = ProtocolLabel() as T
    } else {
        someView = ProtocolImageView() as T
    }
    someView.setValue(2)
    someView.frame = CGRectZero
    return someView
}

viewForValue(2) // <-- Type 'UIView' does not conform to protocol 'SomeProtocol'

