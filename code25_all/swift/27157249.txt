var votingStatus: Bool?

@IBAction func yesButtonPressed(sender: AnyObject) {

    //Check if votingStatus is true
    if votingStatus == true {
        //I'm using Parse for backend
        var score = PFObject(className: "score")
        score.setObject(1, forKey: "vote")
        score.saveInBackgroundWithBlock{
            (succes: Bool!, error: NSError!) -> Void in
            if succes == true {
                println("Done with ID \(score.objectId)")
                //update NSUserdefaults
                NSUserDefaults.standardUserDefaults().setObject(NSDate(), forKey: "controlDate")
                // should I NSUserDefaults.standardUserDefaults().synchronize() below?
            } else {
                println(error)
                //show alert
            }
        }
    } else {
        println("Status is \(votingStatus)")
    }
}

override func viewDidLoad() {
    super.viewDidLoad()

    // Find if user haven't already voted within 1 day so if his/her voting status true
    // var votingStatus: Bool?

    //To retrive the control date value. First time it has nil value
    var controlDate = NSUserDefaults.standardUserDefaults().objectForKey("controlDate") as? NSDate
    var timeInterval = controlDate?.timeIntervalSinceNow
    var dayInSeconds = 24.0 * 3600

    if controlDate == nil {
        votingStatus = true
    } else {
        if timeInterval < dayInSeconds {
            votingStatus = false
        } else {
            votingStatus = true
        }
    }
}

override func didReceiveMemoryWarning() {
    super.didReceiveMemoryWarning()
    // Dispose of any resources that can be recreated.
}

