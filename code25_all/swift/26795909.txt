@IBOutlet weak var testButton: NSToolbarItem!

@IBAction func menuPreviewAndTestAction(sender: AnyObject) {
    var returnedHtmlString = checkEverythingAndCreateTheEncodedHtml(testButton)
    setEncodedHtmlToPreview(returnedHtmlString)
    var thebounds = self.testButton.view?.bounds // so i am givving bounds of button that narmally calls poover
    testingPopover.showRelativeToRect(thebounds!, ofView: sender as NSView, preferredEdge: NSMaxYEdge) // crashes
}

