@IBAction func powerButton(sender: UIButton)
    {
        NSLog("flashButtonClicked")

        let flashLight : AVCaptureDevice = AVCaptureDevice.defaultDeviceWithMediaType(AVMediaTypeVideo)!

        torchButton.setBackgroundImage(switchOnImage, forState:UIControlState.Normal)
        NSLog("Button Background changed!!")

        if flashLight.torchAvailable && flashLight.isTorchModeSupported(AVCaptureTorchMode.On)
        {
            NSLog("inside if...")
            let success = flashLight.lockForConfiguration(nil)

            if (success)
            {
                if flashLight.torchActive
                {
                    flashLight.isTorchModeSupported(AVCaptureTorchMode.Off)
                    onOffbutton.setBackgroundImage(switchOffImage, forState:UIControlState.Normal)
                }
                else
                {
                    flashLight.setTorchModeOnWithLevel(100, error: nil)
                    onOffbutton.setBackgroundImage(switchOnImage, forState:UIControlState.Normal)
                }
                flashLight.unlockForConfiguration()
            }
        }
    }

