import UIKit

class SimulazioneQuestionTableViewCell: UITableViewCell, UITableViewDelegate, UITableViewDataSource {

    let cellIdentifier = "simRisposteCell"
    var arrayRisposte = [Risposta]()

    @IBOutlet var numeroLabel: UILabel!
    @IBOutlet var domandaLabel: UILabel!
    @IBOutlet var risposteTableView: UITableView!

    override func awakeFromNib() {
        super.awakeFromNib()
        // Initialization code
        var nib = UINib(nibName: "SimulazioneQuestionAnswerTableViewCell", bundle: nil)
        self.risposteTableView.registerNib(nib, forCellReuseIdentifier: self.cellIdentifier)
    }

    override func setSelected(selected: Bool, animated: Bool) {
        super.setSelected(selected, animated: animated)

        // Configure the view for the selected state
    }

    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return arrayRisposte.count
    }

    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {

        var cell = tableView.dequeueReusableCellWithIdentifier(cellIdentifier) as SimulazioneQuestionAnswerTableViewCell

        cell.textLabel?.text = arrayRisposte[indexPath.row].testo

        return cell
    }

}

import UIKit


class SimulazioneViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {

    var areaSimulazione: Int = Int()
    var arrayDomande = [Domanda]()
    var arrayRisposte = [[Risposta]]()
    var cellIdentifier = "domandaSimulazioneCell"


    @IBOutlet var tempoTrascorso: UILabel!
    @IBOutlet var simulazioneTableView: UITableView!

    override func viewDidLoad() {
        super.viewDidLoad()

        arrayDomande = ModelManager.instance.getSimulazione(area: areaSimulazione)

        var nib = UINib(nibName: "SimulazioneQuestionTableViewCell", bundle: nil)
        self.simulazioneTableView.registerNib(nib, forCellReuseIdentifier: self.cellIdentifier)

    }

    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return arrayDomande.count
    }

    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
        let cell: SimulazioneQuestionTableViewCell = simulazioneTableView.dequeueReusableCellWithIdentifier(self.cellIdentifier) as SimulazioneQuestionTableViewCell
        var domanda: Domanda = arrayDomande[indexPath.row]
        var rispXDomanda = ModelManager.instance.getAnswersForQuestion(domanda.numero)
        cell.numeroLabel.text = String(domanda.numero)
        cell.domandaLabel.text = domanda.testo
        cell.arrayRisposte = rispXDomanda

        return cell
    }

