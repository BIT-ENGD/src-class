class ViewController : UIViewController {

  override func viewDidLoad() {
    super.viewDidLoad()

    //FIRST SQUARE
    let widget1 = TestWidget()
    widget1.viewX = 10
    widget1.viewY = 10
    self.view.addSubview(widget1.view)
    self.addChildViewController(widget1)
    widget1.didMoveToParentViewController(self)

    //SECOND SQUARE
    let widget2 = TestWidget()
    widget2.viewX = 100
    widget2.viewY = 100
    self.view.addSubview(widget2.view)
    self.addChildViewController(widget2)
    widget2.didMoveToParentViewController(self)
  }

}

class TestWidget : UIViewController {

  var viewX : CGFloat!

  var viewY : CGFloat!

  override func viewDidLoad() {
    super.viewDidLoad()
    let square = UIView()
    square.frame = CGRect(x : viewX, y : viewY, width: 50, height: 50)
    square.backgroundColor = UIColor.orangeColor()
    self.view.addSubview(square)
    //GESTURE PART
    var tapForSquare = UITapGestureRecognizer()
    tapForSquare.addTarget(self, action : "onTap")
    square.addGestureRecognizer(tapForSquare)
    square.userInteractionEnabled = true
    square.multipleTouchEnabled = true
  }

  func onTap() {
    println("square tapped")
  }
}

