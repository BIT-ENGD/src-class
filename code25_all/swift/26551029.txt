func BTCFallback(){

    var string2 = currencySelector.currentTitle


    var url = NSURL(string:"https://bitpay.com/api/rates/" +  (string2)!)
    var request = NSURLRequest(URL: url)


    NSURLConnection.sendAsynchronousRequest(request, queue: NSOperationQueue(), completionHandler:fallback)

    var data = NSData(contentsOfURL:url);
    let value = NSString(string: USD.text).doubleValue / NSString(data:data, encoding:NSUTF8StringEncoding).doubleValue

    // Define JSON string
    var JSONString = "\(data)"

    // Get NSData using string
    if let JSONData = JSONString.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: false) {

        // Parse JSONData into JSON object
        var parsingError: NSError?
    if let JSONObject = NSJSONSerialization.JSONObjectWithData(JSONData, options: nil, error: &parsingError) as? [String: AnyObject] {

        // If the parsing was successful grab the rate object
        var rateObject: AnyObject? = JSONObject["rate"]

        // Make sure the rate object is the expected type
        if let rate = rateObject as? Float {
            println("rate is \(rate)")
            BTC.text = "\(rate)"
        }
    } else {

        // There was an error parsing the JSON data
        println("Error parsing JSON: \(parsingError)")
        BTC.text = "err1"
    }

}






}

Error parsing JSON: Optional(Error Domain=NSCocoaErrorDomain Code=3840 "The operation couldnâ€™t be completed. (Cocoa error 3840.)" (JSON text did not start with array or object and option to allow fragments not set.) UserInfo=0x16eb0f60 {NSDebugDescription=JSON text did not start with array or object and option to allow fragments not set.})
