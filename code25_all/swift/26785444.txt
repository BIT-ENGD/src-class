var tileSource: RMMapboxSource = RMMapboxSource()
@IBOutlet var mapView: RMMapView!

    override func viewDidLoad() {
    super.viewDidLoad()

    let fullPath: String = NSBundle.mainBundle().pathForResource("mapbox", ofType: "json")!
    var errorInFullPath:NSErrorPointer? = NSErrorPointer()
    let tileJSON: String? = String(contentsOfFile: fullPath, encoding:NSUTF8StringEncoding, error: errorInFullPath!)
    tileSource = RMMapboxSource(tileJSON: tileJSON)

    initializeMap()

}

func initializeMap() {
    mapView = RMMapView(frame: self.view.bounds)
    mapView.tileSource = tileSource
    tileSource.cacheable = true
    mapView.adjustTilesForRetinaDisplay = true
    mapView.userInteractionEnabled = true
    mapView.zoom = 9
    self.view.addSubview(mapView)
    mapView.delegate = self
}

func startDownload() {
    mapView.tileCache.backgroundCacheDelegate = self
    mapView.tileCache.beginBackgroundCacheForTileSource(tileSource, southWest: sw, northEast: ne, minZoom: 1, maxZoom: zoomLevel)
}

