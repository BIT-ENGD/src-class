CoreData
NSTimer
 class ViewController: UIViewController {  
        @IBAction func start(sender: AnyObject) {

            let date: NSDate = NSDate()
            //let time: NSTimeInterval = newDate.timeIntervalSince1970
            let calendar = NSCalendar.currentCalendar()
            let components = calendar.components(.CalendarUnitSecond | .CalendarUnitHour | .CalendarUnitMinute | .CalendarUnitMonth | .CalendarUnitYear | .CalendarUnitDay, fromDate: date)
            var hour = components.hour
            var minute = components.minute
            var month = components.month
            var year = components.year
            var day = components.day
            var second = components.second


        let appDel:AppDelegate = UIApplication.sharedApplication().delegate as AppDelegate
        let context:NSManagedObjectContext = appDel.managedObjectContext!
        let ent = NSEntityDescription.entityForName("Time", inManagedObjectContext: context)!  
        var newData = Time(entity: ent, insertIntoManagedObjectContext: context)

            var hourf = hour + 11;
            var dayf = day; 
            var monthf = month;         
            var yearf = year;

            if(hourf >= 24){

                hourf = hourf - 24;

                dayf = day + 1;
            }



            if(dayf >= 28)

            {
                //perche' Ã¨ il giorno dopo il 28
                if(dayf == 29 && month == 2){

                    //febbraio

                    dayf = dayf - 28;
                    monthf = month + 1;

                }
                //mesi con 30 gg
                if((dayf == 31) && month == 11 || month == 4 || month == 6)

                {


                    dayf = dayf - 30;

                    monthf = month + 1;

                }

                if( dayf == 32){

                    dayf = dayf - 31;
                    monthf = month + 1;
                }


                else {
                }


            }


            if(monthf > 12)

            {
                monthf = monthf - 12;

                yearf = year + 1;

            }


            //fetched 

            if(yearf == year )

            {
                if(monthf == month){

                }

                if(dayf == day){

                }
                if(hourf >= hour){

                    println("finito t ore")
                }

            }


           newData.hourf = String(hourf)         
           newData.dayf = String(dayf)        
           newData.monthf = String(monthf) 
           newData.yearf = String(yearf)


            newData.minute = String(minute)         
            newData.hour = String(hour)   
            newData.day = String(day)         
            newData.month = String(month)      
            newData.year = String(year)

     println("// Start Time")

              println("Minuti")
            println(newData.minute)
               println("Ore")
            println(newData.hour)
               println("Giorno")
            println(newData.day)
                println("Mese")
            println(newData.month)
                println("Anno")
            println(newData.year)


            println("// Final Time")


            println("Minuti")
            println(newData.minute)
            println("Ore")
            println(newData.hourf)
            println("Giorno")
            println(newData.dayf)
            println("Mese")
            println(newData.monthf)
            println("Anno")
            println(newData.yearf)


         if(yearf == year )

         {
            if(monthf == month){

            }

            if(dayf == day){

            }
            if(hourf >= hour){

                       println("finito t ore")
            }

            }


            if(yearf == year )

            {
                if(monthf == month){

                }

                if(dayf >= day){

                       println("finito t gg")
                }

            }

            if(yearf == year )

            {
                if(monthf >= month){
                    println("finito t mesi")

                }

            }


            if(yearf >= year )

            {
                if(monthf >= month){
                    println("finito t anni")

                }

            }

            /*
            if(hourf < hour || dayf < day || monthf < month || yearf < year ){
                println("Non puoi ancora scrivere ! ")

            }*/


        }

        override func viewDidLoad() {
            super.viewDidLoad()
     startTimer()


        }


        var timer:NSTimer!

        var timerVal = 100

        func startTimer()
        {


            timer = NSTimer.scheduledTimerWithTimeInterval(1.0
                , target: self, selector: Selector("updateTimer:"), userInfo: nil, repeats: true)
        }


        func updateTimer(dt:NSTimer)
{  
            timerVal--

            if timerVal==0{


                println("FINISH")

            }else if timerVal<0{
                timer.invalidate()
                //Stop


            } else{
                println("\(timerVal)")
            }
        }

    }

