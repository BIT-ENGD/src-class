        aCoder.encodeObject(runSamples, forKey: "runSamples")

class RunRecord: NSObject {
    let startDate: NSDate
    var endDate: NSDate?
    var runSamples: CLLocation[]

    var currentSpeed: CLLocationDistance {
    return self.runSamples[runSamples.endIndex - 1].speed
    }

    init(startDate: NSDate) {
        self.startDate = startDate
        self.runSamples = CLLocation[]()
        super.init()
    }

    init(coder aDecoder: NSCoder!) {
        startDate = aDecoder.decodeObjectForKey("startDate") as NSDate
        endDate = aDecoder.decodeObjectForKey("endDate") as? NSDate
        runSamples = aDecoder.decodeObjectForKey("runSamples") as CLLocation[]
    }

    func encodeWithCoder(aCoder: NSCoder!) {
        aCoder.encodeObject(startDate, forKey: "startDate")
        aCoder.encodeObject(endDate, forKey: "endDate")
        aCoder.encodeObject(runSamples, forKey: "runSamples")
    }

    func addSample(sample: CLLocation) {
        runSamples.append(sample)
    }
}

