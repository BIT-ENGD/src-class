self.image = data
setImage(image: UIImage)
let ipaIcon = CoreData.newIconWithImageAndName(UIImage(named: "IPA-Day.png")!, name: "IPA-Day")

class func newIconWithImageAndName(image:UIImage, name:String) -> Icon?
{
    if(Icon.ExistsInStorage(name))
    {
        return nil
    }
    var description = NSEntityDescription.entityForName(Lookup.EntityName.Icon.rawValue, inManagedObjectContext: context)

    var newIcon = Icon(entity: description!, insertIntoManagedObjectContext: context)

    newIcon.setImage(image)
    newIcon.name = name

    var saveError: NSError?

    context.save(&saveError)

    if let error = saveError
    {
        println("Error creating new icon with image and name: \(name)")
                return nil;
    }

    return newIcon

}

func setImage(image: UIImage)
{
    let data: NSData = UIImagePNGRepresentation(image)

    self.image = data
}

