import UIKit

class AVZItemsTableViewController: UIViewController, UITableViewDataSource,UITableViewDelegate {
    let url = "https://XYZ.azure-mobile.net/"
    let key = "XYZ"
    let tableName = "XYZ"
    var items : AnyObject[]!

    override func viewDidLoad() {
        super.viewDidLoad()
        self.loadData()
    }

    func loadData() {
        var client = MSClient(applicationURLString: url, withApplicationKey: key)
        var table = client.tableWithName(self.tableName)
        table.readWithCompletion({
            (results: AnyObject[]!, totalCount: Int!, error: NSError!) -> Void in
            if (error != nil)  { NSLog(String(format: "%@", error.debugDescription!))}
            // without this line everything "goes fine"
            self.items = results
        })
    }
}

