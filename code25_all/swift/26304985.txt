func foo() -> Bar? { ... }

let fooResultOpt = foo()
if let fooResult = fooResultOpt {
    // continue correct operations here
} else {
    // handle error
}

Bar *fooResult = foo();
if (fooResult == null) {
    // handle error and return
}
// continue correct operations here

let fooResultOpt = foo()
if fooResult == nil {
    // handle error and return
}
// use fooResultOpt! from here
let fooResult = fooResultOpt! // or define another variable

if !let fooResult = foo() {
    // handle error and return
}
// fooResult has Bar type and can be used in the top level

