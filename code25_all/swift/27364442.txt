    func methodA(withCred credential: NSURLCredential) {
    var objA = ObjectA()
    // Set objA.a, objA.b, objA.c, 
    objA.credential = credential //Incorrect credential First time, Correct Credential second time 
    objA.delegate = self 
    expectation = expectationWithDescription(“Aync”)
    objA.callAsyncMethod() //This fires successDelegate() or failureDelegate()}

func failureDelegate(error: NSError!) {

XCTAssertTrue(error.localizedDescription == “Invalid Credentials“)
//Now that I’ve verified correct error is returned, I need to reload objA
methodA(withCred:correctCredential) 
}

func successDelegate(obj : ObjectA) {
  XCTAssert(“Object is loaded”)
  expectation.fulfill()
}

