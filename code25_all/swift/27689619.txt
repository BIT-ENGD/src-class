import UIKit
class ViewController: UIViewController {

    var myTime: AnyObject = NSUserDefaults() //creates a var called myTime that can be used to save the time parameter.
    var timer = NSTimer() // creates a variable used by the timer loop.

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view, typically from a nib.
        myTime = NSUserDefaults.standardUserDefaults().objectForKey("two")! //sets timer value to last saved value

        if (myTime as NSNumber == 0){ //if the initial value doesnt exhist the if statement creates one.
            NSUserDefaults.standardUserDefaults().setInteger(0, forKey: "two") //sets timer to zero and saves parameter
        }

        timer = NSTimer.scheduledTimerWithTimeInterval(1, target: self, selector: Selector("action"), userInfo: nil, repeats: true) // Creates a timer at 1 second time interval which then performs function called 'action' and will continue until boolean is set to false or NSTimer is invalidated.
    }

    func action(){

        myTime = Int(myTime as NSNumber) + 1 // increases myTime by 1
        println(myTime) //println(time) // prints myTime

        NSUserDefaults.standardUserDefaults().setInteger(myTime as Int, forKey: "two") // saving variable two with value of 2
        NSUserDefaults.standardUserDefaults().synchronize() // Added synchronize as suggested by LAMMERT WESTERHOFF
    }
    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }
}

