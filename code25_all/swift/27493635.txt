protocol MXKTabBarDataSource {
    func createTabAtIndex(tabIndex: Int) -> MXKTab
}

class MXKTabBar<T: MXKTab>: UIView {
    private var tabs = [T]()

    var dataSource: MXKTabBarDataSource?

    private func createTabs() {
        if self.dataSource != nil {
            for tabIndex in 0..<2 {
                // getting a compiler error here saying: 'MXKTab is not convertible to T'
                self.tabs.append(self.dataSource!.createTabAtIndex(tabIndex))
            }
        }
}

class MXKTab: UIView {
    var title: String?
}

