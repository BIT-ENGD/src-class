func testMock() {
    class MockAPI: API {
        var expectation: XCTestExpectation?

        init(expectation: XCTestExpectation) {
            self.expectation = expectation
        }

        override func method() {
            expectation!.fulfill()
        }
    }

    let mockAPI = MockAPI(expectation: self.expectationWithDescription("API: method should be called"))

    ...

    self.waitForExpectationsWithTimeout(1, handler: nil)
}

Command /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swiftc failed with exit code 1
func testMock() {
    let expectation = self.expectationWithDescription("API: method should be called")

    class MockAPI: API {
        override func method() {
            expectation.fulfill()
        }
    }

    let mockAPI = MockAPI()

    ...

    self.waitForExpectationsWithTimeout(1, handler: nil)
}

