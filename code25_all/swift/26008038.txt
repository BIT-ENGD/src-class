if (disconnected):
    while (disconnected):
        check for connection
    if (connected):
        fetch results

