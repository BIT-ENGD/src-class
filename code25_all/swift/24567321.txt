import UIKit

//Set Image Array
var imagelist: String[] = ["Home Image 1.png", "info.png"]

//Set Page Numbers
var numpages = imagelist.count

class HomeImageView: UIViewController, UIScrollViewDelegate {

    //IBOutlets & Propertys
    @IBOutlet var scrollView: UIScrollView

    @IBOutlet var pageControl: UIPageControl


    override func viewDidLoad() {

        super.viewDidLoad()

        //Setup Page Control
        pageControl.numberOfPages = numpages
        pageControl.currentPage = 0

        //Setup Scroll View
        scrollView.pagingEnabled = true;
        scrollView.scrollEnabled = true
        scrollView.showsHorizontalScrollIndicator = false;
        scrollView.showsVerticalScrollIndicator = false;
        scrollView.bounces = true;
        scrollView.scrollsToTop = false
        scrollView.contentSize = CGSizeMake(scrollView.frame.size.width * CGFloat(numpages), scrollView.frame.size.height)


        }

    override func viewWillAppear(animated: Bool) {


        //Setup UIViews with Images
        for var z = 0; z < numpages; z++ {

            let mainFrame: CGRect = CGRectMake(scrollView.frame.size.width * CGFloat(z), 0, scrollView.frame.size.width, scrollView.frame.size.height)

            var image: UIImageView = UIImageView(frame: mainFrame)

            image.image = UIImage(named: imagelist[z])

            image.clipsToBounds = true

            image.contentMode = UIViewContentMode.ScaleAspectFit

            scrollView.addSubview(image)

    }

    func scrollViewDidScroll(scrollview: UIScrollView) {

        var pageSize: Float = Float(scrollView.bounds.size.width)
        var page: Float = floorf((Float(scrollview.contentOffset.x) - pageSize / 2.0) / pageSize) + 1
        // Bound page limits
        if (page >= Float(numpages)) {
            page = Float(numpages) - 1;
        } else if (page < 0) {
            page = 0;
        }

        pageControl.currentPage = Int(page)
        println(pageControl.currentPage)
    }
  }
}

