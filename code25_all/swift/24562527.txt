fatal error: Can't unwrap Optional.None
init(coder aDecoder: NSCoder!) {
    pref = NSUserDefaults.standardUserDefaults()

    currentPlay = Play()
    canvas = Canvas(coder: aDecoder)
    super.init(coder: aDecoder)
}

import UIKit

class Canvas: UIImageView {

    var path:UIBezierPath = UIBezierPath()
    var drawColor:UIColor = UIColor.greenColor()
    var lastLocation:CGPoint = CGPoint()

    init(coder aDecoder: NSCoder!) {
        super.init(coder: aDecoder)
    }

    // handling touches

    override func touchesBegan(touches: NSSet!, withEvent event: UIEvent!) {
        let touch:UITouch  = touches.anyObject() as UITouch
        lastLocation = touch.locationInView(self.superview)
    }

    override func touchesMoved(touches: NSSet!, withEvent event: UIEvent!) {
        let touch:UITouch  = touches.anyObject() as UITouch
        let location = touch.locationInView(self.superview)

        UIGraphicsBeginImageContext(self.frame.size)
        self.image.drawInRect(self.frame)
        path = UIBezierPath()
        path.lineWidth = 8;
        path.lineCapStyle = kCGLineCapRound;
        drawColor.setStroke()

        path.moveToPoint(CGPointMake(lastLocation.x, lastLocation.y))

        path.addLineToPoint(CGPointMake(location.x, location.y))
        path.stroke()

        self.image = UIGraphicsGetImageFromCurrentImageContext();
        lastLocation = location

        path.closePath()
        UIGraphicsEndImageContext();
    }

    override func touchesEnded(touches: NSSet!, withEvent event: UIEvent!) {
        // nothing yet
    }
}

