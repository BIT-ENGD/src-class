UITableViewController
TableViewController
UITableViewDataSource
TableViewController
class TableViewController: UITableViewController {

    let array = [["1"], ["2", "3", "4"], ["5", "6"]]
    var dataSource: DataSource!


    override func viewDidLoad() {
        super.viewDidLoad()

        dataSource = DataSource(array: array, configureCellBlock: { (cell, item) in
            cell.textLabel.text = item
        })
        tableView.dataSource = dataSource
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
    }

    deinit {
        println("Quit TVC")
    }

}

class DataSource: NSObject, UITableViewDataSource {

    let array: [[String]]
    typealias TableViewCellConfigureBlock = (cell: UITableViewCell, item: String) -> ()
    var configureCellBlock: TableViewCellConfigureBlock


    init(array: [[String]], configureCellBlock: TableViewCellConfigureBlock) {
        self.array = array
        self.configureCellBlock = configureCellBlock

        super.init()
    }

    func numberOfSectionsInTableView(tableView: UITableView) -> Int {
        return array.count
    }

    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return array[section].count
    }

    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
        let cell = tableView.dequeueReusableCellWithIdentifier("Cell", forIndexPath: indexPath) as UITableViewCell

        let data = array[indexPath.section][indexPath.row]
        configureCellBlock(cell: cell, item: data)

        return cell
    }

    deinit {
        println("Quit DataSource")
    }

}

configureCellBlock
TableViewController
class TableViewController: UITableViewController {

    let array = [["1"], ["2", "3", "4"], ["5", "6"]]
    var dataSource: DataSource!


    override func viewDidLoad() {
        super.viewDidLoad()

        dataSource = DataSource(array: array, configureCellBlock: formatCell)
        tableView.dataSource = dataSource
    }

    func formatCell(cell: UITableViewCell, item: String) -> () {
        cell.textLabel.text = item
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
    }

    deinit {
        println("Quit TVC")
    }

}

TableViewController
DataSource
dataSource
weak var dataSource: DataSource!
unowned var dataSource: DataSource
configureCellBlock
