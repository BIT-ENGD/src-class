func requestUserAuthentication() {

    var myContext:LAContext = LAContext()
    var authError:NSError?
    var myLocalizedRasonMessage = "Please authenticate using your fingerprint"

    if (myContext.canEvaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, error:&authError)) {
        myContext.evaluatePolicy(LAPolicy.DeviceOwnerAuthenticationWithBiometrics, localizedReason: myLocalizedRasonMessage) { success, error in

            if (success) {
                self.requestAuthenticationOutput = "Login successful"
            }

            else {
                switch error.code {
                case LAError.AuthenticationFailed.toRaw():
                    self.requestAuthenticationOutput = "Login failed"

                case LAError.UserCancel.toRaw():
                    self.requestAuthenticationOutput = "User canceled"

                case LAError.SystemCancel.toRaw():
                    self.requestAuthenticationOutput = "System canceled"

                case LAError.UserFallback.toRaw():
                    self.requestAuthenticationOutput = "User pressed \"Enter Password\""

                default:
                    self.requestAuthenticationOutput = "TouchID is not configured"
                }
            }

        }
    }
    else {
        switch authError!.code {
        case LAError.TouchIDNotAvailable.toRaw():
            self.requestAuthenticationOutput = "No Touch ID on device"
        case LAError.TouchIDNotEnrolled.toRaw():
            self.requestAuthenticationOutput = "No fingers enrolled"
        case LAError.PasscodeNotSet.toRaw():
            self.requestAuthenticationOutput = "No passcode set"
        default:
            self.requestAuthenticationOutput = "Something went wrong getting local auth"
        }
    }

    self.statusLabel.text = self.requestAuthenticationOutput
}

