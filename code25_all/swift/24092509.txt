import Cocoa

class AppDelegate: NSObject, NSApplicationDelegate, NSTableViewDataSource,     NSTableViewDelegate {

    @IBOutlet var window: NSWindow

    // Table View Outlet
    @IBOutlet var tableViewData : NSTableView

    // Text Field Cell Outlets
    @IBOutlet var firstNameTextField : NSTextField
    @IBOutlet var lastNameTextField : NSTextField
    @IBOutlet var ageTextField : NSTextField
    @IBOutlet var netWorthTextField : NSTextField


    // declare an array of multiple dictionaries
    var peopleList = [Dictionary <String, String>()]


    func applicationDidFinishLaunching(aNotification: NSNotification?) {
        // Insert code here to initialize your application

    }

    func applicationWillTerminate(aNotification: NSNotification?) {
        // Insert code here to tear down your application
    }

    func numberOfRowsInTableView(aTableView: NSTableView!) -> Int
    {
        let numberOfRows:Int = getDataArray().count
        return numberOfRows
    }

    func tableView(tableView: NSTableView!, objectValueForTableColumn tableColumn: NSTableColumn!, row: Int) -> AnyObject!
    {

        var newString = getDataArray().objectAtIndex(row).objectForKey(tableColumn.identifier)
        return newString;
    }


    func getDataArray() -> NSArray {
        return peopleList
    }

    // When button is hit, add NSTextField values to array and refresh the tableview
    @IBAction func addFieldDataToArray(sender : AnyObject) {
        peopleList.append(["FirstName": firstNameTextField.stringValue, "LastName": lastNameTextField.stringValue, "Age": ageTextField.stringValue, "NetWorth": netWorthTextField.stringValue])
        println(peopleList)
        tableViewData.reloadData()
    }

}

