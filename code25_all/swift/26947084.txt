itemArray?.addObject(arrayDic)

func loadItems() {
    var query = PFQuery(className:"Items")
    query.orderByAscending("createdAt")
    query.findObjectsInBackgroundWithBlock {
        (objects: [AnyObject]!, error: NSError!) -> Void in
        if error == nil {

            for object in objects {

                var imageRelation: PFRelation = object.relationForKey("pictures")


                var query = imageRelation.query()
                query.orderByDescending("createdAt")

                query.findObjectsInBackgroundWithBlock {
                    (imageObjects: [AnyObject]!, error: NSError!) -> Void in
                    if error == nil {

                        var theArray = imageObjects as NSArray

                        var arrayDic = NSMutableDictionary()


                        let imageFile = theArray.objectAtIndex(0).objectForKey("image") as PFFile
                        imageFile.getDataInBackgroundWithBlock {
                            (imageData: NSData!, error: NSError!) -> Void in
                            if !(error != nil) {
                                let image = UIImage(data:imageData)
                                arrayDic.setValue(object.objectForKey("price"), forKey: "price")
                                arrayDic.setValue(image, forKey: "image")
                                itemArray?.addObject(arrayDic)

                            }
                        }


                    }
                }



            }

            dispatch_async(dispatch_get_main_queue()) {

                println(itemArray?.count)
                self.collectionView.reloadData()

            }
        } else {
            // Log details of the failure
            NSLog("Error: %@ %@", error, error.userInfo!)
        }
    }
}

