class Weak<T: AnyObject> {
    weak var value : T?
    init (value: T) {
        self.value = value
    }
}

protocol CSLocationServicesDelegate : class{

}


class conformance : CSLocationServicesDelegate{

}


class Dispatcher{
    var dispatchArray = Array<Weak<CSLocationServicesDelegate>>()

    func add( delegate : CSLocationServicesDelegate!){
        dispatchArray.append(Weak(value: delegate));
    }
    func remove(obj : CSLocationServicesDelegate!){
        dispatchArray.filter { (weakRef : Weak<CSLocationServicesDelegate>) -> Bool in
            return weakRef.value != nil; //change this line to "return true" and it works!!!

        }
    }
}

