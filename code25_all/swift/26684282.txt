class ViewController: UIViewController {

var dragableSquare = UIView()   // a square that will appear on press and be dragged around
var fence = UIView()            // a view that the square should be confined within

override func viewDidLoad() {
    super.viewDidLoad()

    // define the fence UIView and it to view
    fence.frame = CGRectMake(view.frame.width/2 - 100, view.frame.height/2 - 100, 200, 200)
    fence.backgroundColor = UIColor.grayColor()
    view.addSubview(fence)

    // give the fence a gesture recognizer
    var pressRecog = UILongPressGestureRecognizer(target: self, action: "longPress:")
    pressRecog.minimumPressDuration = 0.001
    fence.addGestureRecognizer(pressRecog)
}


func longPress(gesture: UILongPressGestureRecognizer) {
    print("press!")

    // get location of the press
    var touchPoint = gesture.locationInView(fence)

    // When the touch begins place the square at that point
    if gesture.state == UIGestureRecognizerState.Began {
        print("began")

        // create and add square to fence view
        dragableSquare.frame = CGRectMake(touchPoint.x-5, touchPoint.y-5, 10, 10)
        dragableSquare.backgroundColor = UIColor.blueColor()
        self.fence.addSubview(dragableSquare)


    // While the press continues, update the square's location to the current touch point
    } else {
        print("moving")
        dragableSquare.center = touchPoint
    }
}

