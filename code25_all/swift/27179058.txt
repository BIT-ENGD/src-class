import UIKit
import MapKit
import CoreLocation

class MapController: UIViewController, MKMapViewDelegate, CLLocationManagerDelegate {

@IBOutlet weak var mainMap: MKMapView!

var manager:CLLocationManager!

override func viewDidLoad() {
    super.viewDidLoad()

    manager = CLLocationManager()
    manager.delegate = self
    manager.desiredAccuracy = kCLLocationAccuracyBest
    manager.requestWhenInUseAuthorization()
    manager.startUpdatingLocation()

    var latitude  : CLLocationDegrees = 140.997086
    var longitude : CLLocationDegrees = 43.204067

    var latDelta:CLLocationDegrees = 0.01
    var longDelta:CLLocationDegrees = 0.01

    var homeSpan:MKCoordinateSpan = MKCoordinateSpanMake(latDelta, longDelta)

    var homeLocation:CLLocationCoordinate2D = CLLocationCoordinate2DMake(latitude, longitude)

    var theRegion:MKCoordinateRegion = MKCoordinateRegionMake(homeLocation, homeSpan)

    mainMap.setRegion(theRegion, animated: false)

    var annotation = MKPointAnnotation()

    annotation.coordinate = homeLocation

    annotation.title = "test"

    annotation.subtitle = "another test"

    mainMap.addAnnotation(annotation)


}

override func didReceiveMemoryWarning() {
    super.didReceiveMemoryWarning()
    // Dispose of any resources that can be recreated.

}

}

