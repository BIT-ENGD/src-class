MenuViewController
HomeViewController
MenuViewController
MenuViewController
MenuViewController
class var sharedInstance: MenuViewController {
    struct Static {
        static var instance: MenuViewController?
        static var token: dispatch_once_t = 0
    }
    dispatch_once(&Static.token) {
        Static.instance = UIStoryboard(name: "Main", bundle: nil).instantiateViewControllerWithIdentifier("MenuViewController") as? MenuViewController
    }
    return Static.instance!
}

func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
    if indexPath.row == 0 {
        if self.parentViewController! != homeVC {
            if homeVC == nil {
                homeVC = storyboardMain.instantiateViewControllerWithIdentifier("HomeViewController") as? HomeViewController
            }
            navController = UINavigationController(rootViewController: homeVC!)
            navController!.navigationBar.translucent = false
            navController!.extendedLayoutIncludesOpaqueBars = true
            self.presentViewController(navController!, animated: false, completion: nil)
        } else {
            homeVC?.hideMenu()
        }
    } else if indexPath.row == 1 {
        if self.parentViewController! != foodCraftsVC {
            if foodCraftsVC == nil {
                foodCraftsVC = storyboardMain.instantiateViewControllerWithIdentifier("FoodCraftsViewController") as? FoodCraftsViewController
            }
            navController = UINavigationController(rootViewController: foodCraftsVC!)
            navController!.navigationBar.translucent = false
            navController!.extendedLayoutIncludesOpaqueBars = true
            self.presentViewController(navController!, animated: false, completion: nil)
        } else {
            foodCraftsVC?.hideMenu()
        }
    }
}

override func viewWillAppear(animated: Bool) {
    super.viewWillAppear(false);

    for view in menuView.subviews {
        view.removeFromSuperview()
    }
    menuVC = MenuViewController.sharedInstance
    addChildViewController(menuVC!)
    menuView.addSubview(menuVC!.view)
    menuVC!.didMoveToParentViewController(self)
    menuVC!.homeVC = self
}

