let manager = UIStoryboard(name: "Main", bundle: nil).instantiateViewControllerWithIdentifier("FileDownloadHandler") as FileDownloadHandlerViewController

@IBAction func downloadManagerButtonPressed(sender: AnyObject) {

    let navController = UINavigationController(rootViewController: manager)
    let popover = UIPopoverController(contentViewController: navController)
    popover.popoverContentSize = manager.view.frame.size
    popover.presentPopoverFromBarButtonItem(sender as UIBarButtonItem, permittedArrowDirections: UIPopoverArrowDirection.Left | .Up, animated: true)

}

func addFileToFileHandler(notification: NSNotification){

    var fileObject:Files = notification.object as Files

    let fileurl = fileObject.url
    let filetitle = fileObject.filetitle
    let fileuuid = fileObject.fileuuid

// this is my global Files Dictionary
    arrFileDownloadData.append(FileDownloadInfo(fileuuid: fileuuid, title: filetitle, source: fileurl))

// Start first download automatically. (only for test, normally i know the cell index)
    manager.startDownload(0)

}

