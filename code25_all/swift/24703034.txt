import UIKit

class ShowParser : NSObject, UIWebViewDelegate
{
    var webView = UIWebView()

    init()
    {
        super.init()
        webView.delegate = self
        sendRequest()
    }

    funs sendRequest()
    {
        var requestUrl = NSURL(string: "<website>")
        var baseUrl = NSURL(string: "<website>")
        var nsurlRequest = NSMutableURLRequest(URL: requestUrl)
        nsurlRequest.HTTPMethod = "POST"
        nsurlRequest.setValue("application/x-www-form-urlencoded", forHTTPHeaderField: "Content-Type")
        var submitData = "submit=login&lastplace=&email=<username>&password=<password>"
        var requestBodyData = submitData.dataUsingEncoding(NSUTF8StringEncoding, allowLossyConversion: false)
        nsurlRequest.HTTPBody = requestBodyData
        var data = NSURLConnection.sendSynchronousRequest(nsurlRequest, returningResponse: nil, error: nil)
        var dataResultsString = NSString(data: data, encoding: NSUTF8StringEncoding)
        //println(dataResultsString)
        webView.loadHTMLString(dataResultsString, baseURL: baseUrl)
    }

    func webViewDidStartLoad(webView: UIWebView!)
    {
        println("Started Loading")
    }

    func webViewDidFinishLoad(webView: UIWebView)
    {
        println("Finished Loading")
    }
}

