func setupWebView(){

  webContent.tag = LOADSTATE

  webContent.hidden = true


  // Request to the entire webpage, in order to get the innerhtml of the #content div

  var websiteRequest = NSURLRequest(URL: NSURL(string: item.link)!)

  webContent.loadRequest(websiteRequest)


}



func webViewDidFinishLoad(webView: UIWebView) {

    switch(webView.tag as Int){

    case LOADSTATE:

        // Get the content from the webpage
        var html = webContent.stringByEvaluatingJavaScriptFromString("document.getElementById('content').innerHTML") as String!

        // Create an initial height for the webView
        webViewHeight.constant = CGFloat(100)

        // Load the html from the div 'content'.
         webContent.loadHTMLString(html,
            baseURL: nil)

        webContent.tag = SCALESTATE


        break

    case SCALESTATE:
        // Set scroll to false and the frame's height will be set to the current contentsize.
        webView.scrollView.scrollEnabled = false
        println("The content size is: \(webView.scrollView.contentSize.height)")
        webViewHeight.constant = webView.scrollView.contentSize.height

        webView.tag = VIEWSTATE
        break


    case VIEWSTATE:
        webContent.hidden = false

        break


    default:
            break

    }

