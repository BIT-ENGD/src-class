func splitViewController(splitController: UISplitViewController, willHideViewController viewController: UIViewController, withBarButtonItem barButtonItem: UIBarButtonItem, forPopoverController popoverController: UIPopoverController) {
    barButtonItem.title = "Master" // NSLocalizedString(@"Master", @"Master")
    self.navigationItem.setLeftBarButtonItem(barButtonItem, animated: true)
    self.navigationItem.setRightBarButtonItem(UIBarButtonItem(barButtonSystemItem: UIBarButtonSystemItem.Action, target: nil, action: nil), animated: true)
    self.masterPopoverController = popoverController
}

func splitViewController(splitController: UISplitViewController, willShowViewController viewController: UIViewController, invalidatingBarButtonItem barButtonItem: UIBarButtonItem) {
    // Called when the view is shown again in the split view, invalidating the button and popover controller.
    self.navigationItem.setLeftBarButtonItem(nil, animated: true)
    self.masterPopoverController = nil
}

