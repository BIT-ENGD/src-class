import Foundation
import CoreData

class Files: NSManagedObject {

    @NSManaged var localUrl: String
    @NSManaged var remoteUrl: String
    @NSManaged var type: String
    @NSManaged var translationFromAudio: NSSet
    @NSManaged var translationToAudio: NSSet
}

let entityDescription: AnyObject = NSEntityDescription.entityForName("Files", inManagedObjectContext: context)!

var request = NSFetchRequest(entityName: "Files")
request.predicate = NSPredicate(format: "remoteUrl == %@", urlString)
var file:Files


var results = context.executeFetchRequest(request, error: nil)! as NSArray

if results.firstObject != nil{
    file = results.firstObject as Files
}else{
file = Files(entity: entityDescription as NSEntityDescription, insertIntoManagedObjectContext: context)
}

file.remoteUrl = audioString
file.type = "Institutional"
//All the other properties on a file are optional, so I did not include them

