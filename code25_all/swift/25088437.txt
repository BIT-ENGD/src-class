override func tableView(tableView: UITableView!, didSelectRowAtIndexPath indexPath: NSIndexPath!) {
    let mo = self.fetchedResultsController.objectAtIndexPath(indexPath) as NSManagedObject

    if var x: NSMutableOrderedSet = mo.valueForKey("itemsTaken") as? NSMutableOrderedSet {
        x.addObject(detailItem)
        mo.setValue(x, forKey: "itemsTaken")
    }
    if var x: NSMutableOrderedSet = detailItem.valueForKey("takenFrom") as? NSMutableOrderedSet {
        x.addObject(mo)
        detailItem.setValue(x, forKey: "takenFrom")
    }
    (UIApplication.sharedApplication().delegate as AppDelegate).saveContext()
}

override func tableView(tableView: UITableView!, didDeselectRowAtIndexPath indexPath: NSIndexPath!) {
    let mo = self.fetchedResultsController.objectAtIndexPath(indexPath) as NSManagedObject


    if var x: NSMutableOrderedSet = mo.valueForKey("itemsTaken") as? NSMutableOrderedSet {
        x.removeObject(detailItem)
        mo.setValue(x, forKey: "itemsTaken")
    }
    if var x: NSMutableOrderedSet = detailItem.valueForKey("takenFrom") as? NSMutableOrderedSet {
        x.removeObject(mo)
        detailItem.setValue(x, forKey: "takenFrom")
    }

    (UIApplication.sharedApplication().delegate as AppDelegate).saveContext()


}

