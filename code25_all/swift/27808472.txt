class LabelBorder: UILabel {

    override func drawTextInRect(rect: CGRect) {
        let shadowOffset = self.shadowOffset
        let textColor = self.textColor

        let c = UIGraphicsGetCurrentContext()
        CGContextSetLineWidth(c, 1)
        CGContextSetLineJoin(c, kCGLineJoinRound)

        CGContextSetTextDrawingMode(c, kCGTextStroke)
        self.textColor = UIColor.blackColor()
        self.alpha = 0.35
        super.drawTextInRect(rect)

        CGContextSetTextDrawingMode(c, kCGTextFill)
        self.textColor = textColor
        self.shadowOffset = CGSizeMake(0, 0)
        self.alpha = 1.0
        super.drawTextInRect(rect)

        self.shadowOffset = shadowOffset
    }

}

class LabelBorderBtn: UIButton {


    // Only override drawRect: if you perform custom drawing.
    // An empty implementation adversely affects performance during animation.
    override func drawRect(rect: CGRect) {
        // Drawing code
        super.drawRect(rect)


        let shadowOffset = self.titleLabel?.shadowOffset
        let textColor = self.titleLabel?.textColor

        let c = UIGraphicsGetCurrentContext()
        CGContextSetLineWidth(c, 1)
        CGContextSetLineJoin(c, kCGLineJoinRound)

        CGContextSetTextDrawingMode(c, kCGTextStroke)
        self.titleLabel?.textColor = UIColor.blackColor()
        self.titleLabel?.alpha = 0.35
        self.titleLabel?.drawTextInRect(rect)

        CGContextSetTextDrawingMode(c, kCGTextFill)
        self.titleLabel?.textColor = textColor
        self.titleLabel?.shadowOffset = CGSizeMake(0, 0)
        self.titleLabel?.alpha = 1.0
        self.titleLabel?.drawTextInRect(rect)

        self.titleLabel?.shadowOffset = shadowOffset!
    }
}

