 var color : String = ""
 var colorSentDictionary = Dictionary<String, Int>()

 override func viewWillAppear(animated: Bool) {
    super.viewWillAppear(animated)

    // load colorSentDictionary
    self.loadColorSentDictionary()

}


func loadColorSentDictionary () {

    // load total messages sent
    var defaults : NSUserDefaults = NSUserDefaults.standardUserDefaults()
    if (defaults.dictionaryForKey("colorSentDictionary") != nil) {
        var colorSentDictionary : NSDictionary = defaults.dictionaryForKey("colorSentDictionary")!
        self.colorSentDictionary = colorSentDictionary as Dictionary
    }
}

func saveColorSentDictionary () {

    // save total messages received
    var defaults : NSUserDefaults = NSUserDefaults.standardUserDefaults()
    var colorSentDictionary : NSDictionary = self.colorSentDictionary
    defaults.setObject(colorSentDictionary, forKey: "colorSentDictionary")
    defaults.synchronize()


    if (defaults.dictionaryForKey("colorSentDictionary") != nil) {
        println("It is not nil !!!!!!!!!") } else { println("It is nil") }
}


@IBAction func sendMessage(sender : AnyObject) {

self.color = "Yellow"

println("The color of the message is: \(self.color)")

    // add value to messageSentDictionary
    if (self.colorSentDictionary["\(self.color)"] != nil) {
        var colorSentCount : Int = self.colorSentDictionary[self.color]!
        self.colorSentDictionary["\(self.color)"] = colorSentCount+1
        println("It exists")
    } else {
        self.colorSentDictionary["\(self.color)"] = 1
        println("Not exist")
    }

    self.saveColorSentDictionary()

    self.navigationController!.popToRootViewControllerAnimated(true)
}

