class MapViewController: UIViewController, CLLocationManagerDelegate, GMSMapViewDelegate {

    var distance: Float = 0.0

    //Called once a second
    func updateLocation() {
        if let mylocation = mapView.myLocation {
            self.distance += Distance(self.lastLocation, Coordinate2: mylocation.coordinate)
            println(self.distance)
            self.lastLocation = mylocation.coordinate
        }
    }
    func fetchValues(instrument: String) -> AnyObject {
        if instrument == "Distance" {
            return self.distance
        }
        else {
            return ""
        }
    }
}

class StatusViewController: UIViewController, UITableViewDataSource, UITableViewDelegate {

    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {

        let cell: StatusCell = tableView.dequeueReusableCellWithIdentifier("Cell", forIndexPath: indexPath) as StatusCell
        let value = MapViewController()
        if indexPath.row == 1 {
            var distance: Float = Float(value.fetchValues("Distance") as NSNumber)/1.852
            cell.InstrumentValue.text = distance.description + " Nm"
        }
    }

    override func viewWillAppear(animated: Bool) {
        TableView.reloadData()
    }
}

