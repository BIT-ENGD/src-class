let config = NSURLSessionConfiguration.defaultSessionConfiguration()
config.HTTPAdditionalHeaders = ["Accept": "application/json",
                                "Content-Type": "application/json",
                                "User-Agent": UIDevice.currentDevice().model]

let session = NSURLSession(configuration: config)

var request = NSMutableURLRequest(URL: NSURL(string: "http://WWWW/login/check"))
request.HTTPMethod = "POST"

let valuesToSend = ["email": self.email!, "password": self.password!]
var error: NSError?

let data = NSJSONSerialization.dataWithJSONObject(valuesToSend, options:NSJSONWritingOptions.PrettyPrinted, error: &error)
var err: NSErrorPointer?
if error == nil {

    let task = session.uploadTaskWithRequest(request, fromData: data, completionHandler: {data, response, error in

        if error == nil {
            println("DATA == \(NSString(data: data, encoding: NSUTF8StringEncoding))")
            println("response == \(response)")
        }

    })
    task.resume()

} else {
    println("Oups error \(error)")
}

public function check()
    {
        if($this->input->post('email')) {
            echo json_encode("YES");
        } else {
            echo json_encode("NO");
        }
    }

