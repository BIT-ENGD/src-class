import CoreFoundation
import CFNetwork

@objc class AppDelegate: UIResponder, UIApplicationDelegate {

    var window: UIWindow?

    func application(application: UIApplication, didFinishLaunchingWithOptions launchOptions: NSDictionary?) -> Bool {
        // Override point for customization after application launch.

        /* The server socket */
        var TCPServer: CFSocketRef

        /* The punchline to our joke */
        var punchline: CString = "To get to the other side! Ha ha!\n\r".cStringUsingEncoding(NSUTF8StringEncoding)

        /* Used by setsockopt */
        var yes: Int = 1

        /* Build our socket context; this ties the punchline to the socket */
        var CTX: CFSocketContext = CFSocketContext(version: CFIndex(0), info: punchline)

var CTX: CFSocketContext = withUnsafePointer(&punchline) { 
    (mptr : UnsafePointer<CString>) -> (CFSocketContext) in
        return CFSocketContext(version: CFIndex(0), info: COpaquePointer(mptr))
}

