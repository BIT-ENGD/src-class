self.button.layer.borderWidth = 1.0
self.button.layer.borderColor = self.button.tintColor?.CGColor
self.button.layer.cornerRadius = 5.0
self.button.layer.masksToBounds = true

self.button.setTitleColor(UIColor.whiteColor(), forState: UIControlState.Highlighted)
self.button.setBackgroundImage(self.imageWithColor(self.button.tintColor!, size: self.button.bounds.size), forState: UIControlState.Highlighted)

func imageWithColor(color: UIColor, size: CGSize) -> UIImage {
    UIGraphicsBeginImageContextWithOptions(size, true, 1.0)
    color.setFill()
    var bounds = CGRectMake(0, 0, size.width, size.height)
    UIRectFill(bounds)

    let image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext()

    return image;
}

