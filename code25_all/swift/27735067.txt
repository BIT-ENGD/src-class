import UIKit
import AVFoundation

class ViewController: UIViewController {

let image0 = UIImage(named: "button.png")
let image1 = UIImage(named: "buttonPressed.png")

var sound = NSURL(fileURLWithPath: NSBundle.mainBundle().pathForResource("sound", ofType: "m4a")!)
var player = AVAudioPlayer()

@IBOutlet weak var clicker: UIButton!

@IBAction func clickerPressed(sender: UIButton) {

    sender.setImage(image1, forState:.Highlighted)

    player.stop()
    player.currentTime = 0
    player.play()

}

override func viewDidLoad() {
    super.viewDidLoad()

    clicker.setImage(image0, forState:.Normal)
    clicker.setImage(image1, forState:.Highlighted)

    player = AVAudioPlayer(contentsOfURL: sound, error: nil)
    player.prepareToPlay()

}

override func didReceiveMemoryWarning() {
    super.didReceiveMemoryWarning()

}

