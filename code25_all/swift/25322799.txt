    @IBAction func tapHereTapped(sender: AnyObject) {
    if sheetOrControllerButton.selectedSegmentIndex == 0 {
        var actionSheet = UIActionSheet()
        actionSheet.addButtonWithTitle("Choice 1")
        actionSheet.addButtonWithTitle("Choice 2")
        actionSheet.addButtonWithTitle("Choice 3")
        actionSheet.addButtonWithTitle("Choice 4")
        actionSheet.addButtonWithTitle("Cancel")
        if UIDevice.currentDevice().userInterfaceIdiom == UIUserInterfaceIdiom.Pad {
            actionSheet.addButtonWithTitle("Dummy")
            let systemVersion = UIDevice.currentDevice().systemVersion
            if NSString(string: UIDevice.currentDevice().systemVersion).doubleValue >= 8 {
                //actionSheet.cancelButtonIndex = 4
                //actionSheet.cancelButtonIndex = 5
            } else {
                actionSheet.cancelButtonIndex = 4
            }
        } else {
            actionSheet.cancelButtonIndex = 4
        }
        actionSheet.title = "Pick a Number"
        actionSheet.delegate = self
        actionSheet.showInView(self.view)
    } else {
        var actionSheet:UIAlertController

        if sheetOrControllerButton.selectedSegmentIndex == 1 {
            actionSheet = UIAlertController(title: "Pick a Number", message: "Why?", preferredStyle: UIAlertControllerStyle.Alert)
        } else {
            actionSheet = UIAlertController(title: "Pick a Number", message: "Why?", preferredStyle: UIAlertControllerStyle.ActionSheet)
            if UIDevice.currentDevice().userInterfaceIdiom == UIUserInterfaceIdiom.Pad {
                var button = sender as UIButton
                actionSheet.popoverPresentationController?.sourceRect = button.bounds
                actionSheet.popoverPresentationController?.sourceView = button.viewForBaselineLayout()
            }
        }
        actionSheet.addAction(UIAlertAction(title: "Choice 1", style: UIAlertActionStyle.Default, handler: { (action :UIAlertAction!)in
            println("Picked 1")
        }))
        actionSheet.addAction(UIAlertAction(title: "Choice 2", style: UIAlertActionStyle.Default, handler: { (action :UIAlertAction!)in
            println("Picked 2")
        }))
        actionSheet.addAction(UIAlertAction(title: "Choice 3", style: UIAlertActionStyle.Default, handler: { (action :UIAlertAction!)in
            println("Picked 3")
        }))
        if UIDevice.currentDevice().userInterfaceIdiom == UIUserInterfaceIdiom.Pad {
            actionSheet.addAction(UIAlertAction(title: "Cancel", style: UIAlertActionStyle.Default, handler: { (action :UIAlertAction!)in
                println("Canceled")
            }))
        } else {
            actionSheet.addAction(UIAlertAction(title: "Cancel", style: UIAlertActionStyle.Cancel, handler: { (action :UIAlertAction!)in
                println("Canceled")
            }))
        }
        self.presentViewController(actionSheet, animated: true, completion: nil)
    }
}

func actionSheet(theActionSheet: UIActionSheet!, clickedButtonAtIndex buttonIndex: Int) {
    if (buttonIndex == 0) {
        println("Picked 1")
    } else if buttonIndex == 1 {
        println("Picked 2")
    } else if buttonIndex == 2 {
        println("Picked 3")
    } else if buttonIndex == 3 {
        println("Picked 4")
    } else if buttonIndex == 4 {
        println("Canceled")
    } else {
        println("What??")
    }
}

