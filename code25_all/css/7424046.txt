$(document).ready(function(){

var service = $(".service"), 
    text = $(".service-text, h1.service-heading"), 
    moretext = $(".more-text"); 

$(".learn").toggle( function () {
    $(service).removeClass("active");
    $(this).parent().find(service).addClass("active");
},
function() {
    $(this).parent().find(service).removeClass("active");
});


$(".learn").toggle(
    function() {
        $(this).parent().find(service).animate({ backgroundColor : "#000000" }, 800);
        $(this).animate({ backgroundColor : "#FFFFFF" }, 800);
        $(this).parent().find(text).animate({ color: "#FFF"}, 800);
        $(this).parent().find("span.more").animate({ color : "#000000" }, 800, function () {
            $(this).parent().parent().find(".service").animate({ height : "500px"}, 800, function () {
                $(this).find(moretext).show().animate({ color: "#FFFFFF"}, 800);            
                $(this).parent().find("span.more").animate({ color : "#FFF"}, 800, function () {
                    $(this).hide();
                    $(this).parent().find("span.less").show( function () {
                        $(this).animate({ color: "#000000"}, 800);
                    });
                });
            });
        });
    },
    function() {
        $(this).parent().find(service).animate({ backgroundColor : "#FFFFFF" }, 800, function () {
            $(this).parent().find(moretext).hide().css({ color: "#000000"});
        });
        $(this).animate({ backgroundColor : "#000000" }, 800);
        $(this).parent().find(text).animate({ color: "#000000"}, 800);
        $(this).parent().find("span.less").animate({ color: "#FFFFFF"}, 800, function() {
            $(this).parent().parent().find(service).animate({ height: "180px"}, 800, function () {
                $(this).parent().find("span.less").animate({ color: "#000000"}, 800, function () {
                    $(this).hide();
                    $(this).parent().find("span.more").show( function () {
                        $(this).animate({ color: "#FFFFFF"}, 800);
                    });
                });
            });
        });
    });
});

