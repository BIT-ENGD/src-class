// a Customer has many Orders; show them together in one view:
function(doc) {
  if (doc.Type == "customer") {
    emit([doc._id, 0], doc);
  } else if (doc.Type == "order") {
    emit([doc.customer_id, 1], doc);
  }
}

customer
Order
?startkey=["some_customer_id"]&endkey=["some_customer_id", 2]

2
?startkey=["some_customer_id"]&endkey=["some_customer_id", {}]

{}
startkey=["foo"]&endkey=["foo",{}]
["foo","bar"]
["foo",["bar","baz"]]
["foo",{"an":"object"}]
{}
