var elems = elem.getElementsByTagName('a');
var cntr = 0;
for(var a in elems) {
  AttachEvent(elems[cntr], 'click', function(e) {
    this.reporturl = this.href;
    document.getElementById('reportpopup').style.visibility = "visible";
    return false;
  });
}

function AttachEvent(obj,evt,fnc,useCapture){
    if (!useCapture) useCapture=false;
    if (undefined == obj || null == obj) 
        return;
    if (obj.addEventListener){
        obj.addEventListener(evt,fnc,useCapture);
        return true;
    } else if (obj.attachEvent) return obj.attachEvent("on"+evt,fnc);
    else{
        MyAttachEvent(obj,evt,fnc);
        obj['on'+evt]=function(){ MyFireEvent(obj,evt); };
    }
} 

this.href
getElementsByTagName
