<html>

<head>
<script type="text/javascript">

function createRequestObject() {
var ro
var browser = navigator.appName
if(browser == "Microsoft Internet Explorer"){
    ro = new ActiveXObject("Microsoft.XMLHTTP")
}else{
    ro = new XMLHttpRequest()
}
return ro
}

var http = createRequestObject()

function sndReq() {

http.open('get', 'js2lab5.xml', true)
http.onreadystatechange = handleResponse
http.send(null)
 }

function handleResponse() {

if(http.readyState == 4){

    var response = http.responseXML.documentElement

if (nameobj[0].firstChild.data == document.getElementById("first").value){

    addressobj = listings[i].getElementsByTagName("ADDRESS")
    phoneobj = listings[i].getElementsByTagName("PHONE")
           imgobj = listings[i].getElementsByTagName("IMAGE")


           document.getElementById("address").innerHTML = addressobj[0].firstChild.data
           document.getElementById("phone").innerHTML = phoneobj[0].firstChild.data
           document.getElementById("photo").innerHTML = "<img src=' " + imgobj[0].firstChild.data + " ' />"


          }
     }
  }
}

</script>
</head>

<body>
<form id="search">
  <input type="text" id="first" />
  <input type="button" value="Search Phonebook" onClick="sndReq()" />
</form>
  <div id="address"></div>
  <div id="phone"></div>
  <div id="photo"></div>
</body>

</html>

<?xml version="1.0"?>
<!DOCTYPE PHONEBOOK>
<PHONEBOOK>
   <LISTING>
      <FIRST>John</FIRST>
      <LAST>Smith</LAST>
      <PHONE>1-800-123-4567</PHONE>
      <ADDRESS>320 E. John St, Champaign IL 61820</ADDRESS>
      <IMAGE>smith.jpg</IMAGE>
   </LISTING>
</PHONEBOOK>

