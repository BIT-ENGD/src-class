function addRow(id, sender, message){
  var theTable = document.getElementById('messageTable');
  var lastRow = theTable.rows.length;
  var newRow = theTable.insertRow(lastRow);
  newRow.id = id;

  var cellLeft = newRow.insertCell(0);
  var textNode = document.createTextNode(id);
  cellLeft.appendChild(textNode);

  var secondCell = newRow.insertCell(1);
  var textNode2 = document.createTextNode(sender);
  secondCell.appendChild(textNode2);

  var messageCell = newRow.insertCell(2);
  var messageNode = document.createTextNode(message);
  messageCell.appendChild(messageNode);

  var viewCell = newRow.insertCell(3);
  var viewNode = document.createElement('button');
  viewNode.value = 'View';
  viewNode.onclick = function(){
    alert('clicked: ' + id);
  };
  viewCell.appendChild(viewNode);
}

