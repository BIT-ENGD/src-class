unbeforeunload
    // In index.html on www.example.com:
    window.fn = function () { /* Perform stuff after foo.html has closed */ }

    // In foo.html on home.example.com:
    window.onbeforeunload = function () {
        if (window.opener && window.opener.fn)
            window.opener.fn();
    };

document.domain
document.domain = "example.com";

var src = (window.location.protocol == 'https:') ? something : other;

location
window.location.protocol
location
window.location.protocol
document.domain
