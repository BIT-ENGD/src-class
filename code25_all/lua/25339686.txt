local socket = require("socket");
local connect, error = socket.connect('127.0.0.1', 1337);

if (connect == nil) then
    print('Connection error: ' .. error);
    return false;
end

print('Connected');

var net     = require('net'),
    server  = net.createServer()
;

server.on('connection', function(socket) {
    console.log('New client: ' + socket.remoteAddress + ':' + socket.remotePort);
});

server.listen(1337);

New client: 127.0.0.1:PORT
info: handshake authorized SOCKET_ID
