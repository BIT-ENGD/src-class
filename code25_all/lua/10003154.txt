function my_callback( )
    ....
end


setCallback("my_callback")

time_limit = os.time() + 20

while (os.time() < time_limit) do

 -- I want my_callback to be callable in this loop for 20 seconds only

end

