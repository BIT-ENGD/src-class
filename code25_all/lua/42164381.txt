    function WriteToFile(String)
        local path = system.pathForFile("R@T.txt",      system.DocumentsDirectory)
        print("Path") -- Just to try and determine the origin of the crash
        local File, ErrorString = io.open(path, "W")
        print("File") 
        if not File then
            print('File error: ' .. ErrorString)
        else
            print("else")
            File:write(String)
            io.close(File)
        end

        File = nil
     end

     function ReturnInput( Key )
         if Key.phase == 'down' then
         print(Key.keyName)
         WriteToFile(tostring(Key.keyName))
      end
   end

   Runtime:addEventListener('key', ReturnInput)

