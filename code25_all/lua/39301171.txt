physics.setGravity( 0, 0 )

fireBullets = function (  )
    local bullet = display.newRect( sceneGroup,0,0, 40, 40 )
    bullet:setFillColor( 0, 1, 0 )

    local h = player.height
    local posX = h * math.sin( math.rad( player.rotation ))
    local posY = h * math.cos( math.rad(player.rotation ))
    bullet.x = player.x + posX
    bullet.y = player.y - posY
    bullet.rotation = player.rotation

    local angle = math.rad( bullet.rotation )
    local xDir = math.cos( angle )
    local yDir = math.sin( angle )

    physics.addBody( bullet, "dynamic" )
    bullet:setLinearVelocity( xDir * 100, yDir * 100)
end

