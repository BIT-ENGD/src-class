require "scripts.player"
require "scripts.bullet"

function love.load()
bulletShoot = love.graphics.newImage("pics/bullet.png")
playerPic = love.graphics.newImage("pics/player.png")
background = love.graphics.newImage("pics/background.jpg")
player_load()
bullet.load()
end

function love.update(dt)
player_update(dt)
bullet.update(dt)
end

function love.draw()
love.graphics.draw(background, 0, 0)
bullet.draw()
player_draw()
end

function player_shoot(dt)
playerShootTimer = playerShootTimer * dt
if(playerShootTimer > playerShootTimerLim) then
    if love.keyboard.isDown("space")then
        bullet.spawn(playerX + (playerWidth / 2) - (bullet.width / 2), playerY)
    end
  end
end

function player_update(dt)
player_move(dt)
player_boundary()
player_shoot(dt)
end

function bullet.spawn(x,y)
table.insert(bullet, {x = x, y = y})
end

function bullet.draw()
for i,v in ipairs(bullet) do
    love.graphics.draw(bulletShoot, v.x, v.y, bullet.width, bullet.height)
end
end

