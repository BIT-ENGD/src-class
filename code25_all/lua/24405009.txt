import java.net.*;
import java.io.*;
public class server {
    public static void main(String args[]) throws Exception {
        ServerSocket server = null;
        Socket client = null;
        PrintStream out = null;
        BufferedReader buf = null;
        server = new ServerSocket(8000);
        client = server.accept();
        buf = new BufferedReader(
                new InputStreamReader(client
                  .getInputStream()));
        out = new PrintStream(
                client.getOutputStream());
        String str = buf.readLine();
        out.println("Echo:"+str);
        System.out.println("HELLO"+str);
        out.close();
        client.close();
    }
};

local socket = require("socket")

local host = "127.0.0.1"
local port = 8000
local sock = assert(socket.connect(host, port))
sock:settimeout(10)

print("Press enter after input something:")

local input, recvt, sendt, status
input = io.read()
if #input > 0 then
    assert(sock:send(input .. "\n"))
end
local response, receive_status = sock:receive()
print(response)

