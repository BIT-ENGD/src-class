local expression = atlaschat.expression.New("< hsv >(.-)< /hsv >")

function expression:Execute(base, text)
    local label = atlaschat.GenericLabel()
    label:SetParent(base)
    label:SetText(text)
    label:SetColor(color_white)
    label:SizeToContents()

    label.color = color_white

    function label:Think()
        local hue = math.abs(math.sin(CurTime() *0.9) *335)

        self.color = HSVToColor(hue, 1, 1)

        self:SetColor(self.color)
    end

    return label
end

function expression:GetExample(base)
    local label = base:Add("DLabel")
    label:SetText("This is a hsv text")
    label:SetColor(color_white)
    label:SizeToContents()

    label.color = color_white

    function label:Think()
        local hue = math.abs(math.sin(CurTime() *0.9) *335)

        self.color = HSVToColor(hue, 1, 1)

        self:SetColor(self.color)
    end

    return "<hsv>This is a hsv text</hsv>", label
end

ply:IsUserGroup("owner")
