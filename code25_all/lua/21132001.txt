ServiceStack.Redis
argv[1]
argv[2]
string strScript = " local intCurrentVal = redis.call('GET', '' .. ARGV[1] .. ''); \n"
   + "if (tonumber(intCurrentVal) <= 0 ) then return 1  elseif (  (tonumber(intCurrentVal)) - (tonumber('' .. ARGV[2] .. '')) < 0 ) then return 0 end;"
   + "local intUpdatedVal = redis.call('SET', '' .. ARGV[1] .. '',( intCurrentVal -  tonumber('' .. ARGV[2] .. '')));"
   + "local intCurr = redis.call('GET',  '' .. ARGV[1] .. ''); return intCurr";

