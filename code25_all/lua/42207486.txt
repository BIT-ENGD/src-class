**--[[
Coronaï¿½ AutoLAN v 1.2
Author: M.Y. Developers
--]]

local socket = require "socket"

-- Check if this is socket 2 or later
local isSocket2 = (string.match( require("socket")._VERSION, "LuaSocket 2" ) ~= nil )

local forceIPV4     = true

local socketudp4    = (isSocket2) and socket.udp or(socket.udp6 or socket.udp4 or socket.udp) 

local socketTCP     = (isSocket2) and socket.tcp or(socket.tcp6 or socket.tcp4 or socket.tcp) 

if( forceIPV4 and isSocket2 == false ) then
    socketudp4  = socket.udp4 or socket.udp 
    socketTCP   = socket.tcp4 or socket.tcp
end

local ipv6Test = true
if( isSocket2 == false ) then
    local socketTest1 = socket.udp6()
    socketTest1:setpeername( "google.com", 54613 )
    local testPeerIP = socketTest1:getsockname()
    if (testPeerIP == "::") then
        ipv6Test = false
    end
end
local UDPServer = socketudp4()
UDPServer:setsockname("*", 0) --bind on any availible port and localserver ip address.
local myIP, myPort = UDPServer:getsockname()
local UDPBroadcaster = socketudp4()
UDPBroadcaster:setoption("broadcast", true)


UDPBroadcaster:setsockname("*", 0) --bind on any availible port and localserver ip address.*****

