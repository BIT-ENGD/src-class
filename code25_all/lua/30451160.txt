function getsubindex(varname,index)
    local tbl = {}
    tbl.first = 99
    tbl.subTbl = {10,20,30}

    if not index then
        return tbl[varname]
    else
        return tbl[varname[index]]
    end
end

tbl[varname]
getsubindex("first")

99
getsubindex("subTbl",2)

20
