function ok_cb(extra, success, result)
end

function wait(seconds)
    local start = os.time()
    repeat until os.time() > start + seconds
end

function on_msg_receive (msg)
    if msg.out then
        return
    end
    if (string.find(msg.text, 'Hi there!')) then
        wait(1)
        send_msg (msg.from.print_name, 'Hello', ok_cb, false)
    else
        --do nothing
    end
end

function ok_cb(extra, success, result)
end

function wait(seconds)
    local start = os.time()
    repeat until os.time() > start + seconds
end

function on_msg_receive (msg)
    if msg.out then
        return
    end
    if (string.find(msg.text, 'Hi there!')) then
        wait(1)
        send_msg (msg.from.print_name, 'Hello', ok_cb, false)
        wait(3)                                                --new command
        send_msg (msg.from.print_name, 'World!', ok_cb, false) --new command
    else
        --do nothing
    end
end

