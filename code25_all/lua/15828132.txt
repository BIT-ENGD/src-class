local function onEveryFramePoop()
if(foodBalls) then
    for i = foodBalls.numChildren, 1, -1 do
        local ball = foodBalls[i]

        if(ball.y > 200 and not(ball.isBeingPooped)) then
            ball.isBeingPooped = true

            local function tempRemove()
                if(foodBalls.numChildren)then
                    ball:removeSelf()
                    ball = nil
                    print("removed")
                end
            end
            physics.removeBody(ball)

            transition.to(ball, {time = 2000, y = 400, onComplete = tempRemove})
            audio.play(fartSound)
        end
    end

    if(foodBalls.numChildren == 0 and food.numChildren == 2) then

        reward.playRewardAnimation()
        Runtime:removeEventListener("enterFrame", onEveryFramePoop)     
        timer.performWithDelay(2500, reloadSceneWithDelay)  
    end
  end
end

function reloadSceneWithDelay()
     storyboard.gotoScene("levels.levelDigestion") -- **HERE I WANT TO RESTART SCENE**
end

