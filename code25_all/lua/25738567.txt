local vungleInterstitial = "540e9681c7ec2b6d4400000e" 
local videoCompletedCallback=nil


videoAddListener=function( event )

    if (event.isError ) then
        --Cached video ad not available for display
        print("problem to show ad")
    elseif event.type == "cachedAdAvailable" then
        print("cachedAdAvailable")
    elseif tostring(event.type) == "adView" then
        print("called when add is viewed")
    elseif  event.type == "adStart" then
        print("Corona ads started")
        audio.pause()
    elseif event.type == "adEnd" then
        print("Corona ads ended")
        videoCompletedCallback()
        audio.resume()
    end
end


    showVideoAd = function(callbackFunc)
        print("showVideoAd function called")
        videoCompletedCallback=callbackFunc;
        if ( vads.isAdAvailable() ) then
            print(" if ( vads.isAdAvailable() ) then, is true")
            print("vads.show")
            vads.show( "interstitial", { isBackButtonEnabled = false } )
        else
             local alert = native.showAlert( "Video Ad", "The Video Ad is not available at the moment. Please Try after some time.", { "OK" } )
        end 
    end

    vads.init("vungle",vungleInterstitial,videoAddListener)

