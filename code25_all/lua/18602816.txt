function readFile(file)
    local file = io.open(file,"rb")
    local content = file:read("*all")
    file:close()
    return content

lua: io.lua:3: attempt to index local 'file' (a nil value)
stack traceback:
    io.lua:3: in main chunk
    [C]: ?
exit code: 1

function readFile(filename)
    local file = io.open(filename,"rb")
    local content = file:read("*a")
    file:close()
    return content
end

readFile("test.txt")
print(content)

lua -e "io.stdout:setvbuf 'no'" "io.lua" 
nil
Exit code: 0

