stdout
function progress(completed)
  io.write(completed.."\r")
  io.flush()
end

progress("1% completed"); progress("50% completed")

stdout
sys.stdout.write(' ' * 50 + '\r')
sys.stdout.write(text + '\r')
sys.stdout.flush()

stdout
function iop(str)
  io.write(string.format("%050s\r", ' '))
  io.write(str)
  io.flush()
end

