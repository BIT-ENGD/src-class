function createRect(x, y, w, h)
  local rect = {
    type = "rect",
    x = x,
    y = y,
    w = w,
    h = h,
    translate = function(rect, vector)
      assert(vector.type == "vector2d")
      local rect = shapes.createRect(rect.x + vector.x, rect.y + vector.y, rect.w, rect.h)
    end,
  }

  return rect
end

translate = function(rect, vector)
  assert(vector.type == "vector2d")
  local rect = shapes.createRect(rect.x + vector.x, rect.y + vector.y, rect.w, rect.h)
end

local o = createRect(2,3,4,5)
local q = createRect(2,3,4,5)

print(o.translate, q.translate, translate)

o
q
translate()
function: 0x7fcdbe600d50        function: 0x7fcdbe600d50        function: 0x7fcdbe600d90 

o.translate
q.translate
