local path = system.pathForFile( "scoredata.txt", system.DocumentsDirectory )

function read_score()
local f1 = io.open (path, "w")
local f2 = io.open(path, "r")
highScore = f2:read( "*n" )
if highScore==nil  -- Initial value of score is 0 and "score" is the in-game score counter.
    then highScore=0
end
if score>highScore
        then
    highScore=score 
    f1:write(highScore)     
    disp_permScore()
    else
    disp_permScore() 
end
io.close(f1)
io.close(f2)
end

function disp_permScore()  -- Function to display the highscore
text_display2= display.newText("BEST: " .. highScore, 0, 0, "Helvetica", 90)
    text_display2.x = centerX
    text_display2.y = centerY + 80
    text_display2.alpha=1 
end

function gameOver() --this function is invoked after game is over
read_score()
local bg= display.newImage("bgpng.png")
end

