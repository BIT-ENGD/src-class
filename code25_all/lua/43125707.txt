fs
require 'torch'
require 'nn'

local model = nn.Sequential()
model:add(nn.Linear(1, 1)) -- Simple linear regression with one input (measured height) and one output (thrust)

local criterion = nn.MSECriterion -- Simple mean squared error loss function.

heigh_ref = 1

function height_measurement_callback(height_meas)
    local thrust = model:forward(height_meas)

    criterion:forward(height_meas, heigh_ref) -- ??
    local grad = criterion:backward(height_meas, heigh_ref) -- ??
    model:backward(height_meas, grad) -- ??

    return thrust
end

