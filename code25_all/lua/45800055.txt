local http = require("socket.http")
local ltn12 = require("ltn12")
json = require "sys\\lua\\json"
file, err = io.open("C:\\ProgramData\\SteelSeries\\SteelSeries Engine 3\\coreProps.json", "r")
  if err then print(err) end
  alltext = file:read("*a")
  decoded = json.decode(alltext)
for k,v in pairs(decoded) do
print(k,v)
end


function sendRequest()

local payload = [[ {
{
   "game": "TEST_GAME",
   "game_display_name": "My testing game",
   "icon_color_id": 5
} ]]


local response_headers, status = http.request { 
url = "http://127.0.0.1:64620/game_metadata",
method = "POST",
 headers =
{
  ["Content-Type"] = "application/json"
},
  sink = ltn12.sink.table(payload)
}
end

sendRequest()

