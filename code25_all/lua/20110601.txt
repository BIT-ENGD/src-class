X-Archive-Files: zip
location /a/ {
    more_set_headers 'X-Archive-Files: zip';
}

X-Archive-Files: zip
1034ab38 428    /data/foo.txt   Document1.txt
83e8110b 100339 /data/bar.txt   Textfile.txt

content_by_lua '

  local content = { "- 0  /data/12.txt 1.txt" }
  ngx.print(content)

';

<?php

header("X-Archive-Files: zip");
header("Content-Disposition: attachment; filename=Arch.zip");
echo "- 0  /data/12.txt 1.txt";

?>

