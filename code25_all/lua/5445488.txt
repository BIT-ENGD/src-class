rules =
{
    {"S_RIGHT", "A_STOP", "S_RESULT"},
}

matrix = {}

for _,v in pairs(rules) do

    if( matrix[ v[1] ] == nil ) then
        matrix[ v[1] ] = {}
    end

    matrix[ v[1] ][ v[2] ] = v[3]
end

-- results in error ( attempt to index field 'S_NO' a nil value)
var = matrix["S_NO"]["S_RESULT"] 

assert(var == nil, "Var should be nil")

var = matrix["S_NO"]

if var ~= nil then
    var = var["S_RESULT"] 
end

assert(var == nil, "Var should be nil")

