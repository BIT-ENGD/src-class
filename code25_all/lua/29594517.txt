redis.call('HMGET',[key],...)
redis.call
127.0.0.1:6379[1]> hmget fenwick 1 2 3 4 ...
1) "0.75865226460558"
2) "1.0234678955857959"
3) "0.057608450324092272"
4) "1.1002286486794375"
...

entryid
local sum=0
while entryid>0 do
    sum=sum+redis.pcall('HGET',KEYS[1],temp)
    entryid=entryid-bit.band(entryid,-entryid)
end

HMGET
local evalstr="return redis.pcall('HMGET',KEYS[1]"
local sum=0
while entryid>0 do
    evalstr=evalstr..','..temp
    entryid=entryid-bit.band(temp,-temp)
end
local vals=loadstring(evalstr..')')()
for i=1,#vals do
    sum=sum+vals[i]
end

fenwick
local tbl={}
local c=1
while temp>0 do
    tbl[c]=temp
    c=c+1
    temp=temp-bit.band(temp,-temp)
end
local vals=redis.pcall('HMGET',KEYS[1],tbl)
local sum=0
for i=1,#vals do
    sum=sum+vals[i]
end

