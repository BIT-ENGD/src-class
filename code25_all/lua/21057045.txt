local sheetData1 = { width=175, height=294, numFrames=11, sheetContentWidth=1925, sheetContentHeight=294}
local sheet1 = graphics.newImageSheet( "guy.png", sheetData1 )

local sheetData2 = { width=220, height=294, numFrames=4, sheetContentWidth=880, sheetContentHeight=294 }
local sheet2 = graphics.newImageSheet( "guy2.png", sheetData2 )

local sheetData3 = { width=261, height=300, numFrames=8, sheetContentWidth=2088, sheetContentHeight=300 }
local sheet3 = graphics.newImageSheet( "guy3.png", sheetData3 )

local sequenceData = {          
{ name="walk", sheet=sheet1, start=5, count=4, time=800, loopCount=0 },
{ name="idle", sheet=sheet1, frames={ 1,2,3,4 }, time=2000, loopCount=0 },
{ name="punch", sheet=sheet2, start=1, count=4, time=400, loopCount=1 },
{ name="kick", sheet=sheet3, start=1, count=4, time=400, loopCount=1 },
{ name="kick2", sheet=sheet3, start=5, count=4, time=400, loopCount=1 },
{ name="jump", sheet=sheet1, start=9, count=3, time=400, loopCount=1 }
}

guy = display.newSprite( group, sheet1, sequenceData )
physics.addBody( guy, "static", { friction=0.5, bounce=0 } )
guy.x = 600
guy.y = 600

local function idlePose()
guy:setSequence( "idle" )
guy:play()

end

local btn1 = display.newImage ("button1.png")
btn1.x = 1100
btn1.y = 510
btn1:scale (1.5,1.5)
btn1.alpha=0.5
group:insert( btn1 )

local function onTap( event )

if guy.sequence == "punch" and guy.isPlaying == true then
print("isplaying")
return
else
print("notplaying")
guy:setSequence( "punch" )
guy:play()
timer.performWithDelay(400, idlePose)
end
end
btn1:addEventListener("tap", onTap)

