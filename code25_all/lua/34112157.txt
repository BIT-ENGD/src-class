webView:setNativeProperty( "allowsInlineMediaPlayback", true )

local webView = native.newWebView( display.contentCenterX, display.contentCenterY, display.contentWidth, display.contentHeight )
webView:setNativeProperty( "allowsInlineMediaPlayback", true )
webView:setNativeProperty( "mediaPlaybackRequiresUserAction", false )
webView:request( "example_full.html", system.ResourceDirectory )

local function webViewListener(event)    
  if event.type then
    print( "The event.type is " .. event.type ) -- print the type of request
    if (event.type == "other") then
      if event.url == "js-call:myEvent" then
        print("ciao")
        webView:removeSelf()
        webView = nil
      end
    end
  end
  if event.errorCode then
    native.showAlert( "Error!", event.errorMessage, { "OK" } )
  end
end
   webView:addEventListener( "urlRequest", webViewListener )

<!DOCTYPE html>
<html>
<head>
    <title>HTML5 InStream Ad Framework - Simple Video Page</title>
    <script type="text/javascript" src="instreamapi-2.1.2.min.js"></script>
</head>
<body>
<div style="position:relative">
    <video id="vid1" width="100%" height="100%" style="background-color:black" poster="http://cdn.smartclip.net/html5framework/smartclip_multisreen.png" controls url="" playsinline webkit-playsinline>
           <source src="media/bbb_trailer_iphone.mp4" type="video/mp4"/>
        <source src="media/bbb_trailer_iphone.ogv" type="video/ogg"/>
        <source src="media/bbb_trailer_iphone.webm" type="video/webm"/>
    </video>
</div>
<script type="text/javascript" language="javascript"> 
    window.onload = (function () {
                    var myAdConfig = {
                    preroll: 'http://des.smartclip.net/ads?t=de&p=9372&pl=testc&test=ms_vast2_socialmenu&sz=400x320&rnd=[random]',
                    overlayDelay:3,
                    overlayDuration:25,
                    adCountdownText:'This ad remains [time] seconds',
                     onFinish: function()
                        {
                            //console.log("ciao");
                            //window.location = "js-call:myObjectiveCFunction"
                            window.location.href = "js-call:myEvent";
                        }
                    }

                    $ad('vid1', myAdConfig).start();
    });
</script> 
</body>
</html>

