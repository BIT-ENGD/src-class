function addAlien()
    listeners('add')
end

function listeners(action)
    if(action == 'add') then
    Runtime:addEventListener('enterFrame',update)
enemyTimer = timer.performWithDelay(800,addEnemy,0)
    else
    Runtime:removeEventListener('enterFrame',update)
timer.cancel(enemyTimer)
  end
end

function addEnemy(e)
    enemy = display.newImage('drone.png')
    enemy.x = 500
    enemy.y = math.floor(math.random()*300)
    enemy:scale(-0.1,0.1)
    enemy.speed = math.random(2,6)
    enemies.insert(enemies,enemy)
    enemy.enterFrame = moveEnemy
    Runtime:addEventListener('enterFrame',enemy)
end

function moveEnemy(self,event) 
        --if self.x < 100 then
    ---self:removeSelf()
    --self = nil
    --removeSelf()
    --else
    self.x = self.x-self.speed
    --end
    end


function update(e)

       if(enemies.numChildren ~= 0)then
       for i = 1,enemies.numChildren do
       if(enemies[i] ~= nil)then
       --enemies[i].x = enemies[i].x-3
   if(enemies[i].x<100)then
   --enemies:remove(enemies[i])
   --display.remove(enemies[i])
   --enemies[i] = nil
       end
        end
     end
   end
end

