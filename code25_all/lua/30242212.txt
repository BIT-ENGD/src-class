2015-02-23  190   170   131   14  8   9   130 85  102.0   12  68
2015-02-24  165   128   97    14  7   6   110 75  101.7   12  64
2015-02-25  160   123   129   11  5   7   130 85  101.3   12  68
2015-02-26  151   115   128   11  nan 7   120 80  100.9   12  64
2015-02-27  141   119   130   11  4   nan 130 85  101.6   12  68
2015-02-28  142   137   143   nan nan nan 120 80  101.2   12  64

local infile = arg[1]
local outfile = arg[2]
local column = tonumber(arg[3])
local data = {}
local row = 0
local ofile

for line in io.lines(infile)
do
  row = row + 1
  data[row] = {}
  local i = 0
  for value in string.gmatch(line, "%S+") do
    i = i + 1
    data[row][i] = value
  end
end

ofile = assert(io.open(outfile, "w"))
for i = 1,row do
  ofile:write(data[i][column] .. "\n")
end
ofile:close()

lua column.lua test.dat new.dat 2
190
165
160
151
141
142

lua column.lua test.dat new.dat 1,2,4
