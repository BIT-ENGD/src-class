local playAnimation = coroutine.create(function(anim,pos,tank)
    while true do
    local animBase = sp.AnimBase:Clone()
    animBase.Parent = tank
    animBase.Visible = true
    animBase.Position = pos -- line that causes the error mentioned below.
    local frame = 1
    for i = 0, animations[anim]["FrameNum"] do
        frame = frame + 1
        animBase.Image = animations[anim]["Frames"][frame]
        NewWait(.1) --this right here, the wait, interfears with the yield.
        if frame >= animations[anim]["FrameNum"] then
            pos,anim,tank = coroutine.yield()
            break
        end
    end
    animBase:Destroy()
    end
end)

20:41:01.934 - Players.Player1.PlayerGui.ScreenGui.Gui-MAIN:65: bad argument #3 to 'Position' (UDim2 expected, got number)

coroutine.resume(playAnimation,"Cannon Fire",UDim2.new(0,120,0,68-25),tank.Frame)

if tank2:FindFirstChild("Ammo") and isTouching(ammoFrame,tank2:GetChildren()[3]) then
    local lastAmmoPos = ammoFrame.Position
    ammoFrame:Destroy()
    coroutine.resume(playAnimation,"Explosion",lastAmmoPos-UDim2.new(0,25-(ammoTypes[type]["Size"].X.Offset)/2,0,25),tank.Frame)
    tank2:GetChildren()[3]:Destroy()
end

