def encode(value):
    code = ''
    while value%254 != value:
       code = code + chr(value%254)
       value = value/254
    code = code + chr(value)
    return code

def decode(code):
    value = 0
    length = len(code)
    for i in range(0,  length):
        print code[i]
        value = value * 254 + ord(code[length-1-i])
    return value


code = encode(123456567)
print code

print decode(code)

function encode(value)
    code = ''
    while value%254 ~= value do

        code = code .. string.char(value%254)
        value = value/254
    end
    code = code .. string.char(value)
    return code
end

function decode(code)
    value = 0
    code = string.reverse(code)
    for i=1, #code do
        local c = code:sub(i,i)
            print(c)
            value = value*254 + string.byte(c) 
    end
    return value
end

code = encode(2555456)

print(decode(code))

