main_menu()
submenu()
submenu()
main_menu()
settings
local function submenu(settings)
    -- Get user input & change a settings{} table key accordingly
    main_menu(settings)
end

local function main_menu(settings)
    -- Present choices & get user input
    submenu(settings)
end

local settings={}
settings["foo"] = "bar"

main_menu(settings)

attempt to call nil
submenu()
main_menu()
main_menu()
submenu()
submenu()
main_menu()
