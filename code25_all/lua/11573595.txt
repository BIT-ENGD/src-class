local function printTable( t, label, level )
            if label then
                print( label ) 
            end
            level = level or 1
            if t then
                for k,v in pairs( t ) do
                    local prefix = ""
                    for i=1,level do
                        prefix = prefix .. "\t"
                    end

                    print( prefix .. "[" .. tostring(k) .. "] = " .. tostring(v) )
                    if type( v ) == "table" then
                        print( prefix .. "{" )
                        printTable( v, nil, level + 1 )
                        print( prefix .. "}" )
                    end
                end
            end
        end

        function callFacebook(appId,theMessage,theCaption,theLink,thePicture,theName)
            local function facebookListener( event )
                if ( "session" == event.type ) then
                    if ( "login" == event.phase ) then
                        facebook.request( "me/feed", "POST", {
                        message = theMessage,
                        name    = theName,
                        caption = theCaption,
                        link    = theLink,
                        picture = thePicture } )
                        if event.isError then
                            if ( "login" == event.phase ) then
                                facebook.logout( )
                            end
                            timer.performWithDelay( 1000, function() local alert = native.showAlert( "Facebook Error", "Your stats did not get posted on your Wall. Please try again later.", { "OK" } ); end )
                        else
                            if ( "login" == event.phase ) then
                                facebook.logout( )
                            end
                            timer.performWithDelay( 1000, function() local alert = native.showAlert( "Posted to Facebook", "Your stats have been posted on your Wall.", { "OK" } ); end )
                        end
                    end
                end
            end

            facebook.login( appId, facebookListener, { "publish_stream" } )
        end

