Rect = {}

Rect.__index = Rect

setmetatable(Rect, {
            __index = function(tbl,key)
                if key == 'right' then
                  return tbl.x + tbl.width
                elseif key == 'top' then
                  return tbl.y
                elseif key == 'left' then
                  return tbl.x
                elseif key == 'bottom' then
                  return tbl.y + tbl.height
                end

                return rawget(tbl,key)
               end
})

function Rect.new(x, y, width, height)
    return setmetatable( { x = x, y = y, width = width, height = height }, Rect )
end

function Rect:intersectsWith(other)
    return not (other.left > self.right or other.right < self.left or other.top > self.bottom or other.bottom < self.top)
end

Rect.__index = Rect

