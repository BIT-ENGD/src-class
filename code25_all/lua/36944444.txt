debug.setupvalue(f, up, val)

debug.upvaluejoin(f, up, function() return val end, 1)

debug.upvaluejoin(f1, n1, f2, n2)

debug.setupvalue(f1, n1, select(2, debug.getupvalue(f2, n2)))

