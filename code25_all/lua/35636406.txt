GET /v1/merchants 

GET_/v1/merchants

GET /v1/content/merchants/{string}
GET /v1/content/merchants/foo
GET /v1/content/merchants/bar
GET /v1/content/merchants/string
GET_/v1/content/merchants/foo
GET_/v1/content/merchants/bar
local function get_method(request)
  local method, path, query_fragment = request:match("^(.+) ([^%?]+)(%??.*) .+$")
  if method and path then
    return method .. "_" .. path
  else
    return nil
  end
end

local function extract_usage(request)
  local usage_t =  {}
  local ts_method = get_method(request)
  if ts_method then
    usage_t[ts_method] = set_or_inc(usage_t, ts_method, 1)
    return build_querystring(usage_t)
  else
    return nil
  end
end

