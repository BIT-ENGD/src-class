local ok, ... = coroutine.resume(co)
do_stuff(ok)
return ...

...
return (function(ok, ...)
    do_stuff(ok)
    return ...
)(coroutine.resume(co))

resume
nil
