foo = { }

function foo:new( p1, p2 )
  local object = {}
  setmetatable( object, self )
  self.__index = self
  object .p1 = p1
  object .p2 = p2
  return object
end

function foo:bar( boolbar )
  self.p1 = not boolbar
  print( self.p1 )
end

reference_to_foo = foo 

function the_other_object:some_func()
  -- does some stuff
  reference_to_foo:bar( true )
end

