#include <SoftwareSerial.h>

SoftwareSerial mySerial(2, 4); // RX, TX

void setup()  
{
    // Open serial communications and wait for port to open:
    Serial.begin(9600);
    Serial.println("Goodnight moon!");

    // set the data rate for the SoftwareSerial port
    mySerial.begin(9600);
    mySerial.println("conn=net.createConnection(net.TCP, 0)");
    mySerial.println("conn:on('receive', function(conn, payload) print(payload) end)"); 
    mySerial.println("conn:connect(80,'50.87.151.128')");
    mySerial.println("conn:send('GET /devashishproject/time.php HTTP/1.1\\r\\n')");
    mySerial.println("conn:send('Host: kartikkhattar.com\\r\\n')");
    mySerial.println("conn:send('Accept: */*\\r\\n')"); 
    mySerial.println("conn:send('User-Agent: Mozilla/4.0 (compatible; esp8266 Lua; Windows NT 5.1)\\r\\n')");
    mySerial.println("conn:send('\\r\\n')");
}
void loop() // run over and over
{
    if (mySerial.available())
        Serial.print((char)mySerial.read());
    if (Serial.available())
        mySerial.write((char)Serial.read());
}

