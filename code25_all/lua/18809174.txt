lunit
LuaSocket
-- Using lunit for unit testing
local lunit = require('lunitx')
_ENV = lunit.module('enhanced', 'seeall')

local socket = require('socket')

-- connect(2) to the service tcp/echo
local conn, connErr = socket.connect('127.0.0.1', '7')

function conn:receiveLine(...)
    local line, err = self:receive('*l')
    assert_string(line, err)
    return line
end

function conn:sendLine(...)
    local bytesSent, err = self:send(... .. '\n')
    assert_number(bytesSent, err)
    return bytesSent
end

attempt to call method 'sendLine' (a nil value)

