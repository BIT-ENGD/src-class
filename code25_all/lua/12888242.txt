.lua
-9649.481 666.4141 117.3444
-9475.624 563.4871 116.0533
-9338.459 432.295 137.4043

function lines_from(file)
  if not file_exists(file) then return {} end
  for line in io.lines(file) do 
    tokens = {};
    itr = 1;
    for token in string.gmatch(line, "[^%s]+") do
        tokens[ itr ] = token;
        itr = itr + 1;
    end

    x = tokens[1];
    y = tokens[2];
    z = tokens[3];
    g_lines_from[g_lines_fromCount] = { x, y, z };
    g_lines_fromCount = g_lines_fromCount + 1;

  end

end

function AddAll()
    for i = 1, g_lines_from, 1 do
        x, y, z = g_lines_from[i];
        ListBoxEntry.Create( g_lbWaypoints, "X: " .. math.floor( x ) .. ", Y: " .. math.floor( y ) .. ", Z: " .. math.floor( z ) );
    end
end

function OnAddWaypointClicked( eventID, button )
    local file = "mine1-75.txt";
    lines_from(file);
    AddAll();
end;

