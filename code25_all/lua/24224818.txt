#!/usr/bin/lua
function exec_com(com)
    local ok,res=pcall(function() return io.popen(com) end)
    if ok then
        local tmp=res:read('*a')
        res:close()
        return ok,tmp
    else
        return ok,res
    end
end
local st,val=exec_com('uptime')
print('Executed "uptime" with status:'..tostring(st)..' and value:'..val)
st,val=exec_com('zzzz')
print('Executed "zzzz" with status:'..tostring(st)..' and value:'..val)

Executed "uptime" with status:true and value: 18:07:38 up 1 day, 23:00,  3 users,  load average: 0.37, 0.20, 0.20

sh: zzzz: command not found
Executed "zzzz" with status:true and value:

