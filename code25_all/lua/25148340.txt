actionArray = {}

function moveEast()
    local posAction = CCMoveBy:create(0.2, cc.p(-47, 0))

    local callback = CCCallFunc:create(handleActions)
    actionArray[table.getn(actionArray) + 1] = {posAction, callback}
end

actionCounter = 0

handleActions = function ()
    if actionCounter < table.getn(actionArray) then
        actionCounter = actionCounter + 1

        local actionSeq = actionArray[actionCounter]

        layerMaze:runAction(actionSeq)
    end
end

... lots of code ...

handleActions()

cocos2d: [LUA-print] ----------------------------------------
cocos2d: [LUA-print] LUA ERROR: ASSERT FAILED ON LUA EXECUTE: Argument must be non-nil

cocos2d: [LUA-print] stack traceback:
    [string "src/main.lua"]:13: in function <[string "src/main.lua"]:10>
    [C]: in function 'runAction'
    [string "GameScene.lua"]:312: in function <[string "GameScene.lua"]:304>
cocos2d: [LUA-print] ----------------------------------------

=>actionSeq:setTag(2)
Execution error 206: [string "debugger"]:0: invalid 'cobj' in function 'lua_cocos2dx_Action_setTag'

