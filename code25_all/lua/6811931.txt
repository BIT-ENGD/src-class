primes = function(limit)
local t = {2}
for i = 3, math.sqrt(limit) do
    for k, v in ipairs(t) do
        if i % v == 0 then -- check if "i" is evenly divisible by each table element
            break
        else table.insert(t, i) -- if it is not, it is a prime number
            break
        end
     end
 end
 return t
 end

 for k, v in ipairs(primes(15)) do print (k, v) end

1   2
2   3
3   5
4   7
5   9
6   11
7   13
8   15

