local socket = require "socket"
local socket_unix = require "socket.unix"
local http = require "socket.http"
local ltn12 = require "ltn12"

local resp_body = {}

local req_headers = {
  ["user-agent"]      = http.USERAGENT,
  ["accept"]          = "application/json"
}

local res, code , headers, status = http.request{
  host ='/var/run/docker.sock',
  path ="/version",
  header = req_headers,
  scheme = "http",
  sink = ltn12.sink.table(resp_body),
  create = socket_unix,
}


if not res then
  return nil, code
end
print(resp_body)

