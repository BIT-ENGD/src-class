function main()
    local x = 80
    local y = 25
    local str = ""

    str = str..'map = {\n'

    for i = 1, (y - 1) do
        str = str..'{'

        for i = 1, (x - 1) do
            str = str..'" ",'
        end

        str = str..'" "'
        str = str..'},\n'
    end

    str = str..'{'

    for i = 1, (x - 1) do
        str = str..'" ",'
    end

    str = str..'" "'
    str = str..'}\n'
    str = str..'}'

    --Prints it without problems here
    print(str)

    local file,err = io.open("mapTable.mpt","w")

    if not file then
        return err
    end

    --HERE STR IS NIL???
    print(str)

    file:write(str)
    file:close()
end


local s,err = pcall(main)
if not s then
    print(err)
else
    print("Application ran successfully.")
end
io.read()

