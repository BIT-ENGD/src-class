-- Engine API module
local engine_api = {
  engine = {
     -- engine functions...
     version = ...
  },

  image = {
     -- image functions...

     jpeg = {
       -- jpeg specific bits
     },
  },

  project = {
    -- project functions
  }
}

return engine_api

local api = require "engine_api"

print("Engine version:", engine_api.engine.version());

local engine = {
  -- engine functions...
  version = function()
    print("engine.version")
  end
}

local image = {
  -- image functions
  get = function()
    print("image.get")
  end
}

local project = {
  -- project functions
  load = function()
    print("project.load()")
  end
}

-- Engine API module
local engine_api = {

}

local engine_api_mt = {
  __index = function(tbl, k)
    print("k=", k)
    return k
  end
}

setmetatable(engine_api, engine_api_mt)

