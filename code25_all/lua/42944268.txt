cjson.encode
cjson.decode
eval "local e = redis.call('exists', KEYS[1]) 
if (e == 1) then local obj = cjson.decode(redis.call('get', KEYS[1])) 
obj[ARGV[1]] = ARGV[2] 
redis.call('set', KEYS[1], cjson.encode(obj)) 
return table.getn(KEYS) 
else return -1 end" 
1 key n rani

