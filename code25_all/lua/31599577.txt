local onPlatform = false
local gameStarted = false


function playerCollision( self, event )
    if ( event.phase == "began" ) then
        --if hit bottom column, u get points
        if event.target.type == "player" and event.other.type == "bottomColumn" then
            print ("hit column")
            onPlatform = true


        else
        --if hit anything else, gameOver
            --composer.gotoScene( "restart" )

            print ("hit ground")
        end
    end
end


function moveColumns()
        for a = elements.numChildren,1,-1  do

            --speed of columns moving
            --if greater than -100, keep moving it to left
            --puts platform at the right and stops
            if (elements[a].x > display.contentWidth/1.1) then
                elements[a].x = elements[a].x - 12
            end
            --moves platform to left after it successfully lands
            if (onPlatform == true) then
                if (elements[a].x > display.contentWidth/3 and elements[a].x < display.contentWidth/1.11) then
                    elements[a].x = elements[a].x - 12
                end
            end
            --moves left platform to off-screen and deletes after it passes a certain X-axis
            if (onPlatform == true) then
                if(elements[a].x > -100 and elements[a].x < display.contentWidth/2.99) then
                    elements[a].x = elements[a].x - 12

            --adds score if it goes past a certain X-axis at left side
                elseif(elements[a].x < -100) then
                mydata.score = mydata.score + 1
                tb.text = mydata.score
                elements[a].scoreAdded = true

                elements:remove(elements[a])
                elements[a] = nil
                end
            end 
        end
end

