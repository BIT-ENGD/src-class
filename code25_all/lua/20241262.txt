obj = {

  on_init = function()
    print "hello."
  end,

  on_destroy = function()
    print "bye."
  end,

  on_do_something = function()
    print "doing something."
    error("Hi de hi, hi de ho!")
  end,

}

local event = "do_something"
local func = obj["on_" .. event]
func()

lua: test.lua:13: Hi de hi, hi de ho!
stack traceback:
    [C]: in function 'error'
    test.lua:13: in function 'func'
    test.lua:20: in main chunk

obj["on_" .. event]()

