__index
A = { __index = A }   
function A:speak()
    print("I'm an A")
end
An_A = setmetatable({},A)
An_A:speak()

lua: l.lua:8: attempt to call method 'speak' (a nil value)
B = { __index = function(t,key)  return B[key] end }
function B:speak()
    print("I'm an B")
end
An_B = setmetatable({},B)
An_B:speak()

I'm an B
__index = A
A
"speak"
B
key
B
__index = A
B
__index = function(t,key) return A[key] end
