local delete_widget = function(widgetid, user)
   local retval = ""      

         sql = "DELETE FROM widgets Where widgetid="..widgetid
         cur, err = assert(con:execute(sql))
         if not err then
               sql = "SELECT * FROM widgets where widgetid = ".. widgetid
               listofwidgets = executesqlandreturntable(sql)
               if #listofwidgets == 0 then
                    retval = "Deleted widget"
               else
                    retval = "Unable to delete widget"
               end
         else
               retval = "unable to delete widget"
         end 
   return retval
end

