AssetsManager
.zip
AssetsManagerTest
.zip
package.zip
.png
HelloWorld.png
.lua
game.lua
.lua
HelloWorld
game.lua
.lua
gem.lua
gem.lua
C++
CCLuaEngine::addSearchPath( const char * )
package.zip
CCFileUtils::getWritablePath()
game.lua
gem.lua
// Obtain the full script path. The value returned is:
//     CCFileUtils::getWritablePath() + "/games/game/scripts"
const std::string scriptPath = MyAssetManager::sharedManager() -> getScriptPath();

// Obtain the script file path
std::string gamePath = scriptPath + "/game.lua";

// Add the scriptPath to the LuaEngine search paths
CCLuaEngine::defaultEngine() -> addSearchPath( scriptPath.c_str() );

// Run the script
CCLuaEnging::defaultEngine() -> executeScriptFile( gamePath.c_str() );

gem.lua
/games/game/scripts/
Resource
CCLuaEngine
[LUA ERROR] ...D35-DB7A1B515ED3/Documents/games/game/scripts/game.lua:3: module 'gem.lua' not found:
    no field package.preload['gem.lua']gem.lua
    no file './gem/lua.lua'
    no file '/usr/local/share/luajit-2.0.1/gem/lua.lua'
    no file '/usr/local/share/lua/5.1/gem/lua.lua'
    no file '/usr/local/share/lua/5.1/gem/lua/init.lua'
    no file 'Scripts/gem/lua.lua'
    no file 'Scripts/Common/gem/lua.lua'
    no file 'Scripts/HomeScene/gem/lua.lua'
    no file 'Scripts/Games/gem/lua.lua'
    no file '/Users/xxxx/Library/Application Support/iPhone Simulator/6.1/Applications/E0CFD097-5DED-4E6D-8D35-DB7A1B515ED3/Documents/games/game/scripts/gem/lua.lua'
    no file './gem/lua.so'
    no file '/usr/local/lib/lua/5.1/gem/lua.so'
    no file '/usr/local/lib/lua/5.1/loadall.so'
    no file './gem.so'
    no file '/usr/local/lib/lua/5.1/gem.so'
    no file '/usr/local/lib/lua/5.1/loadall.so'

