foo = {}
if foo.bar.joe then
  print(foo.bar.joe)
end

attempt to index field 'bar' (a nil value)
foo = {}
if foo.bar and foo.bar.joe then
  print(foo.bar.joe)
end

