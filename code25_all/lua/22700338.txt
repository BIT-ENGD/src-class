 local secNeeded=false

 local secNum=2

 local totallength=-800

 local function newSec()
 if secNeeded==true then
 local levNum=math.random( 1, 7 )
if secNum==1 then
        display.remove( group1 )
        group1 = nil
        group1=display.newGroup()
        game:insert(group1)
end
if secNum==2 then
        display.remove( group2 )
        group2 = nil
        group2=display.newGroup()
        game:insert(group2)
end
if secNum==3 then
        display.remove( group3 )
        group3 = nil
        group3=display.newGroup()
        game:insert(group3)
end

    if levNum == 1 then
        createRamp()
    end

    if levNum == 2 then
        createdoubleRamp()
    end

    if levNum == 3 then
        createHill()
    end

    if levNum == 4 then
        createRampHill()
    end
    if levNum == 5 then
        createUpHill()
    end
    if levNum == 6 then
        createDownHill()
    end
    if levNum == 7 then
        createTunnel()
    end
 end
 secNum=secNum+1
if secNum==4 then
    secNum=1
end 

 end


 local function wheelMid(event)
 --print(totallength)
 --print(wheel.x)
 if wheel.x>totallength then
 secNeeded=true
 newSec()
 end
 end

 Runtime:addEventListener( "enterFrame", wheelMid)

        function createHill()

            local mega=display.newGroup()
            local guide = display.newRect(0,0, 2000, 50)
            guide.x=totallength+2000
            guide.y=totalheight
            guide.alpha=0
            mega:insert(guide)

            local ground = display.newImageRect("ground.png", 2000, 600)
            ground.x=guide.x
            ground.y=guide.y+200
            mega:insert(ground)
            physics.addBody(ground, "static", { friction=0.5 }) 

            local hill= display.newImageRect("hill2.png", 1400, 900)
            hill.x=guide.x+300
            hill.y=guide.y-534
            mega:insert(hill)
            physics.addBody( hill, "static", physicsData:get("hill2") )

                if secNum==1 then
            group1:insert(mega)
            end
            if secNum==2 then
            group2:insert(mega)
            end
            if secNum==3 then
            group3:insert(mega)
            end

            totallength=guide.x
            secNeeded=false

    end

