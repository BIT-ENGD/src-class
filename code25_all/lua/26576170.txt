local f1 = io.open ("scoredata.txt", "a")

function gameOver()  
disp_tempscore()

if score>highScore    -- Here initial value of highScore was 0
    then
    highScore=score
io.write (highScore)
end  

score=0     -- This turns the score 0. (There is a separate score counter that counts the score and stores in 'score')

mainScreen()
local f2 = io.open ("scoredata.txt", "r")
if f2~= nil
then
save_high = io.read(highScore)

end
    text_display2= display.newText("BEST : " .. highScore, 0, 0, "Helvetica", 90)
    text_display2.x = centerX
    text_display2.y = centerY + 80
    text_display2.alpha=1 

local function disapp (event)                   -- An event listener that responds to "tap"

local obj = event.target
display.remove (obj)

audio.play(sound)

transition.cancel (event.target.trans)

score=score+1
curr_scoreDisp = score
scoreText.text=score

local f1 = io.open (path, "a")   --Writing score to file
if score>highScore  -- Initial value of highScore is 0
    then
    highScore=score
    f1:write(highScore)
end
io.close(f1)

local function disp_Permscore()
local f1 = io.open (path, "r")

f1:read(highScore)
    text_display2= display.newText("BEST : " .. highScore, 0, 0, "Helvetica", 90)
    text_display2.x = centerX
    text_display2.y = centerY + 80
    text_display2.alpha=1 
    io.close(f1)
end

