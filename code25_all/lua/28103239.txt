function levelMod(event)
    if (levels[1]) then
       levels[1] = 3
       levels[2] = 1
       composer.gotoScene(event.target.destination,{effect="fade"})
       return true
    else
       composer.gotoScene(event.target.destination,{effect="fade"})
       return true
    end
end

nextBtn = display.newText("Next level",0,0,"Helvetica",15)
nextBtn.x=display.screenOriginX+200
nextBtn.y=display.contentHeight-5
nextBtn.destination = "gotoPlay"
nextBtn:addEventListener("touch",levelMod)
nextBtn.isVisible = false
sceneGroup:insert(nextBtn)

function gameOver(condition)
    if(condition =="WINNER") then
        screenText.text="Amazing!";
        nextBtn.isVisible= true
    elseif(condition =="Not Bad") then
        screenText.text="Not To Shabby."
        nextBtn.isVisible = true
    elseif (conditon =="loser") then
        screenText.text="You Can Do Better.";
    end
end

gameOver
levelMod
local levelsave = require("levelSave")

levels = {
  1,2,2,2,2,
  2,2,2,2,2,
  2,2,2,2,2,
}

levels = loadInfo() 

images ={
  { getFile="unlock.png", types="play" },
  { getFile="lock .png", types="locked" },
  { getFile="greenchecked.png", types="done" }
}

saveInfo()

local json = require("json")

function loadInfo()
    local base = system.pathForFile("levels.json", system.DocumentsDirectory)
    local jsoncontents = ""
    local levelsArray = {}
    local file = io.open(base,"r")
    if file then
        local jsoncontents = file:read("*a")
        levelsArray = json.decode(jsoncontents);
        io.close(file)
        return levelsArray
    end
    return levels
end

function saveInfo()
    local base = system.pathForFile("levels.json", system.DocumentsDirectory)
    local file = io.open(base, "w")
    local jsoncontents = json.encode(levels)
    file:write(jsoncontents)
    io.close(file)
end

