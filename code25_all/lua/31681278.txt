local f = CreateFram("Frame")
f:RegisterEvent("PLAYER_REGEN_DISABLED")
f:RegisterEvent("PLAYER_REGEN_ENABLED")

f:SetScript("OnEvent", function(self, event, ...)
   if event == "PLAYER_REGEN_DISABLED" then
          print("You are in combat")
   end
   if event == "PLAYER_REGEN_ENABLED" then
          print("You've left combat")
   end
end)

