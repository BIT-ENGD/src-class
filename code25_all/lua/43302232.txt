local shelf

local function movingShelf() 
    shelf = display.newRect(56.5,250,85,10)  --display shelf

    local moveLeft --move shelf
    local function moveRight()     
        transition.to(shelf, {time = 5000, x = 261, onComplete = moveLeft})
    end
    moveLeft = function()      
        transition.to(shelf, {time = 5000, x = 57.5, onComplete = moveRight})
    end
    moveRight()
end

local function restart() -- restart the program
    shelf:removeSelf()
    movingShelf()
end

movingShelf()
Runtime:addEventListener("tap", restart) -- tap to restart   

