lsqlite3
db:rows
sql=[=[
  SELECT max([index]) as last FROM migrations
]=]

for a in db:rows(sql) do 
  print(a[1])
end

last
a.last
a["last"]
