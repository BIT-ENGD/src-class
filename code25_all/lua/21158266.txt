local facebook = require "facebook" 
facebook.showDialog("apprequests", { app_id = ***} ) 

local function facebookListener( event )
    if ( "session" == event.type ) then
        -- upon successful login, request list of friends of the signed in user
        if ( "login" == event.phase ) then
            inviteText.text = "Pulling friend list..."

            local params = {
                    app_id = ***,
                    message = "Try this! Test 123"
                }
            facebook.showDialog("apprequests", params)

            local access_token = event.token
            print( access_token )
        end
    elseif ( "request" == event.type ) then
        -- event.response is a JSON object from the FB server
        local response = event.response

    elseif ( "dialog" == event.type ) then
        print ( "event type:" , event.type)
        print( "event name:" , event.name)
        print ( "event data:", event.data)
        print( "event response: ", event.response)

    end
end 

