test.lua
function test(word)
return string.len(word)
end

conky.config
lua_load = '/home/xvlaze/test.lua',
lua_draw_hook_pre = 'test'

conky.text
${lua test "fooo"}

test
fooo
conky: llua_do_call: function conky_test execution failed: /home/xvlaze/test.lua:2: attempt to index a nil value (local 'string')
conky: llua_getstring: function conky_test didn't return a string, result discarded

