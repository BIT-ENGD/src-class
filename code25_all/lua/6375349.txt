<p class='heading'>my useful information</p>
<p class='body'>lots more text</p>

<h2>my useful information</h2>
<p class='body'>lots more text</p>

function topandtailreplace(str,top,tail,newtop,newtail)
local strsearch = top..'(.*)'..tail
     function replace(str)
            str = string.gsub(str,top,newtop)
            str = string.gsub(str,tail,newtail)
            return str
    end
    local newstr = str:gsub(strsearch,replace())
    return newstr
end

