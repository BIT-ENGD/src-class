function test()

  local function test2()
      print(a)
  end
  local a = 1
  test2()
end

test()

local a = 1
function test()

    local function test2()
        print(a)
    end

    test2()
end

test()

