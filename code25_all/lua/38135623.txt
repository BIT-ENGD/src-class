AddToQueue( String identifier, function callfunc, int priority )

local tQueue = {
    [0] = {},
    [1] = {},
    [2] = {},
    [3] = {},
    [4] = {}
}

function AddToQueue( sName, funcCallback, iPriority )
    queue[iPriority or 0][sName] = funcCallback
end

function CallQueue()
    for i = 0, 4 do
        for _, func in pairs( queue[i] ) do
            local retval = func()

            if ( retval ~= nil ) then
                return retval
            end
        end
    end
end

