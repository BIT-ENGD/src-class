local centerX = display.contentCenterX
local centerY = display.contentCenterY

local isXcodeSimulator = "iPhone Simulator" == system.getInfo("model")
if (isXcodeSimulator) then
     local alert = native.showAlert( "Information", "Camera API not available on iOS Simulator.", { "OK"})    
end

local sessionComplete = function(event) 
    local image = event.target

    if image then
        image.x = centerX
        image.y = centerY
        local w = image.width
        local h = image.height
    end
end

local listener = function( event )
    if media.hasSource( media.Camera ) then
        media.capturePhoto( { listener = sessionComplete } )
    else
        native.showAlert("Corona", "Camera not found.")
    end
    return true
end

trigger:addEventListener( "tap", listener )

