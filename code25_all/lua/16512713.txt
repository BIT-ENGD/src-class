function TLuaScripter.getsetting(LuaState: TLuaState):TluaState;
var
path,stri: string; i:integer;
begin           //getsetting('Targeting/TargetingEnabled')

 path := Lua_ToString(LuaState, 1); //we get the string 'Targeting/..." 

 Lua_Pop(LuaState,1); //we put it in stack (so we can clean it)

 stri:= tree.GETsetting(path); //this function gets, for example "No"

 lua_pushlstring(LuaState,Pansichar(ansistring(stri)),length(stri)); //I pass it to the lua stack

 //showmessage(Lua_ToString(LuaState,1));--> this shows the result I need in a msgbox

 result:= LuaState;
end;

getsetting('Targeting/TargetingEnabled')

print(getsetting('Targeting/TargetingEnabled'))

