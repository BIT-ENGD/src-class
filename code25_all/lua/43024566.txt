BIGINT
CREATE OR REPLACE FUNCTION factorial_lua(n integer) RETURNS bigint AS $$
  if (n == 0) then return 1 end
  return factorial_lua(n-1)*n
$$ LANGUAGE pllua;

=> SELECT factorial_lua(3);
ERROR:  [pllua]: raw datum expected for datum conversion, got number

