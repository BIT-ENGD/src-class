if (x) ::  

if (x) then

string.gsub
local code = [[

    if (x) ::

    end

    if (y) ::

    end

]]

print(code:gsub("(if.+)::", "%1 then"))

--[[
  what I wanted:

  if (x) then

  end

  if (y) then

  end



  what I got:

  if (x) ::

  end

  if (y) then

  end
]]

