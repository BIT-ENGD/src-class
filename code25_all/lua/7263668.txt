player:setLinearVelocity((distancex/10)*level, (distancey/10)*level)

function checkpress(event)
    eventx = event.x
    eventy = event.y

 if event.phase == "began" then
        touch = true

    elseif event.phase == "ended" then
        touch = false

    end
end
    level = 5


function move()
    if touch == true then
        distancex = eventx - player.x
        distancey = eventy - player.y
    player:setLinearVelocity((distancex/10)*level, (distancey/10)*level)
    else
        vx, vy = player:getLinearVelocity()
        player:setLinearVelocity(vx/1.01,vy/1.01)
    end
end

Runtime:addEventListener("touch", checkpress)
Runtime:addEventListener("enterFrame", move)

