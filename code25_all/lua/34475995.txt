for _, node in ipairs(protos.rnn.forwardnodes) do
    a, b = whatever(a,b)
end

local _,loss = optimizer(feval,params, optim_state)

