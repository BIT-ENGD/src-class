if type(o) == "number" then
    return tostring(o)
elseif type(o) == "function" then
    return "loadstring("..string.dump(o)..")"
else
    -- assume it is a string
    return string.format("%q", o)
end

mytable = [some complicated lua table with functions]
dump = dump_t(mytable)

...

loaded_table = load_t(dump)

