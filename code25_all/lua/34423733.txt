local k = 3
local mt = {}

mt.__eq = function( a, b )
    for dim = 1, k do
        if a[dim] ~= b[dim] then return false end
    end
    return true
end

mt.__lt = function( a, b )
    for dim = 1, k do
        if     a[dim] < b[dim] then
            return true
        elseif a[dim] > b[dim] then
            return false
        end
    end
    return false -- equal
end

local set = {}

local p1 = { 1, 2, 3 }
setmetatable( p1, mt )
set[p1] = true

local p2 = { 1, 2, 3 }
setmetatable( p2, mt )
set[p2] = true -- should just overwrite the old value

print( "p1 == p2 --> "..tostring( p1 == p2 ) )
print( "p1 <  p2 --> "..tostring( p1 <  p2 ) )

local setSize = 0
for _, _ in pairs( set ) do
    setSize = setSize + 1
end
print( "Size of the set: "..setSize )

