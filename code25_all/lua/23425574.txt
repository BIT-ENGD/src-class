function update(event) -- check if the game is over
  if gameOver == true then
    return
  end
  fWait = (wTime > 0)
  if fWait then
    wTime = wTime â€“ 0.01
    if wTime < 0 then
      wTime = 0
    end
    return
  end
  if hasAccel==true then
    local gx, gy = getAcceleration()
    fx = gx * filter + fx * (1-filter)
    fy = gy * filter + fy * (1-filter)
    updatePlayer(fx, fy)
  end
end
stage:addEventListener(Event.ENTER FRAME, update)

