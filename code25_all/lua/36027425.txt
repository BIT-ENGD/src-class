rewrite_by_lua_file
ngx.req.read_body();
local args = ngx.req.get_post_args();
ngx.say(args["a"]);

<html>
<head>
<script   
 src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js">   
</script>
<script>
 $(document).ready(function(){
  $('#btnPOST').click(doPOST);
  $('#btnAJAX').click(doAJAX);
 });

 function doPOST()
 {
  $.post('index.php',{a:2,b:3},afterAJAX);
 }

 function doAJAX()
 {
  var fd = new FormData();
  fd.append('a',2);
  fd.append('b',3);

  $.ajax(
        {url:'index.php',data:fd,cache:false,contentType:false,
         processData:false,
         type:'POST',success:function(d){afterAJAX(d);},error:netError});
  }

  function afterAJAX(d,e)
  {
   debugger;
   alert(d);
  }

  function netError(){alert('error');}
 </script>
</head>
 <body>
  <button id='btnPOST'>Post</button>
  <button id='btnAJAX'>Ajax</button>
 </body>
</html>

d=nil
