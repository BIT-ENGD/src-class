file1=io.open("my_file.txt","r")
file2=io.open("my_changed_file.txt","w")

for line in file1:lines() do
   file2:write(line.."changes")
end

file2:flush()
file3=io.open("my_changed_file.txt","r")
--write several lines to another file or something 
--(need to combine changed lanes from file2 and original lines from file1 based on my key)

