-- foo.lua
local foo = {}
function foo:m1(...) ... end
function foo:m2(...) ... end
return foo

-- globally
foo = require('foo')
-- or locally
local foo = require('foo')

bar
foo
-- bar.lua
local bar={}
function bar:m3(...)
  ...
  foo:m1()
  ...
end

foo
bar
require
local foo = require('foo')
local bar = require('bar', foo)

init
bar
local foo = require('foo')
local bar = require('bar')
bar:init(foo)

bar
