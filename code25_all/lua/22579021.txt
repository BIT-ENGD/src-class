coords = {{135, 487}, {135, 298}, {334, 308}, {334, 485}, {554, 301}, {555, 400}, {136, 97}, {334, 98}, {552, 107}}

table.sort(coords, function(a, b) return b[2] > a[2] end)
t1 = {}
table.insert(t1, coords[1])
table.insert(t1, coords[2])
table.insert(t1, coords[3])
t2 = {}
table.insert(t2, coords[4])
table.insert(t2, coords[5])
table.insert(t2, coords[6])
t3 = {}
table.insert(t3, coords[7])
table.insert(t3, coords[8])
table.insert(t3, coords[9])
table.sort(t1, function(a, b) return b[1] > a[1] end)
table.sort(t2, function(a, b) return b[1] > a[1] end)
table.sort(t3, function(a, b) return b[1] > a[1] end)
coords[1] = t1[1]
coords[2] = t1[2]
coords[3] = t1[3]
coords[4] = t2[1]
coords[5] = t2[2]
coords[6] = t2[3]
coords[7] = t3[1]
coords[8] = t3[2]
coords[9] = t3[3]

for i, t in ipairs(coords) do
    print ("X: " .. t[1] .. " Y: " .. t[2])
end

X: 136 Y: 97
X: 334 Y: 98
X: 552 Y: 107
X: 135 Y: 298
X: 334 Y: 308
X: 554 Y: 301
X: 135 Y: 487
X: 334 Y: 485
X: 555 Y: 400

