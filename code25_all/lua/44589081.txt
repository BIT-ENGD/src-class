docker pull openresty/openresty:1.11.2.3-xenial

FROM openresty/openresty:1.11.2.3-xenial

EXPOSE 8080
CMD nginx -p `pwd` -c nginx.conf

worker_processes  1;
error_log stderr notice;
events {
    worker_connections 1024;
}
http {
    include /usr/local/openresty/nginx/conf/mime.types;
    server {
        listen 8888;
        location / {
            default_type text/html;
            content_by_lua_file "app.lua";
        }
    }
}

ngx.say('Hello World!')
ngx.exit(200)

docker build -t user/openresty .
docker run rahul/openresty

docker run -it -p 8888:80 -v /home/software/docker/openresty:/usr/local/openresty/nginx/html:ro openresty/openresty:1.11.2.3-xenial

docker run -it -p 8888:8888 -v /home/software/docker/openresty:/usr/local/openresty/nginx/html:ro -v /home/software/docker/openresty/nginx.conf:/usr/local/openresty/nginx/conf/nginx.conf:ro openresty/openresty:1.11.2.3-xenial

docker run -it -p 8888:8888 -v $(pwd):/app openresty/openresty:1.11.2.3-xenial -p /app -c nginx.conf

