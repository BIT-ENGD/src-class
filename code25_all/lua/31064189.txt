io.popen
local a = 'f'
local p = io.popen(
    'echo      -~`~-,_,- Editing '..(a == 'f' and 'foreground' or 'background')..' -~`~-,_,- > con && '.. --display text to the user
    'set /p f= Find block: > con < con && '.. --user input
    'call echo %f% &&' .. --pass f back to the lua script
    'set /p r= Replace with: > con < con && '.. --user input
    'call echo %r% &&' .. --pass r back to the lua script
    'pause < con', "r")
local f = p:read("*a") --read what was passed back, later parse it back into 2 variables
p:close()

f
f
r
r
f
r
p = io.popen(
    'echo What do you want to do? > con && '..
    'echo G: remove girders > con && '..
    'echo F: swap foreground > con && '..
    'echo B: swap background > con && '..
    'echo U: undo all edits > con && '..
    'echo C: cancel > con && '..
    'set /p a= Choose an option: > con < con && '..
    'call echo %a%', "r")
a = string.lower(p:read("*a"):gsub("\n",""))
p:close()

