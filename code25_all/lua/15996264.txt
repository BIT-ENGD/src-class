function OnHit(bot)

// Where the bot structure and vec3 
// generated using SWIG and registered to a 
// "global" lua_State that I maintain.
bot.color = vec3( 1.0, 0.0, 0.0)
end;

function OnHit(bot)

bot.color = vec3( 0.0, 1.0, 0.0)
end;

bot->script->L = lua_newthread( <Global lua_State where vec3 etc... are registered> )

luaL_loadbuffer( bot->script->L, botXXX.lua ...

lua_call( bot->script->L, ...

luaL_dostring( bot->script->L, "OnHit(GetBot(\"<the bot name>\")" );

