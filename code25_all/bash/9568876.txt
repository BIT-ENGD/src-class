A.txt
A.txt
XXX
cd 1

sed 's/XXX/123/g' A.txt > B.txt

cd ..

cd 2 

sed 's/XXX/456/g' A.txt > B.txt

cd ..

cd 2 

sed 's/XXX/789/g' A.txt > B.txt

cd ..

in.txt
for dir in 1 2 3

do

while read I

do

cd $dir

sed -n 's/XXX/'"$I"'/p' A.txt > B.txt

cd ..

done

done < in.txt

