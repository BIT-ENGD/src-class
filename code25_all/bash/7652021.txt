#!/bin/sh
for i in `pgrep -f libflashplayer.so`
do
  PIDS=$PIDS$i","
done
echo ${#PIDS}
PIDS=`echo ${PIDS:0:${#PIDS}-1}`

echo ${#PIDS}
PIDS=`echo ${PIDS:0:${#PIDS}-1}`

#npviewer. 2768 deel   11u   REG                7,0 19218930   262562 /tmp/FlashXX2j3xhT (deleted)
#npviewer. 2768 deel   12u   REG                7,0 32352982   262837 /tmp/FlashXX6R4nAq (deleted)
#npviewer. 2768 deel   17u   REG                7,0 27289825   262824 /tmp/FlashXXuVBqbu (deleted)
#npviewer. 2768 deel   18u   REG                7,0 21632133   262825 /tmp/FlashXXneoS8s (deleted)

for i in `lsof -np $PIDS | grep deleted | grep /tmp/Fl*`
do
     PID=`echo $i | cut -d " " -f 2`
     FD=`echo $i | cut -d " " -f 6`
     FD=`echo ${FD:0:${#FD}-1}`
     echo $FD
done

11u
12u
17u
18

11
12
17
18

