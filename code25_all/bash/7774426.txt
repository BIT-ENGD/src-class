{
 el[$2]++
}
END {
    for (i in el) {
    print i, el[i] >> "rank.txt"
    }
 }

find | xargs
find . -name "*.txt" | xargs awk -f script.awk

rank.txt
wc -l rank.txt
find . -name "*.txt" | xargs awk '{print $2}' | sort | uniq | wc -l

awk '{print $1}' rank.txt | sort | uniq | wc -l

