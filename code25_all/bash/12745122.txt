#!/bin/bash

url_encode() {
    # http://www.commandlinefu.com/commands/view/4840/url-encode
    # http://stackoverflow.com/questions/296536/urlencode-from-a-bash-script
    echo -n "${@: -1}" | python2 -c "import urllib, sys; print urllib.quote(sys.stdin.readline())"
    # echo "$@" | perl -MURI::Escape -ne 'chomp;print uri_escape($_),"\n"'
}

if [ $1 = "-v" ]; then
  elinks -dump -no-numbering "http://tureng.com/search/$(url_encode $@)" | grep -E '(^\s*Category\s*|>$)' --color=never | less
else 
  elinks -dump -no-numbering "http://tureng.com/search/$(url_encode $@)" | grep -E '(^\s*Category\s*|>$)' --color=never | head -n 6
fi

14:03 ~ $ tureng test
     Category    Turkish  English
   1 General  n. test    trial      >
   2 General  n. test    testing    >
   3 General  n. test    test       >
   4 General  n. test    experiment >
   5 General     test    quiz       >

14:04 ~ $ tureng test
   <!-- Web.Config Configuration File -->
   <configuration>
       <system.web>
           <customErrors mode="Off"/>
       </system.web>
   </configuration>

