checkForUpdates() {
    checkLatest
    ret=$?
    if [ $ret != 0 ]; then
        return $ret
    fi
    count=0
    for i in $(ssh $__updateuser@$__updatehost "ls $__updatepath/*${latest}*"); do
        file="${i##$__updatepath}"
        echo "$file" >> $__debuglog
        if [ -f $__pkgpath/$file ]; then
            remoteHash=$(ssh $__updateuser@$__updatehost "md5sum -b < $__updatepath/${file}")
            localHash=$(md5sum -b < $__pkgpath/$file)
            echo "${remoteHash:0:32} = ${localHash:0:32}" >> $__debuglog
            if [ "${remoteHash:0:32}" != "${localHash:0:32}" ]; then
                files[$count]=$file
                count=$(($count + 1))
                echo "Hashes not matched, adding $i" >> $__debuglog
            fi
        else
            files[$count]=$file
            count=$(($count + 1))
            echo "$file missing" >> $__debuglog
        fi
    done

    # Verify that the files array isn't empty.
    if [ $count != 0 ]; then
        return 0
    else
        return 33
    fi
}

