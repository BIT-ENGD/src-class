set -v
set -x
set -v
set -v
echo a 1>/dev/null # 'echo a 1>/dev/null' is printed to the screen
echo a 2>/dev/null # 'echo a 2>/dev/null\na' is printed to the screen

echo 'set -v'$'\n''echo a' > setvtest.sh

bash setvtest.sh 1>/dev/null # 'echo a' is printed to the screen
bash setvtest.sh 2>/dev/null # 'a' is printed to the screen

set +v
{ set -v ; echo a ; } 1>/dev/null # no output
set +v
( set -v ; echo a ; ) 1>/dev/null # no output

echo 'set -v ; echo a' > setvtest.sh
bash setvtest.sh 1>/dev/null

setvtest2 () {
    set -v
    echo a
}

setvtest2               # 'a'
set +v
setvtest2 1>/dev/null   # nothing
set +v
setvtest2 2>/dev/null   # nothing

set -v
#!/usr/bin/env bash

script=/tmp/$$.script
output=/tmp/$$.out

echo 'set -v'$'\n'"$1" >"$script"

bash "$script" 1>"$output"
cat "$output"
rm -f "$script" "$output"

bash gen.sh 'echo a' 1>/dev/null # prints 'echo a'
bash gen.sh 'echo a' 2>/dev/null # prints 'a'

