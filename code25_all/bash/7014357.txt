if git-rev-parse --verify HEAD >/dev/null 2>&1

then

export rev="`git-diff --cached`"

echo "'$rev'"

export i="`echo "$rev" | ack '\+ *(?!#)[a-z$=" ]*/home/'`"

echo

echo "'$i'"

if [ ! -z "$i" ]

then
    echo "Error: Attempt to commit file with uncommented path to local files"
    echo
    echo "This usually means that you are trying to commit code that has been"
    echo "localised to your own machine, and that the paths will fail when"
    echo "the code is run on the server."
    echo
    echo "Please check if you really meant to commit this code. Commenting out"
    echo "the code in question will prevent this message from appearing."
    echo
    echo "Details: $i"
    exit 1
fi


fi

+       $foo = "/home/user/file.txt

+       #$foo = "/home/user/file.txt

