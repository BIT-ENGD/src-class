# pkill.sh
trap onexit 1 2 3 15 ERR

function onexit() {
    local exit_status=${1:-$?}
    echo Problem killing $kill_this
    exit $exit_status
}

export kill_this=$1
for X in `ps acx | grep -i $1 | awk {'print $1'}`; do
  kill $X;
done

echo Problem killing...
kill
