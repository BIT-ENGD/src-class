for file in *
dir="dirname with spaces"
ls -1 "$dir" | while read x; do
   echo $x
done

dir\ with\ spaces

