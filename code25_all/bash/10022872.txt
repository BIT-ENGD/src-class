X.pdf
X/X.tex
all: foo.pdf

%.pdf: %.tex
    pdflatex $*.tex

foo.tex
make
foo.pdf
pdflatex foo.tex
my_dir
|- Makefile
|- foo
   |- foo.tex

X.pdf
X/X.tex
foo/foo.tex
all: foo.pdf

%.pdf: %/%.tex
    pdflatex $*/$*.tex

No rule to make target `foo.pdf', needed by `all'. Stop.

%.pdf: $*/$*.tex
%/%.tex
foo/%.tex
foo
all: foo.pdf bar.pdf
foo/foo.tex
bar/bar.tex
%
$*
