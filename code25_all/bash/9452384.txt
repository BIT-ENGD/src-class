bash
#!/bin/bash

find -path "thumbnails/" -prune -or -iname "*.jpg" -exec \
    bash -c 'convert "$0" -resize 256x256 thumbnails/`sha512sum "$0" | awk "{ print \\$1 }"`.jpg' {} \;
#                                                                                   ^^

\\
^^
$1
awk { print Â }
\\
