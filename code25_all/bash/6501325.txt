if [ -z $1 ]; then git commit -a -m "no message"; else; git commit -a -m $1; fi

$ ./dostuff_then_commit "my message"

fatal: Paths with -a does not make sense.

$1
