$ echo '!!'
!!
$ echo "$(echo '!!')"
echo "$(echo 'echo '!!'')"        #<~ the console echoes the line with expanded history here
echo !!                           #<~ the result

!!
$ foo='some value'
$ echo "$(echo 'neither $foo nor `this subshell` should expand here')"
neither $foo nor `this subshell` should expand here

