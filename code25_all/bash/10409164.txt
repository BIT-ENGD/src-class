#!/bin/bash
# timer.sh

timer ()
{
    while true
    do
    tput cup 0 0
    echo $SECONDS
    wait 1
    done
}

display ()
{
    tput cup 5 0
    echo -n "This is output from other stuff"
    read -n1 letter
    #while read -n1 letter
    #do
    tput cup 7 0

    echo -n "type any letter"
    tput cup 9 0
    echo -n "You letter is: $letter"
    if [[ "$letter" == "x" ]]
    then
        exit
    fi
    #done
}

finished ()
{
    tput clear
    echo -n "This is the end of the program"
    kill $timer_pid 
    exit
}

# Main Body

trap finished SIGINT SIGTERM
tput clear
while true
do
    timer &
    timer_pid=$!
    display 
done

exit

