_dir_chomp
PS1='\[\033[01;32m\]\u@\h\[\033[01;34m\] $(
  _dir_chomp "$(pwd)" 20
)\[\033[01;37m\]$(parse_git_branch)\[\033[01;34m\] \$\[\033[00m\] '

/usr/portage/media-plugins/banshee-community-extensions/files
/u/p/m/b/files
/home/user1/media/video/music/live-sets
~/m/v/m/live-sets
/home/user2/media
/home/user1/this-is-a-very-long-path-name-with-more-than-20-chars
~/this-is-a-very-long-path-name-with-more-than-20-chars
/home/user1/src
~/src
/home/user1/.kde4/share/config/kresources
~/.k/s/c/kresources
awk
perl
ruby
python
_sub_helper() {
  # this counts
}
_dir_chomp() {
  # these characters count (between { and })
  _sub_helper "foobar" # _sub_helper body counts, too
}

