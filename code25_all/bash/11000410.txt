bash
$ history | grep some_long_command

...
...
123 some_long_command1.........
124 some_long_command2.........
...

!123
some_long_command1foobar

#some_long_command1
