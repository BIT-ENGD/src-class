if [ ${1:0:2} != '--' ] ; then 
    echo -e "Unrecognized option: $1\n$requestHelpMessage"; exit 1;
fi
if [ ! $2 ];
    then echo -e "Expected parameter for $1\n$requestHelpMessage"; exit 1;
fi
case ${1:2} in
    branch) # do something with $2 here
    batch) # do something with $2 here
    version) # do something with $2 here
    *) # you get the idea
esac

