(expect -c "

 #exp_internal 1
  set passwords {PASS1 PASS2}
  set index 0 
  set timeout 20
  # Start the session with the input variable and the rest of the hostname
  spawn telnet $host
  set timeout 3 
  expect {
-ex     \"Password:\" {
            send \"[lindex $passwords $index]\r\"
            incr index  
 exp_continue;
  }
  }

lindex
 -ex     "Password:" {
    send "[lindex  ]\r"

