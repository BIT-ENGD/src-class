#!/bin/bash
ANS=''
ssid=''
psk=''
file='/etc/network/interfaces'

function wireless {
    echo 'The wireless network '$ssid' has now been set up'
    start
}
function ssid {
    echo 'What is your Network SSID?'
    echo -e '> \c'
    read ssid
    echo 'You entered '$ssid'. Is this correct? (y/n)'
    echo -e '> \c'
    read ANS
    if [ $ANS = 'y' ]; then
        psk
    else
        echo 'Please renter your SSID'
        ssid
    fi
}
function psk {
    echo 'What is your Network PSK?'
    echo -e '> \c'
    read psk 
    echo 'You entered '$psk'. Is this correct? (y/n)'
    echo -e '> \c'
    read ANS
        if [ $ANS = 'y' ]; then
                wireless
        else
                echo 'Please renter your PSK'
                psk
        fi

}
function start {
echo 'What do you want to do?'
echo ''
echo 'Press w to set up wireless ssid and psk'
echo 'Press s to change eth0 to a static ip address'
echo 'Press d to change eth0 to a dhcp ip address'
echo ''
echo 'Or press ctrl+c to quit'
echo -e '> \c'
read ANS
if [ $ANS = 'w' ]; then
    ssid
else
    if [ $ANS = 's' ]; then
        static
    else
        if [ $ANS = 'd' ]; then
            dhcp
        fi
    fi
fi
}
#backup of /etc/network/interfaces
#auto lo
#iface lo inet loopback
#iface eth0 inet dhcp
#iface eth0 inet static
#   address ###########
#   netmask #############
#   broadcast ###########
#   gateway ##########
#
#allow-hotplug wlan0
#
#auto wlan0
#
#iface wlan0 inet dhcp
#wpa-ssid "Home Network"
#wpa-psk "psk"
start
exit 0

