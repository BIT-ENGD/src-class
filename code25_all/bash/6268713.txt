scp
ssh
if socket does not exist:
    run bash command to create socket with timeout
copy file using the created socket
ssh command to print using socket

