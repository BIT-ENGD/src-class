#/bin/bash
function readdir
{
  cd "$1"
  for infile in *
  do
    if [ -d "$infile" ]; then
      readdir "$infile"
    else
      renamer "$infile"
    fi
  done
  cd ..
}

function renamer
{
  #replace " - " with a single underscore.
  NEWFILE1=`echo "$1" | sed 's/\s-\s/_/g'`
  #replace spaces with underscores
  NEWFILE2=`echo "$NEWFILE1" | sed 's/\s/_/g'`
  #replace "-" dashes with underscores.
  NEWFILE3=`echo "$NEWFILE2" | sed 's/-/_/g'`
  #remove exclamation points
  NEWFILE4=`echo "$NEWFILE3" | sed 's/!//g'`
  #remove commas
  NEWFILE5=`echo "$NEWFILE4" | sed 's/,//g'`
  #remove single quotes
  NEWFILE6=`echo "$NEWFILE5" | sed "s/'//g"`
  #replace & with _and_
  NEWFILE7=`echo "$NEWFILE6" | sed "s/&/_and_/g"`
  #remove single quotes
  NEWFILE8=`echo "$NEWFILE7" | sed "s/â€™//g"`

  mv "$1" "$NEWFILE8"
}

for infile in *
do
  if [ -d "$infile" ]; then
    readdir "$infile"
  else
    renamer "$infile"
  fi
done

ls

#/bin/bash
for infile in *.*;
do 
#replace " - " with a single underscore.
NEWFILE1=`echo $infile | sed 's/\s-\s/_/g'`; 
#replace spaces with underscores
NEWFILE2=`echo $NEWFILE1 | sed 's/\s/_/g'`; 
#replace "-" dashes with underscores.
NEWFILE3=`echo $NEWFILE2 | sed 's/-/_/g'`; 
#remove exclamation points
NEWFILE4=`echo $NEWFILE3 | sed 's/!//g'`; 
#remove commas
NEWFILE5=`echo $NEWFILE4 | sed 's/,//g'`; 
mv "$infile" "$NEWFILE5";
done;

