#!/bin/bash

N=0

ls -l | while read L; do
 N=$((N+1))
 echo $N
done

echo "total $N"

1
2
3

total 0

