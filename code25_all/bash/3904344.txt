for s in $(ls -1 fig/*.py); do
   name=`basename $s .py`
   if [ -e "fig/$name.pdf" -o "fig/$name.pdf" -ot "fig/$name.data" -ot "fig/$name.py" ]; then
      $s
   fi
done

for s in fig/*.py ; do # */ fix highlighting
    name="$(basename "$s" .py)"
    if test ! -e "fig/$name.pdf" -o "fig/$name.pdf" -ot "fig/$name.data" -o "fig/$name.pdf" -ot "fig/$name.py"
    then
        "$s"
    fi
done

