
my_prog|awk '...' > output.csv &
my_pid="$!" #Gives the PID for awk instead of for my_prog
sleep 10
kill $my_pid #my_prog still has data in its buffer that awk never saw. Data is lost!

$my_pid
awk
my_prog
awk
my_prog
my_prog
ps aux|grep my_prog
my_prog
cat
awk '...'
