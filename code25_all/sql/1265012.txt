select top 1 x, y, z from sometable where a=b and date <= @date order by date desc

select x, y, z from sometable where a=b and date=(select max(date) from sometable where a=b and date <= @date)

