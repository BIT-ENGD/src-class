IF EXISTS (SELECT * 
             FROM dbo.sysobjects 
            WHERE id = object_id(N'[dbo].[ContentModDate]') 
              AND OBJECTPROPERTY(id, N'IsView') = 1)
     AND CHARINDEX('Content', DB_NAME()) > 0

DROP VIEW [dbo].[ContentModDate]

GO

  IF (CHARINDEX('Content', DB_NAME()) > 0)
  BEGIN
    CREATE VIEW [dbo].[Rx_ContentModDate] AS  
     SELECT 'Table1' AS TableName, MAX(ModDate) AS ModDate
       FROM Tabl1 WHERE ModDate IS NOT NULL
     UNION 
     SELECT 'Table2', MAX(ModDate) AS ModDate 
       FROM Table2 WHERE ModDate IS NOT NULL
  END
END
GO

