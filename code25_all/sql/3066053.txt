SqlDataSourceEnumerator sqlEnumerator = SqlDataSourceEnumerator.Instance;
DataTable dt = sqlEnumerator.GetDataSources();
foreach(DataRow row in dt.Rows)
{
    Console.WriteLine(row["ServerName"]);
    Console.WriteLine(row["InstanceName"]);
    Console.WriteLine("*******************************");
}

