{% for thread in threadlist %}
{% for post in thread.postlist %}
...

class Thread (models.Model):
...    
def postlist(self):
    posts = list(self.post_set.all())
    return [posts.pop(0)] + posts[-2:]

