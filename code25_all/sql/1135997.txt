select foo.*, count(bar.id)
from foo inner join bar on foo.id = bar.foo_id
group by foo.id

group by
