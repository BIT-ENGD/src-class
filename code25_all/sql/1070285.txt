users (id, name)

currency (id, name)

accounts (id, user_id, currency_id, amount)

accounts
owner  currency1 currency2 currency3
1      0         0         0
2     10        20        30
3      0         5        10

owner
ID
accounts.owner
currency1,2,3
(SELECT id FROM currency WHERE name = '1',etc)
SELECT
  SELECT amount FROM accounts WHERE currency = (SELECT id FROM currency WHERE name = 'currency1') AND owner = @user) AS [currency1],
  SELECT amount FROM accounts WHERE currency = (SELECT id FROM currency WHERE name = 'currency2') AND owner = @user) AS [currency2],
  SELECT amount FROM accounts WHERE currency = (SELECT id FROM currency WHERE name = 'currency2') AND owner = @user) AS [currency2]

users
