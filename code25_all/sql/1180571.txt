CREATE FUNCTION SAFE_DROP_TABLE(@TableName NVARCHAR(30))
AS
BEGIN
    IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(@TableName) AND TYPE IN (N'U'))        
        DROP TABLE @TableName
        IF @@ERROR <> 0 
        BEGIN
            PRINT 'Failed to drop ' + @TableName + ' Error = ' + @@ERROR
        END ELSE BEGIN
            PRINT 'dropped' + @TableName
        END
    ELSE 
        PRINT 'NO ACTION NEEDED'
    END
END

