(COUNT(ptc.catid))
SELECT 
    s.supercategory_id, 
            s.title, 
            c.title, 
            c.id, 
            COUNT(ptc.catid)

FROM supercategories s, 
     supercategories_to_categories stc, 
     categories c,
     products p,
     products_categories ptc

WHERE  c.viewable='1'

AND    c.id=stc.category_id 
AND    stc.supercategory_id=s.supercategory_id 
AND    ptc.catid=c.id 
AND    ptc.productid = p.id
AND    p.viewable='y'

GROUP BY ptc.catid
ORDER BY s.title, c.title 

