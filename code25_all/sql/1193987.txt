[WebMethod]
[ScriptMethod]
public List<DealEquipment> GetDealEquipment(Guid DealID)
{
    List<DealEquipment> dealEquipmentList = new List<DealEquipment>();
    Deal deal = new Deal(DealID);
    DealEquipmentCollection dealEquipmentCollection = deal.DealEquipmentRecords();

    foreach (DealEquipment dealEquipment in dealEquipmentCollection)
    {
        DealEquipment dealEquipmentTemp = dealEquipment;
        DealEquipmentSerialNumberCollection dealEquipmentSerialNumberCollection =     new      DealEquipmentSerialNumberCollection().Where(DealEquipmentSerialNumber.Columns.FkDealEquipmentID, Comparison.Equals, dealEquipmentTemp.PkDealEquipmentID).Load();
        dealEquipmentTemp.objSerialNumber = new List<DealEquipmentSerialNumber>();
        foreach (DealEquipmentSerialNumber dealEquipmentSerialNumber in dealEquipmentSerialNumberCollection)
        {
            dealEquipmentTemp.objSerialNumber.Add(dealEquipmentSerialNumber);
        }
        dealEquipmentList.Add(dealEquipmentTemp);
    }

    return dealEquipmentList;
}

