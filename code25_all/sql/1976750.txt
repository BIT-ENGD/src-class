 SELECT O.TABLE_NAME FROM INFORMATION_SCHEMA.COLUMNS AS O
    INNER JOIN INFORMATION_SCHEMA.COLUMNS AS R1
        ON R1.TABLE_NAME = O.TABLE_NAME and R1.COLUMN_NAME = 'Id' and R1.DATA_TYPE = 'uniqueidentifier'
    INNER JOIN INFORMATION_SCHEMA.COLUMNS as R2
        ON R2.TABLE_NAME = O.TABLE_NAME and R2.COLUMN_NAME = 'Message' and R2.DATA_TYPE = 'nvarchar'
    INNER JOIN INFORMATION_SCHEMA.COLUMNS AS R3
        ON R3.TABLE_NAME = O.TABLE_NAME and R3.COLUMN_NAME = 'EnteredOn' and R3.DATA_TYPE = 'datetime'
    GROUP BY O.TABLE_NAME

CREATE TABLE [dbo].[Log](
    [Id] [uniqueidentifier] ROWGUIDCOL  NOT NULL,
    [Message] [nvarchar](2048) NULL,
    [EnteredOn] [datetime] NOT NULL,
 CONSTRAINT [PK_Log] PRIMARY KEY CLUSTERED 
(
    [Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

