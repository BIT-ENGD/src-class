class Activity {
   public Date activityDate;
   public double amount;
}

private List<Activity> groupToList(List<Activity> activityList) {
    SimpleDateFormatter sdf = new SimpleDateFormatter("YYYY-MM-DD");
    Map<String,Activity> groupMap = new HashMap<String,Activity>();
    for (Activity a in activityList) {
        String key = sdf.format(a.getActivityDate());
        Activity group = groupMap.get(key);
        if (group == null) {
          group = new Activity();
          groupMap.add(key, group);
        }
        group.setAmount(group.getAmount() + a.getAmount());
    }
    return new ArrayList<Activity>(groupMap.values()); 
}

