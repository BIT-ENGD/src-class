LinkedBlockingQueue<Message> message_queue = new LinkedBlockingQueue<Message>();

public void run(){
    while(true){
        Message m = message_queue.take();
        handle_message(m);
    }
}

Message[] messages = {/* some list of message objects */};
for (Message m : messages){
    message_queue.put(m);
}

