try {
    image = GraphicsUtilities.loadImage(filePath);
} catch (OutOfMemoryError e) {
    removeHiddenImageReferences();
    try {
        image = GraphicsUtilities.loadImage(filePath);
    } catch (OutOfMemoryError ee) {
        ee.printStackTrace();
        JOptionPane.showMessageDialog(parent,
            "There is not enought memory to load this image",
            "Not enough memory", JOptionPane.WARNING_MESSAGE);
    }
}

