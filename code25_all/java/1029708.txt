import java.net.*;
import java.io.*;

public class ServerClient {
public static void main(String[] args) throws IOException {
    System.out.println("Starting a socket server client...");
    Socket client = new Socket("XXX.X.XXX.XX", 12001);
    BufferedOutputStream stream = new BufferedOutputStream(client.getOutputStream());
    String message = "ABC";

    BufferedReader inputReader = new BufferedReader(new InputStreamReader(System.in));      
    String input = null;
    while ( true ) {
        System.out.print("Would you like to send a message to Server? ");
        input = inputReader.readLine();
        if ( !input.equals("Y") ) break;    

        System.out.println("Message to send: " + message);
        System.out.println("Message length is: " + message.length());

        byte[] messageBytes = message.getBytes("US-ASCII");
        stream.write(messageBytes, 0, messageBytes.length);
        stream.flush();
    }
    System.out.println("Shutting down socket server client...");        
    stream.close();
    client.close();
    inputReader.close();
}
}

