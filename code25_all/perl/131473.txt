Fatal
autodie
flock
LOCK_NB
flock
autodie
flock
LOCK_NB
$!
EWOULDBLOCK
use Fcntl qw(:flock);

use autodie;   # All perl built-ins now succeed or die.

open(my $fh, '<', 'some_file.txt');

my $lock = flock($fh, LOCK_EX | LOCK_NB);  # Lock the file if we can.

if ($lock) {
    # Opportuntistically do something with the locked file.
}

EWOULDBLOCK
flock
flock
EWOULDBLOCK
LOCK_NB
EWOULDBLOCK
autodie
POSIX::EWOULDBLOCK
LOCK_NB
LOCK_NB
flock
flock
Fatal
