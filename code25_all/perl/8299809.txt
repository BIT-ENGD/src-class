while ( ... ) {
  push @array, { label => "label", value => "value" };
}

use JSON::PP ;
print JSON::PP->new->utf8->encode(@array) ; 

{"value":"value","label":"label"}

[{"value":"value","label":"label"}{"value":"value","label":"label"} etc.. ]

