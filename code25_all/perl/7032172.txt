logdetail.txt
Final Command Run <command>
Final Command
logdetail.txt
logssummary.txt
User ID_1, Expiration, Validation
User ID_2,

use strict; 
use warnings;  
use Data::Dumper;  
my @all; 
my %data = (); 

open (Log_summary,">logsummary.txt");
open (INPUTFILE, "logdetail.txt");

while (%data = <INPUTFILE>) {

    next if /^\s*$/;  # skip empty lines     
    if (/^\s*Final\s*$/) {         
    push @all, { %data };         
    %data = ();         
    next;     
    }    
my ($key, $value) = split /\s*=\s*/, $_, 2;    
trim($key); 
trim($value);     
$data{$key} = $value; 
} 
push @all, { %data } if (%data);  # in case there is no Final at the end  print Dumper \@all;  
sub trim {    
     $_[0] =~ s/^\s+//;    
     $_[0] =~ s/\s+$//;
     }

close(INPUTFILE);

print Log_summary "\nNo more input - exiting\n";
print "\nNo more input - exiting\n";
close Log_summary;    

exit; 

