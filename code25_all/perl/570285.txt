print "$_\n" foreach(@files);

foreach(@files){
  print "$_\n";
}

die("Not a file: $_") unless -f $_ foreach(@files);

foreach
syntax error
-f or die "Not a file: $_" foreach @files;

die
die("Not a file: $_") for grep {!-f} @files;

