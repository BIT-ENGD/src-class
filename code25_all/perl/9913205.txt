#!/usr/bin/perl

use Net::SSH2;

my $host = "192.168.1.2";
my $user = "admin";
my $password = "";

#-- set up a new connection
my $ssh = Net::SSH2->new();
$ssh->connect($host);

#-- authenticate
$ssh->auth_password($user, $password);

#-- creating a channel
my $channel = $ssh->channel();

#-- running a command
$channel->exec("xstatus");

#-- Closing the connection
$channel->close;
$ssh->disconnect;

