#!/usr/bin/perl
use warnings;
use strict;
use PDF::API2;
use PDF::API2::Page;
use XML::LibXML::Reader;
use Data::Dumper;

my $file;
open( $file, 'formal.xml');
my $reader = XML::LibXML::Reader->new( IO => $file )
    or die ("unable to open file");

my %nums;
while ($reader->nextElement( 'Number' ) ) {
    my $number = $reader->readInnerXml();
    $reader->nextElement( 'address' ); 
    my $info = $reader->readOuterXml(); 
    $nums{$number} = $info;
}

my $pdf = PDF::API2->new(); 
# $pdf->mediabox('Letter');
my $font = $pdf->corefont('Times-Roman');
my $page = $pdf->page();
$page->mediabox('Letter');

my $cnt = 0;
for my $line (split /\n/, Dumper(%nums)) {
    if ($cnt > 46) {
        $page = $pdf->page();
        $cnt = 0;
    }
    my $text = $page->text();
    $text->font($font,14);
    $text->translate(72, 720-$cnt*14);
    $text->text($line);
    ++$cnt;
}

$pdf->saveas('svr.pdf');

   $VAR1 = '24';
   $VAR2 = '<Address>
            <housenumber="120"/>
           <streetname="xxx"/>
            <information/>
           </Address>';
  $VAR3 = '25';
   $VAR4 = '<Address>
       <housenumber="150"/>
    <streetname="xxx"/>
      <information/>
       </Address>';
     $VAR5 = '27';
     $VAR6 = '<Address>
             <housenumber="140"/>
             <streetname="xxx"/>
             </information>
                </Address>';

  number: 24, address information of the student.
     Information:Address,
             housenumber="120",
              streetname="xxx",
               information. 
     number: 25, address information of the student.
     Information:Address,
             housenumber="150",
              streetname="xxx"
              information. 
     number: 27, address information of the student.
     Information:Address,
             housenumber="140",
              streetname="xxx"
               information.  

