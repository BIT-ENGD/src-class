/dira/dirb
/dira/dirb/myprog.pl

/dira/dirb/testa/myfilesdir
/dira/dirb/testa/myfilesdir/file1.txt
/dira/dirb/testa/myfilesdir/file2.txt

/dir/dirb

./myprog.pl  -p testa/myfilesdir

while (my $file_to_proc = readdir(DIR)) {
...

$file_to_proc = file1.txt
$file_to_proc = file2.txt

$myfile = /dira/dirb/testa/myfilesdir/file1.txt
$myfile = /dira/dirb/testa/myfilesdir/file2.txt

