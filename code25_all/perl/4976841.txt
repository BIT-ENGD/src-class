#!/usr/bin/perl

use strict;
use warnings;

use Linux::Inotify2;

my $inotify = new Linux::Inotify2 or die "unable to create new inotify object: $!";

my $dir = "/my/dir";

$inotify->watch($dir, IN_CREATE, sub {
    my $e = shift;
    print $e->fullname;
}) or die " Can't watch $!";

1 while $inotify->poll;

