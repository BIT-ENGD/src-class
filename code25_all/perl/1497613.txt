if ( !open( F, $filetoopen) ){
    # do stuff with <F>
}

BEGIN {
    *CORE::GLOBAL::open = sub { open(F,$testfiletoopen); };
};

