while(<>) {
  if (/\{(.+?)\};/) {
    my @v= $1 =~ /([^\|\{\}]*?|\{\{.*?\}\})\|/g;
    my @output= (@v[0..4], guessMonsterClass($v[1]), $uniques{$v[0]}, '',@v[5..24]);
    print '{'.join('|',@output)."|};\n";
  } else { print; }
}

