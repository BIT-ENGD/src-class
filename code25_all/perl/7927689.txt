Devel::Size
use Devel::Size qw(total_size);

my $shared_obj = Foo->new();
my @list = ();
for (1..10) {
  push @list, Bar->new({ foo => $shared_obj });
}
print "Memory usage: ", total_size(\@list), "\n";

Foo
Bar
Foo
Devel::Size
Foo
Foo
Devel::Size
