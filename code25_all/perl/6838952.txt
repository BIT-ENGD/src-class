# in my app.psgi
builder {
   enable 'Cache', match_url => '[?&]cache',
      cache_dir => '/tmp/plack-cache';
# ... some 'mounts'
}

# in Plack::Middleware::Cache
    return Plack::Util::response_cb(
        $self->app->($env),
        sub {
            my $cache = shift;
            make_path($dir) unless -d $dir;
            return sub {
                if (not defined $_[0]) {
                    nstore $cache, $file;
                    return;
                }
                $cache->[2] ||= '';
                # comment out this line and errors go away!
                #$cache->[2] .= $_[0]; # the body is an arrayref sometimes!
                return $_[0];
            }
        }
    );

