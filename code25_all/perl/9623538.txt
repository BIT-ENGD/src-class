my $image_file = "a.jpg";
my $im = GD::Image->newFromJpeg($image_file);
my ($width, $height) = $im->getBounds();
my $outim = new GD::Image($width, $height);

foreach my $x (1..$width)
{
    foreach my $y (1..$height)
    {
        my $index = $im->getPixel($x-1,$y-1);
        my ($r,$g,$b) = $im->rgb($index);
        my $color = $outim->colorAllocate($r,$g,$b);
        $outim->setPixel($x,$y,$color);
    }
}
%printing the picture...

