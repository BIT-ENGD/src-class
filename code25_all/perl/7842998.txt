$cmd->ls("$chkdir");
$dirnm->{path}
sub results_in
my $DirResults = $cmd->ls("$chkdir"); #$chkdir is directory passed as argument
for my $dirnm ( @{$DirResults->{directory}} ) {
    print "Directory:  " . $dirnm->{path} . "\n";
}

#
### Database handle
#
my $dbh_oracle = DBI->connect(
      $CFG{oracle_dbi_connect},
      $CFG{db_user},
      $CFG{db_cred},
      {AutoCommit => 0,
       RaiseError => 0,
       PrintError => 0}) or die ("Cannot connect to the database: ".$DBI::errstr."\n");
my $res_in=results_in($dirnm->{path});  #Here for pseudo code
$dbh_oracle->disconnect();       

sub results_in
{
  my $sth= $dbh_oracle->prepare(q{
       INSERT into mydirs
          VALUES (280, '$res_in')}) ||
      die ("Cannot connect to the database: ".$DBI::errstr."\n");
  $sth->execute;
  $sth->finish;
}

