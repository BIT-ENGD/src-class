#!/usr/local/bin/perl
# server (transmitter)
use strict;
use IO::Socket::Multicast6;
use IO::Interface;
use constant GROUP => "235.1.1.2";
use constant PORT  => "3000";
my $sock = IO::Socket::Multicast6->new(
                   Proto=>"udp",
                   Domain=>AF_INET,
                   PeerAddr=>GROUP,
                   PeerPort=>PORT);
$sock->mcast_if("eth1");
$sock->mcast_ttl(10);
while (1) {
   my $message = localtime();
   $sock->send($message) || die "Could not  send: $!";
} continue {
   sleep 4;
}

