use LWP::UserAgent;
use HTTP::Cookies;
$xpl = new LWP::UserAgent(agent => 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.0.5) Gecko/20060719 Firefox/1.5.0.5');
$req = HTTP::Request->new(GET => 'http://example.com') or die "\n\n Failed to Connect, Try again!\n"; 
my $cookie_jar = HTTP::Cookies->new(file => 'cookie.txt');
$xpl->cookie_jar($cookie_jar);
$res = $xpl->request($req);
print $xpl->request($req)->as_string;

