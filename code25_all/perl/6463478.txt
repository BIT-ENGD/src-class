my $filter = POE::Filter::Line->new(OutputLiteral => '');

my $wheel = POE::Wheel::ReadWrite->new(
    Handle       => $socket,
    Filter       => $filter,
    InputEvent   => 'on_input',
    ErrorEvent   => 'on_error',
    FlushedEvent => 'on_flush',
);

