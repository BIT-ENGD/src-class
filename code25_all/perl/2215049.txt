my $user_agent = LWP::UserAgent->new;
my $request = HTTP::Request->new(GET => $url);
my $response = $user_agent->request($request);
if ($response->is_success) {
    print "OK\n";
} else {
    die($response->status_line);
}

500 Can't connect to <hostname> (Bad hostname '<hostname>')

AAAA
A
A
AAAA
AAAA
A
