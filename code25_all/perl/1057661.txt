setup
use MooseX::Declare;

class MyApp::CGI 
extends Moose::Object
extends CGI::Application { 

    method setup { 
        $self->start_mode( 'main' );

        my @methods = map { $_->name } $self->meta->get_all_methods;

        $self->run_modes( map  { /^rm_(.+)$/  => $_ }
                          grep { /^rm_/ }
                          @methods
                        );
    }

}

use MooseX::Declare;

class MyApp::CGI::Login 
extends MyApp::CGI { 
    method rm_main { 
        return "it works";
    }
}

setup
Moose::Object
around new { 
    $self = $orig->( @_ );
    $self->CGI::Application::new( @_ );
}

Can't call method "BUILDARGS" on unblessed reference at ...Moose/Object.pm line 21.

