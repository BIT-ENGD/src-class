use Net::SSH::Expect;

my $ssh = Net::SSH::Expect->new (
            host => "$node_name",
            user => 'admin',
            timeout => 10,
            raw_pty => 1,
            );

$ssh->run_ssh() or die "SSH process couldn't start: $!";

$ssh->waitfor('password: ');

$ssh->send("$password");

$ssh->waitfor('mml> ');

@ls=$ssh->exec("$command");

print @ls;

#BREAK1: At this point remote device ask for "Press Enter to continue..." because output is more than one page..that is why below code

while ($ssh->waitfor('continue')) {
$line=$ssh->send("\n");
print $line;
}

@ls=$ssh->exec("$command");
BREAK1
