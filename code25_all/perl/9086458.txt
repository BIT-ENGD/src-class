$image = GD::Image->newFromPngData($mydata);

$image = GD::Image->newFromPngData($mydata,1);

#!/usr/bin/perl

use GD;

$image = GD::Image->newFromPng($ARGV[0]);

if ($image->isTrueColor()) {
  print "truecolor\n";
} else {
  print "indexed\n";
}

