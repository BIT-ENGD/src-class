sub function($&) {
    my $param1 = shift;
    my $code = shift;
    # do something with $param1 and $code
}

function("whatever") {
    print "i'm inside the coderef\n";
}

Not enough arguments for MyPackage::function at x.pl line 5, near ""whatever" { "
sub
