use strict;
use warnings;
use 5.10.0;

use Net::SSH2;

my $ssh2 = Net::SSH2->new();
my $auth;

if ( $ssh2->connect('hostname') ) {

    $auth = $ssh2->auth_publickey(
       'username',
       '/home/mike/.ssh/id_rsa.pub',
       '/home/mike/.ssh/id_rsa',
       'password'
    );  
}   

if ($auth && $ssh2->auth_ok) {
    say 'Success';
} else {
    say join ', ', $ssh2->error;
}  

ssh-keygen
ssh-keygen -t rsa
ssh-copy-id user@server
ssh user@server

-16, LIBSSH2_ERROR_FILE, Unable to initialize private key from file

Net::SSH2         0.35

libssh2-1         1.2.2-1
libssh2-1-dev     1.2.2-1
ssh               1:5.3p1-3ubuntu6
openssh-server    1:5.3p1-3ubuntu6
openssh-client    1:5.3p1-3ubuntu6
openssl           0.9.8k-7ubuntu8.6
libssl-dev        0.9.8k-7ubuntu8.6

libssh2-1
libssh2-1-dev
Can't load '/usr/local/lib/perl/5.10.1/auto/Net/SSH2/SSH2.so'

libssh2
Net::SSH2
libssh2-1
libssh2-1-dev
libssh2
libssh2
Net::SSH2
libssh2-1-dev
lib
include
Makefile.PL
$lib
$inc
Makefile.PL
