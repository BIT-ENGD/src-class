module-starter
sub not_in_file_ok {
  my ($filename, %regex) = @_;
  open( my $fh, '<', $filename )
    or die "couldn't open $filename for reading: $!";

  my %violated;

  while (my $line = <$fh>) {
    while (my ($desc, $regex) = each %regex) {
        if ($line =~ $regex) {
            ##I'm having problems here
            push @{$violated{$desc}||=[]}, $.;
        }
    }
  }
  ...
}

||=[]
|
|=
||
=[]
push @{$violated{$desc}}, $.
$desc
%violated
desc
$violated{$desc}
$violated{$desc}
@{$value}
