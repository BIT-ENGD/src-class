my $parent = $resultset->find($parent_id);
my @children = $parent->children->all

my $parent = $resultset->new_result({});
my @children = $parent->children->all;

@children
sub children {
    my $self = shift;

    my $res = $self->next::method(@_);
    my $parent_no = $self->get_column('parent_no');
    defined $parent_no ? $res : $res->search({1 => 2});

}

