use Carp 'cluck';

sub main {
    my $logfile ="/some/path/logfile.txt";
    open STDERR, ">>$logfile";
    # main logic
    ...
}

sub eval_main {
   eval {
       main;
   };
   if ($@) {
       cluck $@;
       close STDERR;
       # redirect to "friendly error page"
       ....
   }
 }

 eval_main;

