use List::Compare;
use POSIX qw/strftime/;
use strict;
open (CMP_LIST1, "D:\\Compare\\List1.txt") || die ("cannot open general.txt");
open (CMP_LIST2, "D:\\Compare\\List2.txt") || die ("cannot open search.txt");
undef $/;
my $cmp_list1 = <CMP_LIST1>;
my $cmp_list2 = <CMP_LIST2>;
my @cmp1_array = split /\n/, $cmp_list1;
my @cmp2_array = split /\n/, $cmp_list2;
close CMP_LIST1;
close CMP_LIST2;
my $count = scalar @cmp1_array;
for(my $i=0;$i<$count;$i++){
   &Compare($cmp1_array[$i],$cmp2_array[$i]);
}
print "over";
sub Compare {
    my ($cmp1_filename,$cmp2_filename)=@_;
    my $time = strftime('%H_%M_%S',localtime);
    open(OUT,">$time.txt");
    open (F, "$cmp1_filename")||die("$cmp1_filename File cannot open\n");
    open (S, "$cmp2_filename")||die("$cmp2_filename File cannot open\n");
    my @a=<F>;
    my @b=<S>;
    my $lcma = List::Compare->new(\@a, \@b);
    print OUT "$cmp2_filename\n", $lcma->get_complement,"\n";#extra present in the second array
    print OUT "$cmp1_filename\n", $lcma->get_unique,"\n";#extra present in the First array
    close OUT;
    sleep 1;
}

