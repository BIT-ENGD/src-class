or croak
use strict;
use warnings;

my $dir = "somedir2";

my $result= (-e $dir);

if( ! (-e $dir))
{
     print "$dir doesn't exist\n";
}
else 
{
     print "$dir exists\n";
}

#print "$result\n";


if(! (-d $dir))
{
     print "$dir isn't a dir!\n";
}
else
{
     print "$dir is a dir\n";
}

#Does the output directory not exist?
    open_logger("logfile.txt");
    logger("initializing logfile.");
    logger("Checking $outputdir for existence...");
   if( ! ( -e $outputdir))
   {
         logger("$outputdir doesn't exist...creating");
      #if so, then create it
      if( ! mkdir($outputdir))
      {
         $result = "Could not create $outputdir: $!";
            logger("Could not create $outputdir: $!");
         return ($success, $result);
      }
         logger("Created $outputdir");
   }
    else
    {
         logger("$outputdir exists...");
    }

   #is the directory not a directory? then die - something's off.
   if( ! ( -d $outputdir))
   {
      $result = "Failure: output directory $outputdir not a directory!\n";
        logger("$outputdir isn't a directory");
      return ($success, $result);
   }

     my $fh_logger_package;
sub open_logger
{
     my $filename = shift;
     open(FILE, ">$filename") or croak("Could not init logfile: $!");
     $fh_logger_package = \*FILE;
     print STDERR "Opened $filename\n";
     if( ! (-e $filename))
     {
          croak("Crikey! Did not create file!");
     }
}
sub logger
{
     my $message = shift;

     print STDERR $message . "\n";
     print $fh_logger_package $message . "\n" or croak("Could not print to filehandle...");
}

