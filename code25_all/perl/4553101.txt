$txt="\nRemove empty line at beg.".
     "\n\nRemove double empty line,      double spaces and ending space: \n".
     "\n and beginning. Same for tabs\t\n".
     "\tSame for Tab at beginning and multiple tabs \t\t\t and line break at end:\n\n\n";

# Works
$txt=~s/\r//gs; # * this is needed for actual $txt which may contain \r

# Following *should* replace it not with 1 space, but with 1 space or \t depending on input
$txt =~ s/[\t ]+/ /gs; # Replace duplicate whitespace mid-string with 1 space

$txt =~ s/[\t ]*$//gms; # Remove ending spaces/tabs
$txt =~ s/^[\t ]*//gms; # Remove starting spaces/tabs

$txt=~s/\n+/\n/gs;      # replace all runs of > 1 \n with a single \n

# clearly redundant
$txt =~ s/^$//ms;       # Remove completely empty lines ** does not work **
$txt =~ s/^\n//ms;       # Remove completely empty lines (beg.)
$txt =~ s/\n$//ms;       # Remove completely empty lines (end.)

