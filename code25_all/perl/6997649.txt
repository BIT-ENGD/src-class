sub run_subtest {
  my $desc = 'subtest description';

  subtest _construct_colored_description($desc) => sub { $passed = 1; #passed is global };
}

sub _construct_colored_description {
  my $desc = shift;
  return colored [$passed ? 'green' : 'red'], $desc;
}

use use Term::ANSIColor
$passed
colored ...
subtest
_construct_colored_description
