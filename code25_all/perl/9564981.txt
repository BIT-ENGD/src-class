while (1) {
    do_stuff;
    do_some_checks;
    do {  warn error 1; last }  if not OK;

    do_more_stuff;
    do_some_checks;
    do {  warn error 2; last }  if not OK;

    do_even_more_stuff;
    do_some_checks;
    do {  warn error 3; last }  if not OK;

    ...
    #finally
    last;
}

do_stuff;
do_some_checks;
if (!OK) {
    warn error 1;
} else {
    do_more_stuff;
    do_some_checks;
    if (!OK) {
        warn error 2;
    } else {
       do_even_more_stuff;
       do_some_checks;
       if (!OK) {
           ...
       }
       # finally
       success!    
    }
}

last
