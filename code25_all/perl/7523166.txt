CREATE TABLE Names (_id INTEGER PRIMARY KEY,
                    name TEXT
                   );

CREATE TABLE Categories (_id INTEGER PRIMARY KEY,
                         category TEXT
                        );

CREATE TABLE Name_Category (name_id INTEGER,
                            category_id INTEGER,
                            PRIMARY KEY (name_id, category_id),
                            foreign key (name_id) references Names(_id),
                            foreign key (category_id) references Categories(_id) 
                           );

'Name' 'Category'

use strict;
use warnings;

open (my $name_category_pair_file, "<", "name_category.txt") or die "Can't open name_category.txt: $!";
open (my $output_sql_file, ">", "load_name_category_junction_table.sqlite") or die "Can't open load_name_category_junction_table.sqlite: $!";

while (<$name_category_pair_file>) {
    if (/('[a-zA-Z ]*') ('[a-zA-Z ]*')/) {
        my $sql_statement = "INSERT INTO Name_Category VALUES (
                             (SELECT _id FROM Names WHERE name = $1),
                             (SELECT _id FROM Categories WHERE category = $2))\;\n\n";

        print $output_sql_file $sql_statement;
    }
}

close $name_category_pair_file or die "$name_category_pair_file: $!";
close $output_sql_file or die "$output_sql_file: $!";

