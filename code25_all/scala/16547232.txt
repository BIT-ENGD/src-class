abstract class IRDMessage extends Ordered[IRDMessage] {

  val messageType: MessageType.Type
  val timestamp: DateTime
  val content: AnyRef

  def compare(that: IRDMessage): Int = {
    val res = timestamp compareTo that.timestamp
    res
  }

  override def equals(obj: Any): Boolean = obj match{
    case message: IRDMessage => compareTo(message) == 0
    case _ => false
  }

}

a == b
