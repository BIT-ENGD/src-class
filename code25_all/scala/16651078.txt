  def receive = {
    ...

    case HttpRequest(POST, Uri.Path("/upload"), _, entity, _) =>
      object mp extends MultipartUnmarshallers
      mp.MultipartFormDataUnmarshaller(entity).foreach{ part =>
        for{
          fname <- part.fields.get("Filename").map(_.entity.asString)
          fbody <- part.fields.get("Filedata").map(_.entity.buffer)
        }{
          println(fname+ ": " +fbody.length)
        }       
      }
      sender ! HttpResponse(status = 200)

    ...
  }

