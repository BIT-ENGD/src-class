@Entity("users")
User(@Required val uname: String, val isAdmin: Boolean = false)  {
  @Id var id: ObjectId = _

  @Reference val accounts = new ArrayList[Account]

}


@Entity("account")
class Account {

   @Id var id: ObjectId = _

  @Embedded val addresses = new ArrayList[Address] 
  @Reference val departments = new ArrayList[Department]  

  var description : String = _

}


class Address {
  street: String = _
  city: String = _

}

@Entity("department")
class Department {

 @Id var id: ObjectId = _

  principal: String = _ 

}

User(foo):
    uname: Foo
    accounts:

