class Person {
  @BeanProperty
  var firstName: String = _
}

val p = new Person
p.getFunction(p.getFirstName).toString // "getFirstName"
p.getAttribute(p.firstName).toString   // "firstName"

val jpql = "select p from Person p where p.age > 20";

val jpql = "select p from " + classOf[Person].getName + " where p." + 
  Person.getAttName(p.age) + " > 20";

