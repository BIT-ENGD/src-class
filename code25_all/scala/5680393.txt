object Account extends RestHelper {
  def createUser = {
    for {
      username <- S.param("username") ?~ "username parameter missing" ~> 400
      number <- S.param("number") ?~ "number parameter missing"
    } yield {
      val u = GeoFence.createRecord.name(username)
      u.save
      u.asJSON
    }
  }

  serve {
    case Req("api" :: "hello" :: Nil, "json", GetRequest) => JString("hi")
    case Req("api" :: "accounts" :: "new" :: Nil, "json", GetRequest) => createUser()
  }
}

(class: net/liftweb/record/Record$class, method: toForm signature: (Lnet/liftweb/record/Record;Lscala/Function1;)Lscala/xml/NodeSeq;) Incompatible object argument for function call

