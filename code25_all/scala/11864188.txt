if processingSet has userId then BadRequest
else put userId in processingSet and handle request
     after that remove userId from that Set

