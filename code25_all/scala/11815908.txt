class MyCommand[-T, +R](val name: String, val execute: T => R)

val commands = new mutable.MutableList[MyCommand[Nothing, Any]]
commands += new MyCommand[String, String]("lower", s => s.toLowerCase())
commands += new MyCommand[Date, Long]("time", d => d.getTime)

val data = Array("StRiNG", new Date())

data.foreach {
  d => commands.foreach {
    c =>
    // println(c.execute(d)) if d is applicable to c.execute().
  }
}

c.execute match {
  case m: (d.getClass => Any) => println(c.execute(d))
}

