// create a bean item container 
val writers: BeanItemContainer[Person] = new BeanItemContainer[Person](classOf[Person])

// create some person objects 
writers.addBean(new Person("Thomas", "Mann",  1929))
writers.addBean(new Person("W. B.",  "Yeats", 1923))
writers.addBean(new Person("GÃ¼nter", "Grass", 1999))

// create the table incl. the bean item container  
val table: Table = new Table("Nobel Prize for Literature", writers)

// set some options for the table 
table.setImmediate(true)
table.setEditable(true)
table.setValidationVisible(true)

// create the save button
val saveButton = new Button("save") 

// create a table listener 
saveButton.addListener(new Button.ClickListener() {
  def buttonClick(event: com.vaadin.ui.Button#ClickEvent) {
    table.commit()
    val writerList = table.getItemIds.asInstanceOf[Collection[Person]].asScala.toList
    //
    // **THIS WILL NOT WORK** 
    // 
    //   I received always the original rows, without the
    //   user input, but I needs the user input, the changed rows.
    //                           
    //
    for (item <- writerList) {
      println("firstName ====> " + item.getFirstName)
      println("lastName =====> " + item.getLastName)
      println("year==========> " + item.getYear)
    }
  }
});

