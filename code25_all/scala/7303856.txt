object FMatch { def unapply(t : T) = f(t) }

collection.collectFirst{ case FMatch(result) => result }

