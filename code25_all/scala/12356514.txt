import scala.annotation.tailrec
object Test extends App {
  @tailrec
  def tailrectest(i: Int): Int = i match {
    case i if i > 0 => {
      val x = () => tailrectest(10)
      tailrectest(i - 1)
    }
    case 0 => 0
  }
}

could not optimize @tailrec annotated method tailrectest: it contains a recursive call not in tail position

val x = () => tailrectest(10)
