scala> class DynamicImpl(x: AnyRef) extends Dynamic {
     |   def _select_(name: String): DynamicImpl = {
     |     new DynamicImpl(x.getClass.getMethod(name).invoke(x))
     |   }
     |   def _invoke_(name: String)(args: Any*) = {
     |     new DynamicImpl(x.getClass.getMethod(name, args.map(_.asInstanceOf[AnyRef].getClass) : _*).invoke(x, args.map(_.asInstanceOf[AnyRef]) : _*))
     |   }
     |   override def typed[T] = x.asInstanceOf[T]
     |   override def toString = "Dynamic(" + x.toString + ")"
     | }
defined class DynamicImpl

scala> 

scala> implicit def toDynamic(x: Any): Dynamic = new DynamicImpl(x.asInstanceOf[AnyRef])
toDynamic: (x: Any)Dynamic

scala> class Duck {
     |   def quack = "Quack!"
     | }
defined class Duck

scala> class QuackingSwan {
     |   def quack = "Swack!"
     | }
defined class QuackingSwan

scala> def makeQuack(d: Dynamic) {
     |   println(d.quack.typed[String])
     | }
dynatype: d._select_("quack")
makeQuack: (d: Dynamic)Unit

scala> makeQuack(new Duck)
Quack!

scala> makeQuack(new QuackingSwan)
Swack!

scala> val s: Dynamic = "Hello, world!"
s: Dynamic = Dynamic(Hello, world!)

scala> s.toLowerCase
dynatype: line8$object.$iw.$iw.s._select_("toLowerCase")
res2: Dynamic = Dynamic(hello, world!)

scala> s.length
dynatype: line8$object.$iw.$iw.s._select_("length")
res3: Dynamic = Dynamic(13)

scala> s.isEmpty.typed[Boolean]
dynatype: line8$object.$iw.$iw.s._select_("isEmpty")
res4: Boolean = false

_select_
_invoke_
