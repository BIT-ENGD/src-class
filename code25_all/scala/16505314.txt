case class foo(s:Set[String]) extends Iterable[String] {
    override def iterator = s.iterator
}

var bar = foo(Set() + "test1" + "test2")
bar = bar.map(x => x)

 found   : Iterable[String]
 required: foo
   bar = bar.map(x => x)
                ^

SetProxy
Set
Set
Foo
SetProxy
