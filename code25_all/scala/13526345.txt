class A { def print = println("A") }
class B extends A { override def print = println("B") }

def foo(implicit a: A) = a.print

def bar(implicit a: A) = {
  implicit val b = new B
  foo
}

bar(new A) // B

foo
bar
ambiguous implicit values
implicit val b: A = new B

foo
b
a
def bar(implicit a: A) = {
  implicit val a = new B
  foo
}

val a
