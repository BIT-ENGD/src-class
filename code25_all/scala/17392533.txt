import swing._
import swing.event._

case class SomethingHappened extends Event {
  println("Yes, something indeed has been published!")
}

class MyDialog extends Dialog {
  contents = new BoxPanel(Orientation.Vertical) {
    val myButton = Button("Click me and something will happen!") {
      publish(SomethingHappened())
    }
    contents += new TextField {
      listenTo(myButton)
      reactions += {
        case SomethingHappened() =>
          // This actually never happens... :(
          peer.setText("Voil√†!")
          println("You didn't expect it coming, did you?")
      }
    }
    contents += myButton
  }
  open()
}

new MyDialog()

