username:String = ""
firstname:String = ""
lastname:String = ""

private object selectedUser extends RequestVar[Box[myUser]](Empty)

def getusers(html: NodeSeq):NodeSeq = {

    //This gets me a list of 10 users that are "myUser" objects
    val userList = User.getUsers(10)

    userList.flatMap{user => bind("user", html,
        "username" -> SHtml.link("/%2Fadmin%2Fdetail", () => selectedUser(Full(user)), Text(user.username)),
        "firstname" -> {user.firstname},
        "lastname" -> {user.lastname},
        "lastloggedin" -> {user.lastloggedin})}
}

def userdetail(html: NodeSeq):NodeSeq = {
    selectedUser.is.map{user => bind("user", html, 
        "username" -> {user.username},
        "firstname" -> {user.firstname},
        "lastname" -> {user.lastname},
        "lastloggedin" -> {user.lastloggedin})}
}

def userdetail(html: NodeSeq):NodeSeq = {

    var username = ""
    var firstname = ""
    var lastname = ""
    var lastloggedin = ""

    bind("user", html, 
        "username" -> {username},
        "firstname" -> {firstname},
        "lastname" -> {lastname},
        "lastloggedin" -> {lastloggedin})
}

