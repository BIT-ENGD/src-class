trait PolyTree[T <: PolyTree[T]]  { 


    private val _parents: ListBuffer[T] = ListBuffer() 
    private val _children: ListBuffer[T] = ListBuffer() 


    def addParent(parent: T): PolyTree[T] = { 

        if (parent == this) 
            throw new IllegalArgumentException(); 

        _parents += parent 

        parent._children += this // Error 

        this 
    } 

}

