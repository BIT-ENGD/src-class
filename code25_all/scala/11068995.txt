package controllers

import play.api._
import play.libs._
import play.api.mvc._

object Application extends Controller {
     def jsonStringMap(str: String) =
      util.parsing.json.JSON.parseFull(str) match {
         case Some(m: Map[_,_]) => m collect {
               // If this doesn't match, we'll just ignore the value
               case (k: String, v: String) => (k,v)
            } toMap
         case _ => Map[String,String]()
      }

  def index = Action {
    Ok(views.html.index("Your new application is ready."));
  }

  def view_mix(id: Int) = Action {
    Ok("")
  }

  def view_popular = Action {
    val whydoyouhateme: F.Promise[play.libs.WS.Response] = WS.url("http://8tracks.com/mixes/1002?format=json&api_key=10889794345788a1eee1110e06b5aa5405d76170").get()
    Ok(whydoyouhateme.get().getBody())
  }
}

