getOrElseUpdate
object WithCache{
  val cacheFun1 = collection.mutable.Map[Int, Int]()
  def fun1(i:Int) = i*i
  def catchedFun1(i:Int) = cacheFun1.getOrElseUpdate(i, fun1(i))
}

catchedFun1
cacheFun1
fun1
fun1
cacheFun1
fun1
cacheFun1
cacheFun1
scala.collection.mutable.WeakHashMap and java.lang.ref.*
