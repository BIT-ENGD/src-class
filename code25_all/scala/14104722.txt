case class Foo(name: String, key: String, value: String)

def fooFromMap(item: Map[String, String]): Option[Foo] = {
  var name: String = null
  var key: String = null
  var value: String = null
  item.foreach { 
    case ("name", v) => name = v
    case (k, v) => key = k; value = v
  }
  if(name != null && key != null && value != null) Some(Foo(name, key, value))
  else None
}

