for (security <- allSecurities) {
  val askLast = ask
}

 var lastSecurity = ""  
  private val lastAsk = new HashMap[...]
  def allSecurities = for {
    security <- lastTrade.keySet.toList
  } yield {
    lastSecurity = security
    security
  }

  def ask = lastAsk(lastSecurity).price

val askLast = ask

val askLast = ask(security)

