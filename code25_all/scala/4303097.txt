sealed trait Foo {
  type T
  def doit(other: T): T
}

sealed trait Foo[T] {
  def doit(other: T): T
}

T
Foo
case class Bar(name: String) extends Foo[Bar] {
  def doit(other: Bar): Bar = ...
}

