Map("product1" -> List(Product1ObjectTypes), "product2" -> List(Product2ObjectTypes))

ProductObjectType
usage
counter
ProductXObjectTypes
ProductObjectType
mapValues
usage
CurrentProduct1ObjectType.counter - PreviousProduct1ObjectType.counter
val reportsWithCalculatedUsage =
  reportsRefined.flatten.flatten.toList.groupBy(_._2.product).mapValues(f)

mapValues
