List(List(2), List(3), List(2, 2), List(5), List(3, 2), 
     List(7), List(2, 2, 2), List(3, 3), List(5, 2), 
     List(11), List(3, 2, 2))

List(2,2,2,3,3,5,7,11)

xs.flatMap(l=> l.groupBy(x=>x)).map(x=>(x._1,x._2.length)).
   groupBy(_._1).mapValues(_.maxBy(_._2)).values.
   map(x=>List.fill(x._2) (x._1)).flatten

