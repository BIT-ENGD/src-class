cookiejar = cookielib.CookieJar()
proxies = {'http':'http://some-proxy:port/'}
opener = urllib2.build_opener(urllib2.ProxyHandler(proxies),urllib2.HTTPCookieProcessor(cookiejar) ) 
opener.addheaders = [('User-agent', "USER AGENT")]
urllib2.install_opener(opener) 
url = "URL" 
opener.open(url, urllib.urlencode({"DATA1":"DATA1"}))

