class Transaction(db.Model):
    accountDebit = db.ReferenceProperty(reference_class=Account,
                                       collection_name="kontoDuguje")
    accountCredit = db.ReferenceProperty(reference_class=Account, 
                                       collection_name="kontoPotrazuje")
    amount = db.FloatProperty()
    Tran_date = db.DateProperty()
    comment = db.StringProperty()

def GetTransactions(self):
    transactions = []
    transactions_debit = db.GqlQuery('SELECT * FROM Transaction ' + 
                                    'WHERE accountDebit=:1',self)
    transactions_credit = db.GqlQuery('SELECT * FROM Transaction ' + 
                                    'WHERE accountCredit=:1',self)
    for x in transactions_debit:
        x.amount = -x.amount
        transactions.append(x)
    for x in transactions_credit:
        x.amount = x.amount
        transactions.append(x)
   return transactions

