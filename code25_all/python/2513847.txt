
with open('ids.txt', 'rU') as f:
        with open('seqres.txt', 'rU') as g:
                for id in f:
                        id=id.lower()[0:4]+'_'+id[4]
                        with open(id + '.fasta', 'w') as h:
                                for line in g:
                                        if line.startswith('>'+ id):
                                                h.write(g.next())


with open('ids.txt', 'rU') as f:
        fl = f.readlines()
        with open('seqres.txt', 'rU') as g:
                gl = g.readlines()
                for id in fl:
                        id=id.lower()[0:4]+'_'+id[4]
                        with open(id + '.fasta', 'w') as h:
                                for line in xrange(len(gl)):
                                        if gl[line].startswith('>'+ id):
                                                h.write(gl[line+1])

