#!/usr/bin/python
...do useful stuff...
exit(exit_status)

In [nnn]: %run -p -D myscript.pstats myscript.py

#!/usr/bin/python
...do useful stuff...
if is_python_running_interactively():
    print "The exit_status was %d" % (exit_status,)
else:
    exit(exit_status)

