while not hardware_is_ready():
    pass
process_data_from_hardware()

yield
while not hardware_is_ready():
    threading.yield()          # This function doesn't exist.
process_data_from_hardware()

yield
