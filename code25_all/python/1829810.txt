import os
import media
import sys

def recolour(old, new, folder):
old_list = old.split(' ')
new_list = new.split(' ')
folder_location = os.path.join('C:\\', 'Users', 'Owner', 'Spriting', folder)

for filename in os.listdir (folder):
    current_file = media.load_picture(folder_location + '\\' + filename)
    for pix in current_file:
        if (media.get_red(pix) == int(old_list[0])) and \
            (media.get_green(pix) == int(old_list[1])) and \
                (media.get_blue(pix) == int(old_list[2])):
            media.set_red(pix, new_list[0])
            media.set_green(pix, new_list[1])
            media.set_blue(pix, new_list[2])                
            media.save(pic)

while 1:
    old = str(raw_input('Please insert the original RGB component, separated by a single space: '))
    if old == 'quit':
        sys.exit(0)
    new = str(raw_input('Please insert the new RGB component, separated by a single space: '))
    if new == 'quit':
        sys.exit(0)
    folder = str(raw_input('Please insert the name of the folder you wish to modify: '))
    if folder == 'quit':
        sys.exit(0)
    else:
        recolour(old, new, folder)

