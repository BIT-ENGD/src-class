allowed_bits = ['a', 'p']
re.compile(r'<(%s)[^>]*(/>|.*?</\1>)' % ('|'.join(allowed_bits)))

<a href="blah blah">blah</a>
<p />

<html>blah blah blah</html>

<html>blah blah</html>
<script type="text/javascript">blah blah</script>

<p>Hello</p>

re.compile(r'<(**^**%s)[^>]*(/>|.*?</\1>)' % ('|'.join(allowed_bits)))

