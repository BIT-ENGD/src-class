    dlg = wx.FileDialog(self, "Choose a file", self.dirname, "", "*.*", \
    wx.SAVE | wx.OVERWRITE_PROMPT)
    if dlg.ShowModal() == wx.ID_OK:   # user enters filename as something.bmp
     self.show_bmp = wx.StaticBitmap(self)

     w, h = self.GetClientSize()

     draw_bmp = wx.EmptyBitmap(w, h)

     c = wx.MemoryDC(draw_bmp)

     c.SetBrush(wx.Brush('white'))

     c.Clear()

     c.SetPen(wx.Pen("purple", 15))

     c.DrawRectangle(30,30,60,60)   ### ??????####

     myimage = self.show_bmp.GetBitmap()
     self.filename=dlg.GetFilename()
     name = os.path.join('C:\mad', self.filename)
     myimage.SaveFile(name, wx.BITMAP_TYPE_JPEG)
     self.filename=name
    dlg.Destroy()

