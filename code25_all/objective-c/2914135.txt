int nrSegments=[segment valueForKeyPath:@"iteneryLegs.@count"];
    if (0==nrSegments) {
        [self removeSegment:segment];
    }

int nrSegments=[[segment valueForKeyPath:@"iteneryLegs] count];
    if (0==nrSegments) {
        [self removeSegment:segment];
    }

