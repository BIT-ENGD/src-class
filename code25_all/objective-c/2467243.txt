#import <Foundation/Foundation.h>
#import <objc/runtime.h>
@interface Bug : NSObject
{
    long        longVal;
    long long   longerVal;
}
@property (nonatomic,assign) long longVal;
@property (nonatomic,assign) long long longerVal;
@end

@implementation Bug

@synthesize longVal,longerVal;

@end


int main (int argc, const char * argv[]) {
    NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];
    unsigned int    ivarCount=0;
    Ivar *ivars= class_copyIvarList([Bug class], &ivarCount);

    for(unsigned int x=0;x<ivarCount;x++) {
        NSLog(@"Name [%@] encoding [%@]",
         [NSString stringWithCString:ivar_getName(ivars[x]) encoding:NSUTF8StringEncoding],
              [NSString stringWithCString:ivar_getTypeEncoding(ivars[x]) encoding:NSUTF8StringEncoding]);
    }

    [pool drain];
    return 0;
}

This GDB was configured as "x86_64-apple-darwin".tty /dev/ttys000
Loading program into debugger…
sharedlibrary apply-load-rules all
Program loaded.
run
[Switching to process 6048]
Running…
2010-03-17 22:16:29.138 ivarbug[6048:a0f] Name [longVal] encoding [q]
2010-03-17 22:16:29.146 ivarbug[6048:a0f] Name [longerVal] encoding [q]
(gdb) continue

