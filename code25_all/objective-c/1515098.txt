- (void)viewDidLoad {
    [super viewDidLoad];

    [NSThread detachNewThreadSelector:@selector(changeMain) toTarget:self withObject:nil];
    [NSThread detachNewThreadSelector:@selector(changeThread) toTarget:self withObject:nil];
}

- (void)changeMain{
    NSAutoreleasePool* arp = [[NSAutoreleasePool alloc] init];

    for (int i = 0; i < 1000000; i++) {
        [mainValue setText:[NSString stringWithFormat:@"%d",i]];
        [self.view setNeedsDisplay];    
    }

    [arp release];
}
- (void)changeThread{
    NSAutoreleasePool* arp = [[NSAutoreleasePool alloc] init];

    for (int i = 0; i < 1000000; i++) {
        [threadValue setText:[NSString stringWithFormat:@"%d",i]];
        [self.view setNeedsDisplay];
    }

    [arp release];
}

