managedObjectContext = [[[NSDocumentController sharedDocumentController] currentDocument] managedObjectContext];

NSSize windowSize;
windowSize.width = documentWindow.frame.size.width;
windowSize.height = documentWindow.frame.size.height;

SizeInfo *windowInfo = (SizeInfo *)[NSEntityDescription insertNewObjectForEntityForName:@"SizeInfo" inManagedObjectContext:managedObjectContext];

[windowInfo setWidth:[NSString stringWithFormat:@"%f", windowSize.width]];
[windowInfo setHeight:[NSString stringWithFormat:@"%f", windowSize.height]];

NSLog (@"Width = %f, Height = %f", windowInfo.width, windowInfo.height);

managedObjectContext = [self managedObjectContext];

NSArray *array = [MyDocument objectsForEntityNamed:@"SizeInfo" inContext:managedObjectContext];
NSLog (@"%@", [array objectAtIndex:0]);

+ (NSArray *)objectsForEntityNamed:(NSString *)name inContext:(NSManagedObjectContext *)context
{
NSEntityDescription *entity = [NSEntityDescription entityForName:name inManagedObjectContext:context];

NSFetchRequest *req = [[NSFetchRequest alloc] init];    
[req setEntity:entity];

NSError *error = nil;

NSArray *array = [context executeFetchRequest:req error:&error];

if (array == nil)
{
    NSException *exception = [NSException 
                              exceptionWithName:self 
                              reason:[error localizedDescription] 
                              userInfo:nil];


    [req release];
    [exception raise];
}

[req release];

return array;
}

*** -[NSArray objectAtIndex:]: index (0) beyond bounds (0)

