-(IBAction) playVideo : (id) sender
{
  [self initPlayingVideo:@"toyVid.mp4"];
}

-(void) initPlayingVideo: (NSString *) videoFile
{
  NSString *moviePath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:videoFile];

  theMovie = [[MPMoviePlayerViewController alloc] initWithContentURL:[NSURL fileURLWithPath:moviePath]];
  theMovie.moviePlayer.scalingMode = MPMovieScalingModeAspectFit;
  theMovie.moviePlayer.controlStyle = MPMovieControlStyleFullscreen;


  [self.view addSubview:theMovie.view];

  [[NSNotificationCenter defaultCenter]
  addObserver:self
  selector:@selector(videoPlayerDidFinishPlaying
  name:MPMoviePlayerPlaybackDidFinishNotification
  object:theMovie];

  videoPlayer = [theMovie moviePlayer];
  [videoPlayer play];
}

-(void) videoPlayerDidFinishPlaying: (NSNotification*)aNotification
{
  theMovie = [aNotification object];
  [[NSNotificationCenter defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackDidFinishNotification object:theMovie.moviePlayer];
  [videoPlayer stop];
  [theMovie.moviePlayer release];
  [videoPlayer release];
  [theMovie.view removeFromSuperview];
}

