// In CallerIDAppDelegate.h
@class MainViewController;
@class ResultsViewController;

@interface CallerIDAppDelegate : NSObject <UIApplicationDelegate> {
    UIWindow *window;

    IBOutlet MainViewController *mainViewController;
    IBOutlet ResultsViewController *resultsViewController;

    NSString *phoneNumber;

   NSMutableArray *parsingResults;

   BOOL isSearchingForSaved;
}
[...]

// In CallerIDAppDelegate.m
[...]
- (void)applicationDidFinishLaunching:(UIApplication *)application {
    /* Set up and display MainView */
    MainViewController *mainController = [[MainViewController alloc]    initWithNibName:@"MainView" bundle:[NSBundle mainBundle]];
    self.mainViewController = mainController;
    [window addSubview:mainController.view];

    // Override point for customization after application launch
    [window makeKeyAndVisible];
}

-(void)switchViews{
    if(self.resultsViewController == nil){
        ResultsViewController *resultsController = [[ResultsViewController alloc] initWithNibName:@"ResultsViewController" bundle:nil];
        self.resultsViewController = resultsController;
        [resultsController release];
    }

    if(self.mainViewController.view.superview == nil){
        [resultsViewController.view removeFromSuperview];
        [window insertSubview:mainViewController.view atIndex:0];
    } else {
        [mainViewController.view removeFromSuperview];
        [window insertSubview:resultsViewController.view atIndex:0];
    }
}

ResultsView
ABUnknownPersonViewController
ResultsViewController.m
-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    [...]
    ABUnknownPersonViewController *unknownPersonView = [[[ABUnknownPersonViewController alloc] init] autorelease];

    [unknownPersonView setUnknownPersonViewDelegate:self];

    [unknownPersonView setDisplayedPerson:personRecord];
    [unknownPersonView setAllowsAddingToAddressBook:YES];

    UINavigationController *navigationController = [[[UINavigationController alloc] initWithRootViewController:unknownPersonView] autorelease];


    [self presentModalViewController:navigationController animated:YES];
}

- (void)unknownPersonViewController:(ABUnknownPersonViewController *)unknownPersonView didResolveToPerson:(ABRecordRef)person {
    CallerIDAppDelegate *delegate = (CallerIDAppDelegate *)[[UIApplication sharedApplication] delegate];
    DLog("Called!");
    [self dismissModalViewControllerAnimated:YES]; //caused crash

    // Caused crash too
    //[delegate.resultsViewController dismissModalViewControllerAnimate:YES]; 
}

ABUnknownPersonViewController
personRecord
[CALayer sublayers];

[UIView(Hierarchy) _makeSubtreePerformSelector:withObject:withObject:copySublayers:]

