initWithRect:
drawRect:
Viewer *view;
printf("something")
[view setNeedsDisplay: YES]
#import "Viewer.h"
#import "Controller.h"


@implementation Viewer

- (id)initWithFrame:(NSRect)frameRect
{
    self = [super initWithFrame:frameRect];
    return self;
}

-(void)awakeFromNib 
{
    printf("awake!\n"); //works!
}   

- (void)drawRect:(NSRect)rect
{
    CGContextRef myContext = [[NSGraphicsContext currentContext]graphicsPort];
    for (int i=0; i<8; i++) {
        for (int j=0; j<8; j++) {
            printf("%f\n",gPopulation[i][j]/2);
            CGContextSetRGBFillColor (myContext, gPopulation[i][j]/2, 0.3, 0.1, 1); // Set color
            CGContextFillRect (myContext, CGRectMake (i*50, j*50, 50, 50 ));
        }
    }
}


**- (void) redraw { //dummy function that I can't reach from controller with [view redraw]. Gives no error, but retainCount = 0**
    printf("redraw------\n");
    //[self display];
}

@end

#import <Cocoa/Cocoa.h>
#import "Viewer.h"

double gPopulation[8][8];

@interface Controller : NSObject {
    NSMutableArray *emptySpots; 
    int nEmpty, nWhite, nBlack;
    NSOperationQueue *queue; 
    IBOutlet Viewer *view;
}
- (void) main;
- (id) initWithMain;
- (void) updatePopulation;
- (void) initPopulation;
@end

