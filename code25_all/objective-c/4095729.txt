[[NSNotificationCenter defaultCenter]
addObserver:self
selector:@selector(saveDatabaseInBackground)
name:NSManagedObjectContextObjectsDidChangeNotification
object:managedObjectContext];

- (void) saveDatabaseInBackground
{
    NSError *error = nil;
    if ([managedObjectContext hasChanges])
    {
        [managedObjectContext save:&error];
    }
}

