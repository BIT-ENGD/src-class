TcpConnection
Open
    CFStreamCreatePairWithSocketToHost(kCFAllocatorDefault, (CFStringRef) ipAddress, port, &readStream, &writeStream);      
    self.myInputStream = (NSInputStream*)readStream;
    self.myOutputStream = (NSOutputStream*)writeStream;

    CFRelease(readStream);
    CFRelease(writeStream);

    [self.myInputStream setProperty:(id)kCFBooleanTrue forKey:(NSString *)kCFStreamPropertyShouldCloseNativeSocket];
    [self.myInputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
    [self.myInputStream open];

    [self.myOutputStream setProperty:(id)kCFBooleanTrue forKey:(NSString *)kCFStreamPropertyShouldCloseNativeSocket];
    [self.myOutputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
    [self.myOutputStream open];

[NSRunLoop currentRunLoop]
detachNewThreadSelector
mainRunLoop
mainRunLoop
TcpConnection
