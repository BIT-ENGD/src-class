-(void) testBoard {
BoardManager* bm = [BoardManager manager];
 Board* board = [bm boardForName:@"fourteen by eight"];
 NSLog(@"%@", board);
 NSLog(@"%@", board.coords);
    }

-(NSArray*) coords {
  if(!_coords.count && _definition) {
    NSArray* c = [Board decode:_definition];
    [self setCoords:c];
  }
  return _coords;
} 

    +(NSArray*) decode:(NSString*)encodedCoords {
 NSMutableArray* coords = [NSMutableArray array];
 NSArray* tokens = [encodedCoords componentsSeparatedByString:@","];
 int i = 0;
 NSString* dimStr = [tokens objectAtIndex:i++];
 int width = [dimStr substringToIndex:2].intValue;
 int height = [dimStr substringWithRange:NSMakeRange(2, 2)].intValue;
 int depth = [dimStr substringFromIndex:4].intValue;
 NSLog(@"w=%d h=%d d=%d", width, height, depth);

 NSString* b128;
 NSString* b2;

 for(int z=0; z<depth; z++) {
  for(int y=0; y<height; y++) {
   b128 = [tokens objectAtIndex:i++];
   NSLog(@"[%@]", b128);

   b2 = [Board base128to2:b128];
   NSLog(@"b2=%@",b2);

   for(int x=0; x<b2.length; x++) {
    if([b2 characterAtIndex:b2.length-1-x] == '1') {
     Coord* coord = [Coord x:width-1-x y:height-1-y z:z];
     [coords addObject:coord];
    }
   }
  }
 }
 return coords;
    }

   -(void) testBoard
    {
 BoardManager* bm = [BoardManager manager];
 Board* board = [bm boardForName:@"fourteen by eight"];
 NSLog(@"%@", board);

 NSString* def = board.definition;
 NSArray* coords = [Board decode:def];

 NSLog(@"%@", coords);
    }

