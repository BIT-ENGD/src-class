-(CGImageRef)inflate:(CGImageRef)compressedImage
{
    size_t width = CGImageGetWidth(compressedImage);
    size_t height = CGImageGetHeight(compressedImage);

    CGContextRef    context = NULL;
    CGColorSpaceRef colorSpace;
    int             bitmapByteCount;
    int             bitmapBytesPerRow;

    bitmapBytesPerRow   = (width * 4);
    bitmapByteCount     = (bitmapBytesPerRow * height);

    colorSpace = CGColorSpaceCreateDeviceRGB();
    context = CGBitmapContextCreate (NULL,
                                 width,
                                 height,
                                 8,
                                 bitmapBytesPerRow,
                                 colorSpace,
                                 kCGImageAlphaPremultipliedLast);
    CGColorSpaceRelease( colorSpace );

    CGContextDrawImage(context, CGRectMake(0, 0, width, height), compressedImage);
    CGImageRef result = CGBitmapContextCreateImage(context);
    CFRelease(context);
    return result;
}

