#import "UntitledViewController.h"
#import "SingletonController.h"

@implementation UntitledViewController

@synthesize resetTextEvent;
@synthesize buttonSavePosition;


-(IBAction)stamp{

    textEvent.text = [sharedController name];

}


- (void)viewDidLoad {
    [super viewDidLoad];

    sharedController =  [SingletonController sharedSingletonController];

}


- (void)didReceiveMemoryWarning {
    // Releases the view if it doesn't have a superview.
    [super didReceiveMemoryWarning];

    // Release any cached data, images, etc that aren't in use.
}

- (void)viewDidUnload {
    // Release any retained subviews of the main view.
    // e.g. self.myOutlet = nil;
}


- (void)dealloc {
    [super dealloc];
}

@end




#import "SingletonController.h"


@implementation SingletonController

@synthesize name;

static SingletonController *sharedController = nil;

+(SingletonController*)sharedSingletonController{

    if(sharedController == nil){
        sharedController = [[super allocWithZone:NULL] init];
        }

    return sharedController;
}


+ (id)allocWithZone:(NSZone *)zone
{
    return [[self sharedSingletonController] retain];
}

- (id)copyWithZone:(NSZone *)zone
{
    return self;
}

- (id)retain
{
    return self;
}

- (NSUInteger)retainCount
{
    return NSUIntegerMax;  //denotes an object that cannot be released
}

- (void)release
{
    //do nothing
}

- (id)autorelease
{
    return self;
}

-(id)init{
    self = [super init];
    if (self != nil) {
        name = [NSString stringWithFormat:@"hello"];
        }
    return self;
}


-(void) dealloc {
    [super dealloc];
}
@end

