- (void) playMovieAtURL: (NSURL*) theURL {
    [theURL retain];

    MPMoviePlayerViewController *mp = [[MPMoviePlayerViewController alloc] initWithContentURL:theURL];

    if (mp)
    {
        [self presentMoviePlayerViewControllerAnimated:mp];

        [[NSNotificationCenter defaultCenter] addObserver:self 
                                                 selector: @selector(playbackDidFinish:) 
                                                     name:MPMoviePlayerPlaybackDidFinishNotification 
                                                   object:mp.moviePlayer];

        [mp release];
    }

    [theURL release];
}

-(void) playbackDidFinish:(NSNotification*)aNotification
{
    MPMoviePlayerController *player = [aNotification object];
    [[NSNotificationCenter defaultCenter] removeObserver:self
                                                    name:MPMoviePlayerPlaybackDidFinishNotification
                                                  object:player];
    [player stop];
    [self dismissMoviePlayerViewControllerAnimated];
}

