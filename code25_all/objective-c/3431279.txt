+ (void)loadState {
 @synchronized([AppStateManager class]) {
  if (!sharedAppStateManager) {
   [AppStateManager sharedManager];
  }

  NSUserDefaults *udefs = [NSUserDefaults standardUserDefaults];
  NSData *archivedData = [udefs objectForKey:@"AppState"];
  NSLog(@"going to unarchive");
  [NSKeyedUnarchiver unarchiveObjectWithData:archivedData];
  NSLog(@"unarchive complete");
 }
}

- (id)initWithCoder:(NSCoder *)decoder {
 NSLog(@"init coder");
 self = [super init];
 if (self != nil) {
  [self setUsername:[decoder decodeObjectWithKey:@"username"]];
 }

 return self;
}

