MPMoviePlayerViewController* mp = [[MPMoviePlayerViewController alloc] initWithContentURL:url];

    int i=0;
    unsigned int mc = 0;
    Method * mlist = class_copyMethodList(object_getClass([mp moviePlayer]), &mc);
    NSLog(@"%d methods", mc);
    for(i=0;i<mc;i++)
        NSLog(@"Method no #%d: %s", i, sel_getName(method_getName(mlist[i])));
    /* note mlist needs to be freed */

    if  ([[mp moviePlayer] respondsToSelector:@selector(thumbnailImageAtTime:timeOption:)])
    {
        image = [[mp moviePlayer] thumbnailImageAtTime:(NSTimeInterval)2.0 timeOption: MPMovieTimeOptionNearestKeyFrame];
    }
    [mp release];

