-(IBAction)touchedButton1:(id)sender
{
   [self calculateSteps:0];
}


-(void)calculateSteps:(NSUInteger)hole_index2
{

 index = hole_index2;

 NSNumber *tempNumber = [marblesArray objectAtIndex:index];  
 stones = [tempNumber intValue];

 [marblesArray replaceObjectAtIndex:index withObject:[NSNumber numberWithInt:0]];
 [[buttonsArray objectAtIndex:index] setTitle:[NSString stringWithFormat:@"%d", [NSNumber numberWithInt:0].intValue] forState:UIControlStateNormal];


 while(stones > 0) {  

  if (player == PLAYER_A && stones >= 1 && index == 6) { 

   NSNumber *tempNumber3 = [storeArray objectAtIndex:0];  
   NSUInteger tempInt3 = [tempNumber3 intValue]; 

   tempInt3++;

   [storeArray replaceObjectAtIndex:0 withObject:[NSNumber numberWithInt:tempInt3]]; 
   [buttonPlayerA setTitle:[NSString stringWithFormat:@"%d", [NSNumber numberWithInt:tempInt3].intValue] forState:UIControlStateNormal];

   stones--; 


   if (stones == 0) { // end in PLAYER A's store 

    NSLog(@"end in big hole player A");

    return;
   }
  } 

  if (player == PLAYER_B && stones >= 1 && index == 12) { 

   NSNumber *tempNumber4 = [storeArray objectAtIndex:1];  
   NSUInteger tempInt4 = [tempNumber4 intValue]; 

   tempInt4++;

   [storeArray replaceObjectAtIndex:1 withObject:[NSNumber numberWithInt:tempInt4]];
   [buttonPlayerB setTitle:[NSString stringWithFormat:@"%d", [NSNumber numberWithInt:tempInt4].intValue] forState:UIControlStateNormal];

   stones--;
   if (stones == 0) { // end in PLAYER B's store
    NSLog(@"end in big hole player B");
    return;
   }
  }



  index++; 
  if (index >= NUM_HOLES) index = 0; 

  NSNumber *tempNumber2 = [marblesArray objectAtIndex:index];  
  tempInt2 = [tempNumber2 intValue]; 
  tempInt2++;

  [marblesArray replaceObjectAtIndex:index withObject:[NSNumber numberWithInt:tempInt2]]; 
  NSLog(@"Number in marblesArray index: %d", [NSNumber numberWithInt:tempInt2].intValue);
  [[buttonsArray objectAtIndex:index] setTitle:[NSString stringWithFormat:@"%d", [NSNumber numberWithInt:tempInt2].intValue] forState:UIControlStateNormal];

  stones--; 
 }



}

