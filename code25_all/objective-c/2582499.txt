@interface Cube : NSObject {
    int cubeState[5][2][2];
}

- (void)printContent;

@end

@implementation Cube


- (id)init {
    if (self = [super init]) {
        for (int i=0; i<=5; i++) {
            for (int j=0; j<=2; j++) {
                for (int k=0; k<=2; k++) {
                    cubeState[i][j][k] = i;
                }
            }
        }
    }
    return self;
}


- (void)printContent {
    for (int i=0; i<=5; i++) {
        for (int j=0; j<=2; j++) {
            for (int k=0; k<=2; k++) {
                NSLog(@"[%d] [%d] [%d] = %d", i, j, k, cubeState[i][j][k]);
            }
        }
    }
}

@end

#include "Cube.h"

@implementation CubeAppDelegate

@synthesize window;


- (void)applicationDidFinishLaunching:(UIApplication *)application {
    Cube *cube = [[Cube alloc] init];
    [cube printContent];
    [cube release];

    [window makeKeyAndVisible];
}

@interface CustomController : UIViewController {
    Cube *cube;
}

@property (nonatomic, retain) Cube *cube;

@end

@implementation CustomController

@synthesize cube;

- (void)dealloc {
    [cube release];
    [super dealloc];
}
@end

- (void)applicationDidFinishLaunching:(UIApplication *)application {
    viewController = [[CustomController alloc] 
                        initWithNibName:@"MainView" bundle:nil];
    viewController.cube = [[[Cube alloc] init] autorelease];

    [viewController.cube printContent]; // Application crashes here
}

