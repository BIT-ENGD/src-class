-initWithURL:(NSString *) value
{
    responseData = [[NSMutableData data] retain];
    NSURL *theURL = [NSURL URLWithString:value];

    NSURLRequest *request = [NSURLRequest requestWithURL:theURL];
    [[NSURLConnection alloc] initWithRequest:request delegate:self];

    return self;
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
    [connection release];

    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    [responseData release];

    NSError *jsonError;
    SBJSON *json = [[SBJSON new] autorelease];
    NSDictionary *parsedJSON = [json objectWithString:responseString error:&jsonError];

    // NSArray object.
    listings = [parsedJSON objectForKey:@"posts"];
    NSEnumerator *enumerator = [listings objectEnumerator];
    NSDictionary* item;

    // to prove that it does work.
    while (item = (NSDictionary*)[enumerator nextObject]) {
        NSLog(@"posts:id = %@", [item objectForKey:@"id"]);
        NSLog(@"posts:address = %@", [item objectForKey:@"address"]);
        NSLog(@"posts:lat = %@", [item objectForKey:@"lat"]);
        NSLog(@"posts:lng = %@", [item objectForKey:@"lng"]);
    }

    [responseString release];

}

- (void)viewDidLoad {
    [super viewDidLoad];

    JSON_model *jsonObj = [[JSON_model alloc] initWithURL:@"http://localhost/json/faith_json.php?user=1&format=json"];

    NSEnumerator *enumerator = [[jsonObj listings] objectEnumerator];
    NSDictionary* item;
    //  
    while (item = (NSDictionary*)[enumerator nextObject]) {
        NSLog(@"posts:id = %@", [item objectForKey:@"id"]);
        NSLog(@"posts:address = %@", [item objectForKey:@"address"]);
        NSLog(@"posts:lat = %@", [item objectForKey:@"lat"]);
        NSLog(@"posts:lng = %@", [item objectForKey:@"lng"]);
    }
}

