DLog(@"Online storage");
NSXMLParser *parser = [[NSXMLParser alloc] initWithContentsOfURL:theUrl];

XMLTranslator *translator = [[XMLTranslator alloc] init];
[parser setDelegate:translator];
if ([parser parse]) {
        //success call MOC change routine on main thread
    DLog(@"success parsing");
    [self performSelectorOnMainThread:@selector(saveMOC:) withObject:translator waitUntilDone:NO];
} else {
    DLog(@"error: %@",[parser parserError]);
}


[parser setDelegate:nil];
[parser release];
DLog(@"XML parsing completed");
[pool release];

-(void)saveMOC:(XMLTranslator*)translator {
NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
[formatter setDateFormat:@"yyyy-MM-dd HH:mm:ss"];
for (NSDictionary *dict in [translator retrievedData]) {

    APost *newPost = [NSEntityDescription insertNewObjectForEntityForName:@"APost"
                                                     inManagedObjectContext:managedObjectContext];

    //parse time into NSDate
    [newPost setTime:[formatter dateFromString:[dict objectForKey:@"time"]]];


    //author, category, description
    [newPost setAuthor:[dict objectForKey:@"author"]];
    [newPost setCategory:[dict objectForKey:@"category"]];
    [newPost setContent:[dict objectForKey:@"description"]];

    //create a post id so that the validation will be alright
    [newPost setPostid:[NSNumber numberWithInteger:[[dict objectForKey:@"postid"] integerValue]]];


    [newPost setSectionDesignator:sectionDesignator];

}

