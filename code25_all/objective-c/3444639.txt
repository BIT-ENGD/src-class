voip
Required background modes
Info.plst
kCFStreamNetworkServiceType
CFReadStreamRef
kCFStreamNetworkServiceTypeVoIP
CFReadStreamRef
CFStreamCreatePairWithSocket
CFReadStreamRef
CFSocketNativeHandle socket = (CFSocketNativeHandle)socketHandle; 
CFStreamCreatePairWithSocket(kCFAllocatorDefault, socket, &sipSocketReadStream, nil);
CFReadStreamSetProperty(sipSocketReadStream, kCFStreamNetworkServiceType, kCFStreamNetworkServiceTypeVoIP);
NSInputStream *inputStream = (NSInputStream*)sipSocketReadStream;   
[inputStream setDelegate:self];
[inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
CFReadStreamOpen(sipSocketReadStream);

NSInputStream
Stream Opened
