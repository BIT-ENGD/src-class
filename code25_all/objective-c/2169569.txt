int main(int argc, char *argv[]) {
 NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

 // -imagePath
 // -filePath
 NSUserDefaults *args = [NSUserDefaults standardUserDefaults];
 NSString *soundPath = [args stringForKey:@"imagePath"];
 NSString *filePath = [args stringForKey:@"filePath"];

 BOOL worked = [[NSWorkspace sharedWorkspace] setIcon:[[NSImage alloc] initWithContentsOfFile:soundPath] forFile:filePath options:0];

 NSLog(@"Worked: %i",worked);

 [pool release];
 return 0;
}

