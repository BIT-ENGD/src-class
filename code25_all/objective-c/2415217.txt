The code I written is as:

     [[AVAudioSession sharedInstance] setCategory: AVAudioSessionCategoryRecord error: nil];

    NSDictionary *recordSettings; =[[NSDictionary alloc] initWithObjectsAndKeys:

     [NSNumber numberWithFloat: 44100.0], AVSampleRateKey,

     [NSNumber numberWithInt: kAudioFormatAppleLossless], AVFormatIDKey,

     [NSNumber numberWithInt: 1], AVNumberOfChannelsKey,

     [NSNumber numberWithInt: AVAudioQualityMax],

     AVEncoderAudioQualityKey,nil];



    AVAudioRecorder *newRecorder =[[AVAudioRecorder alloc] initWithURL: soundFileURL settings: recordSettings error: nil];

    [recordSettings release];

    self.soundRecorder = newRecorder;

    [newRecorder release];

