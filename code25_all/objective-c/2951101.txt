[segmentedControl addTarget:self action:@selector(handleSegmentClick:) forControlEvents:UIControlEventValueChanged];

    [window makeKeyAndVisible];

    return YES;
}

- (void)handleSegmentClick:(id)sender
{
    NSLog(@"changeSegment");

    UISegmentedControl *sc = (UISegmentedControl *)sender;

    NSInteger index = sc.selectedSegmentIndex;

    switch (index) 
    {
        case 0:
            [mapView setMapType: MKMapTypeStandard];
            break;
        case 1:
            [mapView setMapType: MKMapTypeSatellite];
            break;
        case 2:
            [mapView setMapType: MKMapTypeHybrid];
            break;
        default:
            break;
    }
}

