2010-07-06 17:17:46.627 WhatToDo[13437:20b] Results: {
    data =     {
        "current_condition" =         (
                        {
                cloudcover = 75;
                humidity = 42;
                "observation_time" = "08:47 AM";
                precipMM = "0.0";
                pressure = 1003;
                "temp_C" = 36;
                "temp_F" = 97;
                visibility = 10;
                weatherCode = 113;
                weatherDesc =                 (
                                        {
                        value = Sunny;
                    }
                );
                **weatherIconUrl =                 (
                                        {
                        value = "http://www.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png";
                    }
                );**
                winddir16Point = WSW;
                winddirDegree = 250;
                windspeedKmph = 31;
                windspeedMiles = 19;
            }
        );
    };
}

- (void) readWeather {
    NSLog(@"readWeather started");
    NSMutableArray *imageArray = [[NSMutableArray alloc] init];
    NSData *jsonObjectString;
    NSString *completeString = [NSString stringWithFormat:
                            @"http://www.worldweatheronline.com/feed/weather.ashx?key=988ae47cc3062016100606&lat=25.04&lon=121.55&num_of_days=5&format=json", jsonObjectString];                               

    NSLog(@"Weather URL: %@", completeString);

    NSURL *urlForValidation = [NSURL URLWithString:completeString];               
    NSMutableURLRequest *validationRequest = [[NSMutableURLRequest alloc] initWithURL:urlForValidation];                          
    [validationRequest setHTTPMethod:@"POST"];             
    NSData *responseData = [NSURLConnection sendSynchronousRequest:validationRequest returningResponse:nil error:nil];  
    [validationRequest release];

// Store incoming data into a string
NSString *jsonString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];

// Create a dictionary from the JSON string
NSDictionary *results = [jsonString JSONValue];

NSLog(@"Results: %@", results);

NSArray *data = [[results objectForKey:@"data"] objectForKey:@"current_condition"];

NSArray *data2 = [[results objectForKey:@"data"] objectForKey:@"weather"];

NSCharacterSet *skipSet = [NSCharacterSet characterSetWithCharactersInString:@"("];

for (NSArray *current_condition in data)
{
    // Get title of the image
    NSString *temp_C = [current_condition valueForKey:@"temp_C"];
    NSString *current_weatherDesc = [current_condition valueForKey:@"weatherDesc"];
    NSString *current_weatherIconUrl = [current_condition valueForKey:@"weatherIconUrl"];
    NSString *current_weatherIconUrl2= [current_weatherIconUrl valueForKey:@"value"];

    //Commented out because this will create an exception: 
    //NSString *current_weatherIconUrl3 = [current_weatherIconUrl2 stringByTrimmingCharactersInSet:skipSet];
    //NSLog(@"Current Condition: URL2: %@", *(current_weatherIconUrl3);

    //Commented out because this will create an exception: 
    //current_weatherIconUrl3 = [current_weatherIconUrl3 stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
}

stringByTrimmingCharactersInSet
