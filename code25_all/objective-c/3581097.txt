@interface DetailPageViewController : UIViewController <AVAudioPlayerDelegate>{
UIButton *arrowBtn;
UIButton *playButton;
UIButton *pauseButton;
AVAudioPlayer *appSoundPlayer;
NSURL *soundFileURL;
BOOL playing ;
UILabel *timeLabel;
NSTimer *timer;
}

@property (nonatomic, retain) IBOutlet UIButton *arrowBtn;
@property (nonatomic, retain) IBOutlet UIButton *playButton;
@property (nonatomic, retain) IBOutlet UIButton *pauseButton;
@property (nonatomic, retain)   AVAudioPlayer *appSoundPlayer;
@property (nonatomic, retain)   NSURL *soundFileURL;
@property (nonatomic, retain)   IBOutlet UILabel *timeLabel;
@property (readwrite) BOOL playing;
@property (nonatomic, retain) NSTimer *timer;

-(IBAction)playPauseToggle:(id)sender;
-(IBAction)returnToRoot;

@end

@synthesize arrowBtn, playButton, pauseButton, playing, appSoundPlayer, soundFileURL, timeLabel, timer;

...

-(IBAction)playPauseToggle:(id)sender
{
if (playing == NO)
{
    [appSoundPlayer play];
    playing = YES;
    [playButton setHidden: YES];
    [pauseButton setHidden: NO];

}
else {
    [appSoundPlayer pause];
    playing = NO;
    [playButton setHidden: NO];
    [pauseButton setHidden: YES];
}
}

-(IBAction)returnToRoot
{
[self.navigationController popViewControllerAnimated:YES];
}

- (void)viewDidLoad {
[super viewDidLoad];

if (self.appSoundPlayer == nil)
{
    playing = NO;

    [playButton setHidden: NO];
    [pauseButton setHidden: YES];

    NSString *soundFilePath = [[NSBundle mainBundle] pathForResource:@"soundFile" ofType:@"mp3"];

    NSURL *newURL = [[NSURL alloc] initFileURLWithPath: soundFilePath];
    self.soundFileURL = newURL;
    [newURL release];

    AVAudioPlayer *newPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL: soundFileURL error: nil];
    self.appSoundPlayer = newPlayer;
    [newPlayer release];

    [appSoundPlayer prepareToPlay];
    [appSoundPlayer setVolume: 1.0];
    [appSoundPlayer setDelegate: self];
}

appSoundPlayer
playing
