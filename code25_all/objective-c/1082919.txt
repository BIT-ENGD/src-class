    NSHost *host = [NSHost hostWithName:@"hostname"];
    [NSStream getStreamsToHost:host port:1234
                   inputStream:&iStream outputStream:&oStream];

    if (iStream == nil || oStream == nil) {
        NSLog(@"Unable to open streams.");
        return;
    }

    [iStream setDelegate:self];
    [oStream setDelegate:self];

    [iStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];
    [oStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];

    [iStream open];
    [oStream open];
}

    - (void)stream:(NSStream *)stream handleEvent:(NSStreamEvent)eventCode {
       NSLog(@"Event: '%d'", eventCode);
    }

#0  0x9438d688 in objc_msgSend ()
#1  0x95fe3451 in _inputStreamCallbackFunc ()
#2  0x9561c549 in _CFStreamSignalEventSynch ()
#3  0x9561e117 in CFReadStreamSignalEvent ()
#4  0x90c7702f in SocketStream::socketCallback ()
#5  0x90c77153 in SocketStream::_SocketCallBack_stream ()
#6  0x956137bb in __CFSocketDoCallback ()
#7  0x95614f05 in __CFSocketPerformV0 ()
#8  0x9560a595 in CFRunLoopRunSpecific ()
#9  0x9560ac78 in CFRunLoopRunInMode ()
#10 0x90e5028c in RunCurrentEventLoopInMode ()
#11 0x90e4ffde in ReceiveNextEventCommon ()
#12 0x90e4ff19 in BlockUntilNextEventMatchingListInMode ()
#13 0x914add0d in _DPSNextEvent ()
#14 0x914ad5c0 in -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] ()
#15 0x914a65fb in -[NSApplication run] ()
#16 0x91473834 in NSApplicationMain ()
#17 0x00001f90 in main (argc=1, argv=0xbffff758) at /Users/blubber/Documents/MacLight/main.m:13

