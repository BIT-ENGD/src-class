//LoginViewController sends request to local UserController instance
[userController validateLoginWithDelegate:self 
    withResult:@selector(loginResult:) 
    forEmail:email.text 
    forPassword:password.text];

//UserController asks NetworkRequestController to send login to server
- (void)validateLoginWithDelegate:(id)delegateObj
    withResult:(SEL)onResult
    forEmail:(NSString *)email 
    forPassword:(NSString *)password {

    if(delegateObj != nil && onResult != nil){
        self.delegate = delegateObj;
        self.resultSelector = onResult;
    }

    NSString *url = [NSString stringWithFormat:@"/UserService.cfc?method=Authenticate&email=%@&password=%@&returnFormat=JSON", email, password];

    [[NetworkRequestController sharedNetworkRequestController] 
        requestJSONWithURLString:url 
        andDelegate:self 
        onFinished:@selector(onLoginResult:) 
        onFailed:nil 
        onOffline:nil 
        progressView:nil 
        timeout:30];

}

//NetworkRequestController sends the request to the server and sends the parsed JSON back to UserController
[delegate performSelector:onFinished withObject:parsedJSON];

//UserController does it's business and sends the result to the view
if(delegate != nil && resultSelector != nil){
    [delegate performSelector:resultSelector withObject:result];
}

