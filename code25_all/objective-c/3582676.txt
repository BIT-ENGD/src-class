-(void)spillVoice:(NSString*) filnavn{
NSString *audioFilePath=[[NSBundle mainBundle] pathForResource:filnavn ofType:@"mp3"];
NSURL *audioFileURL=[NSURL fileURLWithPath:audioFilePath];
self.voicespiller=[[[AVAudioPlayer alloc] initWithContentsOfURL:audioFileURL error:nil] autorelease];
self.voicespiller.delegate=self;
[self.voicespiller prepareToPlay];
[self.voicespiller play];
NSLog(@"spiller lyden");

-(void)audioPlayerDidFinishPlaying:(AVAudioPlayer*)which_player successfully:(BOOL)the_flag{
NSLog(@"ny lyd?");
[self.jenteBilde stopAnimating];
if(self.etterLyd==@"ingenting"){
    NSLog(@"ingenting");    
}
else if(self.etterLyd==@"lesobjekt"){
    NSLog(@"lesobjekt");
    self.etterLyd=@"ros";
    [self spillVoice:[self.objektNedArray objectAtIndex: [self.objektnr intValue]]];
    [self.jenteBilde startAnimating];
}
else if(self.etterLyd==@"introtall"){
    NSLog(@"introtall");
    self.etterLyd=@"introobjekt";
    [self spillVoice:[self.telleOppArray objectAtIndex: [self.tilfeldig intValue]]];
    [self.jenteBilde startAnimating];
}
else if(self.etterLyd==@"introobjekt"){
    NSLog(@"introobjekt");  
    self.etterLyd=@"ingenting";
    [self spillVoice:[self.objektOppArray objectAtIndex: [self.objektnr intValue]]];
    [self.jenteBilde startAnimating];
}
else if(self.etterLyd==@"ros"){
    NSLog(@"ros");  
    NSMutableArray *rosArray=[[NSMutableArray alloc] initWithObjects:@"TT_flott",@"TT_bravo",@"TT_fint",@"TT_du_er_kjempeflink",@"TT_hurra",@"TT_helt_riktig",nil];
    int result=(arc4random() % (rosArray.count));
    self.etterLyd=@"ingenting";
    [self spillVoice:[rosArray objectAtIndex: result]];
    [self.jenteBilde startAnimating];
}

