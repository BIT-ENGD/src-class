-(void)loadUser
-(BOOL)application:didFinishLaunchingWithOptions:
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {    
  // Override point for customization after application launch.

  [window makeKeyAndVisible];
  [self loadUser];

  return YES;
}

- (void)loadUser {
  NSManagedObjectContext *moc = self.managedObjectContext;
  NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
  NSEntityDescription *entityDescription = [NSEntityDescription entityForName:@"User"
                                                       inManagedObjectContext:moc];
  [fetchRequest setEntity:entityDescription];

  NSError *error;

  NSLog(@"counting users");
  NSUInteger count = [moc countForFetchRequest:fetchRequest error:&error];
  if (count == NSNotFound) {
    NSLog(@"error: %@", error);
  } else if (count == 0) {
    NSLog(@"creating user");
    // make a user
    NSManagedObject *object = [[NSManagedObject alloc] initWithEntity:entityDescription insertIntoManagedObjectContext:moc];
    if (![moc save:&error]) {
      NSLog(@"error: %@", error);
    }
    [object release];
  }

  NSLog(@"fetching user");
  NSArray *results = [moc executeFetchRequest:fetchRequest error:&error];
  if (results) {
    NSLog(@"results: %@", results);
  } else {
    NSLog(@"error: %@", error);
  }
  [fetchRequest release]; 
}

16 libSystem.B.dylib thread_assign_default
15 libSystem.B.dylib _pthread_start
14 WebCore RunWebThread(void*)
13 JavaScriptCore JSC::initializeThreading()
12 libSystem.B.dylib pthread_once
11 JavaScriptCore JSC::initializeThreadingOnce()
10 JavaScriptCore WTF::initializeThreading()
 9 JavaScriptCore WTF::initializeMainThread()
 8 JavaScriptCore WTF::initializeMainThreadPlatform()
 7 libobjc.A.dylib objc_msgSend_uncached
 6 libobjc.A.dylib _class_lookupMethodAndLoadCache
 5 libobjc.A.dylib lookUpMethod
 4 libobjc.A.dylib prepareForMethodLookup
 3 libobjc.A.dylib _class_initialize
 2 libobjc.A.dylib _fetchInitializingClassList
 1 libobjc.A.dylib _objc_fetch_pthread_data
 0 libobjc.A.dylib _calloc_internal

