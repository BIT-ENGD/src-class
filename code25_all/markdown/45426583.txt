node ./build.js
{{{content}}}
post_layout.html
.html
sortBy
.html
.html
layouts/
    - post_layout.html
    - timeline_layout.html
src/
    - posts/
        - post1.md
        - post2.html
        - post3.md
    - timeline.html
build.js

---
title: Post #
layout: post_layout.html
---
Content of the # post.

---
title: timeline
layout: timeline_layout.html
---

{{#each posts}}
<a href="{{ path }}">{{ title }}</a>
<article>{{{ contents }}}</article>
<hr>
{{/each}}

<h1>{{ title }}</h1>
{{{ contents }}}

var Metalsmith  = require('metalsmith');
var markdown    = require('metalsmith-markdown');
var layouts     = require('metalsmith-layouts');
var collections = require('metalsmith-collections');

Metalsmith(__dirname)
    .use(markdown())
    .use(collections({
        posts: {
            pattern: 'posts/*.html',
            sortBy: 'title'
        }
    }))
    .use(layouts({
        engine: 'handlebars'
    }))
    .build(function (err) {
        if (err) {
            throw err;
        }
    });

