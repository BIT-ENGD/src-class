class Entry(models.Model):
   title = models.CharField(max_length=200)
   post_type = models.CharField(max_length=50,choices= (
      ('Mobiles', 'Mobiles'),
      ('Laptops', 'Laptops'),
      ('Laptop_Accesories', 'Laptop_Accesories'),
      ('Tablets', 'Tablets'),
      ('Cameras', 'Cameras'),
      ('Others', 'Others'),
    ), default='Others')
  author = models.CharField(max_length=30, blank=False)
  description = models.TextField(max_length=150, blank=False, default="")
  body = models.TextField()
  slug = models.SlugField(max_length = 200, unique = True)
  publish = models.BooleanField(default=True)
  created = models.DateTimeField(auto_now_add=True)
  modified = models.DateTimeField(auto_now_add=True)

from django import forms
from pagedown.widgets import AdminPagedownWidget
from blog import models
from blog.models import Entry

class EntryForm(forms.ModelForm):
      description = forms.TextField(widget=AdminPagedownWidget())

class Meta:
    model = Entry
    fields = "__all__"

# -*- coding: utf-8 -*-
from __future__ import unicode_literals
from . import models
from django.contrib import admin

class EntryAdmin(admin.ModelAdmin):
     list_display=("title","created")
     prepopulated_fields = {"slug" : ("title",)}

class EAdmin(admin.ModelAdmin):
     form = EntryForm
# Register your models here.
admin.site.register(models.Entry, EntryAdmin)

