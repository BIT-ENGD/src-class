const gulp = require('gulp');
const gutil = require('gulp-util');
const markdownToJSON = require('gulp-markdown-to-json');
const marked = require('marked');

//markdown parser
marked.setOptions({

  renderer: new marked.Renderer(),
  gfm: true,
  tables: true,
  breaks: false,
  pedantic: false,
  sanitize: false,
  smartLists: true,
  smartypants: false

});

//markdown to json
gulp.task('default', () => {
  gulp.src('readme.md')
    .pipe(gutil.buffer())
    .pipe(markdownToJSON(marked, 'test2.json'))
    .pipe(gulp.dest('./src/md2jsonFiles'))
});

## Title
title here

## Description
description here

## Category
category here

## Tags
tags here

{"test2":{"body":"<h2 id=\"title\">Title</h2>\n<p>title here</p>\n<h2 id=\"description\">Description</h2>\n<p>description here</p>\n<h2 id=\"category\">Category</h2>\n<p>category here</p>\n<h2 id=\"tags\">Tags</h2>\n<p>tags here</p>\n","updatedAt":"2017-03-15T09:46:04.000Z"}}

{                          
            "title": "title here",
            "description": "description here",
            "category": "category here",
            "tags": "tags here"                  
    },

