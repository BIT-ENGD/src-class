DetailsView
DetailsView
UpdatePanel
UpdatePanel
'Warehouse Stock by Location
Dim stockDT As New DataTable
For Each row As DataRow In stockDT.Rows 'Add column for each Warehouse that has stock
    'Adds the fields to the DetailsView dynamically for Warehouses with stock.
    Dim col As New DataColumn(WarehouseLocID + row(WarehouseLocID).ToString)
    Dim bf As New BoundField
    bf.HeaderText = "Warehouse " + row(WarehouseLocID)
    bf.DataField = col.ColumnName

    'NEED HELP HERE! HOW TO UPDATE OR RE-CREATE THE DETAILSVIEW TO REFLECT NEW INFO?
    If Not SAPDetailsView.HasControls Then 'BROKEN
        SAPDetailsView.Fields.Add(bf)
    Else
        SAPDetailsView.Fields.Item(0).HeaderText = bf.DataField 'UPDATES THE WRONG "ITEM" FIELD VALUE!!
    End If
Next

<asp:UpdatePanel ID="statusUpdatePanel" runat="server">
<ContentTemplate>
    <asp:GridView ID="ProductsTable" DataSourceID="ProductsSDS">
        <Columns>
            <asp:ButtonField ButtonType="Button" Text="Details" CommandName="Select" />
        </Columns>
    </asp:GridView>
    <asp:DetailsView ID="WarehouseStock" runat="server" AutoGenerateRows="False">
        <Fields>
            <asp:BoundField HeaderText="Product" DataField="Product" />
            <asp:BoundField HeaderText="Unit Price" DataField="UnitPrice" />
            <asp:BoundField HeaderText="SKU" DataField="SKU" />
        </Fields>
    </asp:DetailsView>
    <!-- The Dynamic Fields are appended in the codebehind -->
</ContentTemplate>
</asp:UpdatePanel>

