Public Class CategoryRepository
    Implements ICategoryRepository

    Public Function GetCategories() As List(Of Category)
        Using db As New DBContext <-- Entity Framework Context
            return db.Categories.ToList()
        End Using
    End Function

End Class

Public Function Index() As ActionResult
    Dim m As New CategoryViewModel
    m.Categories = _Repository.GetCategories()

    Return View(m)
End Function

Category.SubCategories.Count

