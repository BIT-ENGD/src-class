<div id="menu">
  <ul id="nav">
    <li><a href="/home/">Home</a></li>
    <li><a href="/home/about/">About</a></li>
    <li><a href="/home/books/">Books</a>
      <ul>
        <li><a href="/home/books/teachers-notes/">Teachers Notes</a></li>
      </ul>
    </li>
    <li><a href="/home/faq/">FAQ</a></li>
    <li><a href="/home/contact/">Contact</a></li>
  </ul>
</div>



$(function(){
    var path = location.pathname.substring(1);
    if ( path )
        $('#nav a[href$="' + path + '"]').attr('class', 'selected');
});
$(function(){
    $('#nav>li>ul').hide();
    $('#nav>li').hover(function(){
        // check that the menu is not currently animated
        if ($('#nav ul:animated').size() == 0) {
            // create a reference to the active element (this)
            // so we don't have to keep creating a jQuery object
            $heading = $(this);
            // create a reference to visible sibling elements
            // so we don't have to keep creating a jQuery object
            $expandedSiblings = $heading.siblings().find('ul:visible');
            if ($expandedSiblings.size() > 0) {
                $expandedSiblings.slideUp(500, function(){
                    $heading.find('ul').slideDown(500);
                });
            }
            else {
                $heading.find('ul').slideDown(1000);
            }
        }
    });
});

