        ...
        <div>

          <xsl:choose>
            <xsl:when test="count(ancestor::node()) = 1">
              <h2>
            </xsl:when>
            <xsl:when test="count(ancestor::node()) = 2">
              <h3>
            </xsl:when>
          </xsl:choose> 

            <xsl:attribute name="id">
              <xsl:value-of select="@id" />
            </xsl:attribute>
            <xsl:copy-of select="title/node()"/>

          <xsl:choose>
            <xsl:when test="count(ancestor::node()) = 1">
              </h2>
            </xsl:when>
            <xsl:when test="count(ancestor::node()) = 2">
              </h3>
            </xsl:when>
          </xsl:choose> 

        </div>

