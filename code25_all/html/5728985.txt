    `PrintWriter out = response.getWriter();
    response.setContentType("text/plain");      


    DiskFileItemFactory  fileItemFactory = new DiskFileItemFactory ();
    fileItemFactory.setSizeThreshold(1*1024*1024);
    fileItemFactory.setRepository(tmpDir);

    ServletFileUpload uploadHandler = new ServletFileUpload(fileItemFactory);

    try {
        /*
         * Parse the request
         */
        List items = uploadHandler.parseRequest(request);
        Iterator itr = items.iterator();

        while(itr.hasNext()) {
            FileItem item = (FileItem) itr.next();
             out.println(item.isInMemory());
            /*
             * Handle Form Fields.
             */
            if(item.isFormField()) {
                out.println("Field Name = "+item.getFieldName()+", Field Value = "+item.getString());

            } 
            if(item!=null){
                //Handle Uploaded files.
                out.println("Field Name = "+item.getFieldName()+
                    ", File Name = "+item.getName()+
                    ", Content type = "+item.getContentType()+
                    ", File Size = "+item.getSize());
                /*
                 * Write file to the ultimate location.
                 */
                out.println("Hello ");
                File file = new File(destinationDir,item.getName());
                item.write(file);
            }
            out.close();
        }
    }catch(FileUploadException ex) {
        log("Error encountered while parsing the request",ex);
    } catch(Exception ex) {
        log("Error encountered while uploading file",ex);
    }`

