<form name="Login Form" action="login.jsp"><table>
   <tbody>
   <tr>
       <td><input type="text" name="emaillogin" value="email"/></td>
       <td><input type="text" name="passlogin" value="password"/></td>
  </tr>
  <tr>
        <td colspan="2" align="RIGHT><input type="submit" value="login" name="Login"/></td>
  </tr>
  </tbody></table></form>

<%!
        String email = "";
        String password = "";
    %>
    <%

        List users = new ArrayList();

        Class.forName("com.mysql.jdbc.Driver");
        Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/db", "root", "pass");
        Statement stmt = con.createStatement();

        ResultSet result = stmt.executeQuery("SELECT email,password  FROM users");

        while (result.next()) {
            users.add(result.getString(1));
            users.add(result.getString(2));
        }
        con.close();

        email = request.getParameter("emaillogin");
        password = request.getParameter("passlogin");

        int hasUser = 0;
        Iterator<String> it = users.iterator();
        while (hasUser == 0 && it.hasNext()) {
            if (email.equals(it.next()) && password.equals(it.next())) {
                hasUser = 1;
            }
        }

        if (hasUser == 1) {
            response.sendRedirect("homepage.jsp");
        } else {
            response.sendRedirect("index.jsp");
        }

    %>  

.
.
<% out.println("Logged in as: " + request.getParameter("email")); %>
.
.

