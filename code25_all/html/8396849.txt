$(document).ready(function() {
  $(window).resize(function () {
      resizePanel();
  });
});

function resizePanel() {

    width = $(window).width();
    height = $(window).height();

    mask_width = width * $('.item').length;

    $('#debug').html(width  + ' ' + height + ' ' + mask_width);
    $('#wrapper, .item').css({width: width, height: height});
    $('#mask').css({width: mask_width, height: height});
    $('#wrapper').scrollTo($('a.selected').attr('href'), 0);    
}


function scrollToPosition(element) {
   if (element !== undefined) {
        $("#wrapper").scrollTo(element, 800, {});
   }
}



$(function() {
     //Create an Array of posts
     var posts = $('.item');
     var position = 0; //Start Position
     var next = $('#next');
     var prev = $('#prev').hide();

 //Better performance to use Id selectors than class selectors
     next.click(function(evt) {
     //Scroll to next position
         prev.show();
         scrollToPosition(posts[position += 1]);

         if (position === posts.length - 1) {
             next.hide();
         }
});

prev.click(function(evt) {
    //Scroll to prev position    
    next.show();
scrollToPosition(posts[position -= 1]);

    if (position === 0) {
    prev.hide();
    }
});

}); 

 </script>'

