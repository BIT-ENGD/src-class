Stringbuilder gridBuilder = new StringBuilder();

        while (index < objDS.Count)
        {
            // start of table row
            gridBuilder.AppendLine("<tr align=\"center\">");
            for (int column = 0; column < numberOfColumns; column++)
            {
                if (index < objDS.Count)
                {
                    int record = (index) + ((objDS.CurrentPageIndex) * 12);
                    DataRow dr = photosDataSet.Tables[0].Rows[record];
                    gridBuilder.AppendLine("<td width=\"187.5\" valign=\"top\">");
                    int pictureNumber = Convert.ToInt32(dr.ItemArray[0].ToString());
                    string picnum = pictureNumber.ToString().PadLeft(3, '0');
                    int picNumberlink = pictureNumber - 1;
                    string image = "/pics/" + AlbumName + "/Thumbnails/" + AlbumName + "-pic" + picnum + ".jpg";
                    gridBuilder.AppendLine("<a id=\"picLinks_" + record + "\" class=\"picLinks\" href=''><img class=\"instant ishadow50\"  src=\"" + image + "\"></img></a>");
                    gridBuilder.AppendLine("<br/>");
                    gridBuilder.AppendLine(dr.ItemArray[1].ToString());
                    gridBuilder.AppendLine("</td>");
                }
                index++;
            }
            gridBuilder.AppendLine("</tr>");
        }
        gridBuilder.AppendLine("</table>");

        ViewData["Content"] = gridBuilder.ToString();

