$(document).ready(function() {

    // Define the default pagetitle.
    var defaultTitle = "MySite / ";

    // Set a default pagetitle.
    document.title = defaultTitle + "Homepage";

    // Switch the page.
    function load(page) {
        $("#contentHolder").fadeOut("fast",function(){
            $('#contentHolder').load("content/"+ page +".php");
            $("#contentHolder").fadeIn("fast");
        });
    }

    // Function to shorten the scriptsize.
    function reduceSize(mainUrl) {
        // Define the URL.
        var url = mainUrl;
        // Replace the URL in the address bar.
        url = url.replace(/^.*#/, '');
        // Load the page.
        $.history.load(url);
        return false;
    }

    // Enable history.
    $.history.init(function(url) {
        load(url == "" ? "general/homepage" : url);
    });

    // Make the menu useful.
    $('.switch_homepage').live('click', function(e) {
        reduceSize("general/homepage");
        document.title = defaultTitle + "Homepage";
    });

});

