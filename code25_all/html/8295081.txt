<html>
<head>
<title></title>

<script type="text/javascript" src="jquery/jquery-1.7.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>

<script type="text/javascript">
    (function ($) {
        $.fn.myHtmlControl = function() {

            var btn = $('<button>B</button>');
            var c = $('<canvas/>');

            btn.button().click(function(e) {
               // change content of canvas lying in #ctrl1 if clicked button lies in #ctrl1
               // otherwice change content of canvas lying in #ctrl2
            });

            $(this).append(btn);
            $(this).append(c);
       };
    })(jQuery);

    $(function () {
        $('#ctrl1').myHtmlControl();
        $('#ctrl2').myHtmlControl();
    })
</script>

</head>
    <body>
        <div id='ctrl1' />
        <div id='ctrl2' />
    </body>
</html>

