  <xsl:template match="html:br[following-sibling::*[1][self::html:br]]">
    <fo:block space-after="1em">
      <xsl:call-template name="process-common-attributes"/>
    </fo:block>
  </xsl:template>

 <xsl:template match="html:br[preceding-sibling::*[1][self::html:br]]" />

  <xsl:template match="html:br">
    <fo:block>
      <xsl:call-template name="process-common-attributes"/>
    </fo:block>
  </xsl:template>

<p>text<br />text<br />text<br /><br /><br />text</p>

text
text
text


text

<br>
                <fo:block space-after="1em" space-before="1em">text
                  <fo:block/>text
                  <fo:block/>text
                  <fo:block space-after="1em"/>
                  <fo:block space-after="1em"/>
                  <fo:block/>text
                </fo:block>

