try
    {
        Size oldSize=new Size();
        Bitmap oldbmp1 = (Bitmap) Bitmap.FromFile(originalpath);
        oldSize.Width=oldbmp1.Width;
        oldSize.Height=oldbmp1.Height;

        Size newSize=new Size()

        using (Bitmap newbmp = new Bitmap(newsize.Width, newsize.Height), oldbmp = Bitmap.FromFile(originalpath) as Bitmap)
        {
            Graphics newgraphics = Graphics.FromImage(newbmp);
            newgraphics.InterpolationMode =  System.Drawing.Drawing2D.InterpolationMode.HighQualityBicubic;
           // newsize = GetNewImageSize(oldSize); // here i want the new Size
            newgraphics.Clear(Color.FromArgb(-1));
            newgraphics.FillRectangle(Brushes.White, 0, 0, newsize.Width, newsize.Height);

            newgraphics.DrawImage(oldbmp, 0, 0, newsize.Width, newsize.Height);

                try
                {
                   // newgraphics.Save();

                    ImageCodecInfo[] Info = ImageCodecInfo.GetImageEncoders();
                    EncoderParameters Params = new EncoderParameters(1);
                    Params.Param[0] = new EncoderParameter(System.Drawing.Imaging.Encoder.Quality, 100L);
                    newbmp.Save(newpath, Info[1], Params);
                }
                catch (Exception ex1)
                {
                    throw ex1;
                }
                finally
                {
                    newbmp.Dispose();
                    oldbmp.Dispose();
                    oldbmp1.Dispose();
                }

        }
    }
    catch (Exception ee)
    {
        throw ee;
    }

float ratio = oldImg.Width / oldImg.Height;
SizeF newSize = new SizeF(desiredWidth, desiredWidth * ratio);

