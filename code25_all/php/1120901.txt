$this->load->library('form_validation');    
$this->form_validation->set_rules('name','name','required|trim');
$this->form_validation->set_rules('email','email','required|trim|valid_email');

$fields['name'] = 'Name';
$fields['email'] = 'Email Address';

$this->validation->set_fields($fields);

if ($this->form_validation->run() == FALSE) 
{
    //failed - reload page and re-populate fields with any error messages
}
else
{
     // display form with success message
}

