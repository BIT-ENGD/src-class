[]
forum_extract
function forum_extract($text) {
        return str_replace("\n",'<br />', limit_text(preg_replace('/\[[^\]]+\]/', '', $text), 30));
}

function limit_text($text, $limit) {
        if (strlen($text) <= $limit)
                return $text;

        $words = str_word_count($text, 2);
        $pos = array_keys($words);
        return substr($text, 0, $pos[$limit]) . '...';
}

limit_text
$text
limit_text
limit_text
Friend of ours paid 150â‚¬ the other day from Malaga. Spread across 4 people it didn't seem to bad, given it was a 8+ hour day for the driver, petrol etc.

