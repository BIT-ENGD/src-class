<?php
$cat_id = 123; // category id
$category = Mage::getModel('catalog/category')->load($cat_id);

$_products = $category->getProductCollection()
->addAttributeToSelect('shop_by_color');

if (($this->getProductCollection()) && $_products->getSize()): ?>

$cat_id
