preg_replace('/<(example )?(example2)+ />/', analyze(array($0, $1, $2)), $src);
analyze()
function analyze($matches) {
    if ($matches[0] == '<example example2 />')
          return 'something_awesome';
    else if ($matches[1] == 'example')
          return 'ftw';
}

$matches[0]
$0
$matches[0]
