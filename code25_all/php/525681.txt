$text = preg_replace('|(A.*)?A(.*)C|', '$1foo$2bar', $text);

$text = preg_replace('|A(.*)C|X', 'foo$1bar', $text); 

