$result = mysql_query($query)or die("Obtaining location data failed!");
for ($i = mysql_num_rows($result) - 1; $i >=0; $i--)
{
  if (!mysql_data_seek($result, $i))
  {
    echo "Cannot seek to row $i\n";
    continue;
  }
  if(!($row = mysql_fetch_object($result)))
    continue;
  echo $row->locationname;
}
mysql_free_result($result);

$result = mysql_query($query) or die("Obtaining location data failed!");
while($row = mysql_fetch_object($result)){
  echo $row->locationname;
  unset($row);
}
mysql_free_result($result);

