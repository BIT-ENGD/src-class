public function category($content_id) {
    //$this->output->enable_profiler(TRUE);
    if (intval($this->uri->segments[4])){
        $content_id = $this->uri->segments[4];
    } else {
        $content_id = $this->uri->segments[7];
    }
    $data['content'] = $this->site_model->get_content($content_id);
    $this->load->view("call", $data);
}

    public function get_content($content_id) {
    $this->db->select('*');
    $this->db->from ('content');
    $this->db->join('categories', 'categories.category_id = content.categories_category_id', 'left');
    $this->db->where ('categories_category_id', $content_id);

    $query = $this->db->get();
    return $query->result_array();

}

    <?php
if(isset($content)) {
//  var_dump($content);
    foreach($content as $row) {
        echo "<h2 class='$row[category_name]'><a href='#'>$row[category_name]</a></h2>";
        echo "<div class='$row[category_name]'><a href='index.php/home/get_content/$row[content_id]' class='contentlink'>$row[content_title]</a></div>";
    }
}
?>

