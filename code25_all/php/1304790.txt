for($i=0; $i< $total_rows; $i++)
{
    for($j=0; $j<7;$j++)
    {
        $day++;                 

        //if the current day is less or equal to the total days in the month           
        if($day>0 && $day<=$total_days_of_current_month)
        {
            $date_form = "$current_year/$current_month/$day";

            echo '<div class="date_has_event" href="#"><td';

            //If the date is today then give the td cell the 'today' class
            if($date_form == $today)
            {
                echo ' class="today"';
            }

            //check if any event stored for the date
            if(array_key_exists($day,$events))
            {
                //adding the date_has_event class to the <td> and close it
                echo ' class="date_has_event">'.$day;

                //adding the eventTitle and eventContent wrapped inside <span> & <li> to <ul>
                echo '<div class="events"><ul>'.$events[$day].'</ul></div>';
            }
        }   
        else //if the current day is less or more than the total days in the month 
        {
            //then create a table cell with the current day of the mont
            echo '<td class="padding">' . $day . '&nbsp;</td>'; h
        }
    }
}

