$p = '%<a.*\s+name="(.*)"\s*>(?:.*)</a>%im';

<a
name="
name='
function findAnchors($html) {
    $names = array();
    $p = '%<a.*\s+name="(.*)"\s*>(?:.*)</a>%im';
    $t = preg_match_all($p, $html, $matches, PREG_SET_ORDER);
    if ($matches) {
        foreach ($matches as $m) {
            $names[] = $m[1];
        }
        return $names;
    }
}

