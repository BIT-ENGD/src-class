[text]1[/text]
function textFormat($text) {
    $raw = array(
        '\'\[text\](?P&lt;id&gt;.*?)\[/text\]\'is'
    );

    $out = array (
        '&lt;a href="index.php?function=getData&reference=text&id=$1"&gt;' . getTextTitle() . '&lt;/a&gt;'
    );

    preg_replace($raw, $out, $text);
    return $text;
}

function getTextTitle($id) {
     $sql = mysql_query("SELECT title FROM text WHERE id = $id");
     return mysql_result($sql);
}

$regs['id']
