$ldap_serveur = "ldapserver";       // Nom ou IP du serveur LDAP
$ldap_port = 389;           // Port de communications ldap (389 en standard)
$ldap_base = "O=SI";            // Base de l'annuaire LDAP
$conn_ldap=ldap_connect($ldap_serveur, $ldap_port);
if ($conn_ldap) {
    $ldap_acces = ldap_bind($conn_ldap);     // bind anonyme, typique pour un accès en lecture seule
    // Recherche par user
    $sr=ldap_search($conn_ldap,$ldap_base, "uid=USER"); 
    echo 'Nombre d\'enregistrements retournés : ' . ldap_count_entries($conn_ldap,$sr) . '<br />';
    echo 'Lecture des enregistrements ...<br />';
    $info = ldap_get_entries($conn_ldap, $sr);
    echo 'Données pour ' . $info["count"] . ' entrées:<br />';
    for ($i=0; $i<$info["count"]; $i++) {
            print_r ($info[$i]);
        echo '<br />';
        echo $info[0]["mail"][0];
        echo '<br />';
    }
} else {
    exit("Impossible de se connecter au serveur ldap : ".$ldap_serveur);
}

