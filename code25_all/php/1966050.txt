array('One', 'Two', 'recursion', 'Three', 'Four', 'Five', 'stop_recursion', 'Six', 'Seven')

array('One', 'Two', array('Three', 'Four', 'Five'), 'Six', 'Seven')

function testRecrusion($array, $child = false)
{
    $return = array();

    foreach ($array as $key => $value) {
        if ($value == 'recursion') {
            unset($array[$key]);
            $new = testRecrusion($array, true);
            $array = $new['array'];
            $return[] = $new['return'];
        } else {
            if ($value == 'stop_recursion') {
                unset($array[$key]);
                if ($child) {
                    return array('return' => $return, 'array' => $array);
                }
            } else {
                unset($array[$key]);
                $return[] = $value;
            }
        }
    }

    return $return;
}

Array
(
    [0] => One
    [1] => Two
    [2] => Array
        (
            [0] => Three
            [1] => Four
            [2] => Five
        )

    [3] => Three
    [4] => Four
    [5] => Five
    [6] => Six
    [7] => Seven
)

