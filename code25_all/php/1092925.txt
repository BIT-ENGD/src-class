CREATE TABLE my_table(
  id INTEGER PRIMARY KEY NOT NULL AUTO_INCREMENT,   
  important_data INTEGER,
  date INTEGER);

SELECT * FROM my_table 
  WHERE date >= ? AND date <= ? 
  ORDER BY date DESC;

10-21-2009 12:12:12, 10002
10-21-2009 14:12:12, 15002
10-22-2009 14:05:01, 20030
10-23-2009 15:23:35, 300
....  

SELECT COUNT(*) AS count, SUM(important_data) AS important_data
  FROM my_table 
  WHERE date >= ? AND date <= ? 
  ORDER BY date DESC;

10-2009, 100002
11-2009, 200030
12-2009, 3000
01-2010, 0 /* <- very important to show empty dates, with no entries in the table! */
....  

for(...){ /* example for group by day */
  $span_from = (int)mktime(0, 0, 0, date("m", $time_min), date("d", $time_min)+$i, date("Y", $time_min));
  $span_to = (int)mktime(0, 0, 0, date("m", $time_min), date("d", $time_min)+$i+1, date("Y", $time_min)); 
  $query = "..";  
  $output = date("m-d-y", ..);
}

SELECT * FROM (  
  SELECT DATE_ADD('2009-01-30', INTERVAL 0 DAY) AS day UNION ALL
  SELECT DATE_ADD('2009-01-30', INTERVAL 1 DAY) AS day UNION ALL
  SELECT DATE_ADD('2009-01-30', INTERVAL 2 DAY) AS day UNION ALL
  SELECT DATE_ADD('2009-01-30', INTERVAL 3 DAY) AS day UNION ALL
  ......
  SELECT DATE_ADD('2009-01-30', INTERVAL 50 DAY) AS day ) AS dates
LEFT JOIN (
    SELECT DATE_FORMAT(date, '%Y-%m-%d') AS date, SUM(data) AS data
    FROM test 
    GROUP BY date  
  ) AS results
ON DATE_FORMAT(dates.day, '%Y-%m-%d') = results.date;

