module Main where
import Network
import Network.Socket
import System.IO

main :: IO ()
main = withSocketsDo $ do
 addrInfos <- getAddrInfo Nothing (Just "localhost") (Just "23")
 s <- socket (addrFamily (head addrInfos)) Stream defaultProtocol
 connect s (addrAddress (head addrInfos))
 h <- socketToHandle s ReadWriteMode
 hSetBuffering h (BlockBuffering Nothing)

 l <- hGetLine h
 putStrLn l

