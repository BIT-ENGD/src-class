increment :: StateT Integer IO Integer
increment = do
        n <- get 
        put (n+1)
        return n

plusOne :: Integer -> IO Integer
plusOne n = execStateT increment n   

printTChan mtch = do
        forever $ do
        m <- atomically $ readTChan mtch
        case m of
             "ping" -> plusOne c
             _ -> plusOne f
        print (c)

