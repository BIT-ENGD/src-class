newtype VCSSetupAction a = VCSSetupAction (ReaderT (Maybe VCSConf) IDEM a)
    deriving (Monad, MonadIO, MonadReader (Maybe VCSConf))

commitAction' :: Common.VCSAction ()
commitAction' = do
   config <- ask
   ...

type IDEM = ReaderT IDERef IO

commitAction' :: Common.VCSAction ()
commitAction' = do
   config <- ask
   ideRef <- lift $ ask -- this does not compile/work

