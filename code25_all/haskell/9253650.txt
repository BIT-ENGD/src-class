{-# RULES
"f/f" forall a. f ( f a ) = 4*a
  #-}
f a = 2 * a

test1 = f ( f 1 )

test2 = f . f $ 1

test3 = f $ f 1

{-# RULES
"f/f1" forall a. f ( f a ) = 4 * a
"f/f2" forall a. f . f $ a  = 4 * a
"f/f3" forall a. f $ f $ a  = 4 * a
   #-}

test4 = f . f . f $ 1
test5 = f $ f $ f $ 1
test6 = f $ 1

