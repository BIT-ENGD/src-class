AppMessage' with actual type
getUserProfileR :: Handler RepHtml
getUserProfileR = do        
    maid <- maybeAuth
    let user = case maid of
                    Nothing -> "(Unknown User ID)"
                    Just (Entity _ u) -> userEmail u
    defaultLayout $ do
        setTitleI MsgUserProfile
        $(widgetFile "nhUserProfile")

