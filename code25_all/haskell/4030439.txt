<str name="field1">value</str>
<lst name="field2"><str>value2</str><str>value3</str></lst>

data XmlData = XmlStr String | XmlList XmlData

getXmlData :: IOSArrow XmlTree (String, XmlData)
getXmlData = (getAttrl >>> getChildren >>> getText) &&& 
      ((filterByType "str" >>> getText >>> arr (\x -> XmlStr x))
      <+> (filterByType "lst" >>> getXmlData))
  where filterByType t = isElem >>> hasName t >>> getChildren

