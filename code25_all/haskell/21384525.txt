:set -XOverloadedStrings
import Database.Redis
import Control.Exception

conn <- connect defaultConnectInfo
runRedis conn $ ping

>>= evaluate
let tryR = try :: IO a -> IO (Either ConnectionLostException a)
tryR . (>>= evaluate) . runRedis conn $ ping

Left
