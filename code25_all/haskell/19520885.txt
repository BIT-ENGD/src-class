main = forever $ interact reverse
import Control.Monad
import System.IO

main = forever $ interact revLines

revLines = unlines . map (reverse) . lines 

NoBuffering
LineBuffering
import System.IO

main = do 
  hGetBuffering stdin >>= print 
  hGetBuffering stdout >>= print

BlockBuffering Nothing
echo "test" | nc localhost 7
LineBuffering
{-# OPTIONS_GHC -W #-}

import System.IO

main = do
  hSetBuffering stdin LineBuffering
  hSetBuffering stdout LineBuffering

  interact revLines

revLines = unlines . map (reverse) . lines 

