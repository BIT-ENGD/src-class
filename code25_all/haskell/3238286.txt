testError :: (Error e, MonadError e m) => Bool -> m ()
testError True  = return ()
testError False = throwError $ strMsg "hello world"

*Main> testError False :: Either String ()
Left "hello world"
*Main> testError True :: Either String ()
Right ()

*Main> testError True
*Main> testError False
*** Exception: user error (hello world)

