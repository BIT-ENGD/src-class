Exception: {file path}: withFd: resource vanished (Broken pipe)

withSocketsDo $ do                                                                                                                                              
                sock <- socket AF_INET Stream defaultProtocol                                                                                                           
                bindSocket sock (SockAddrInet 1212 0)
                sendFile sock "/some/path/to/file"

