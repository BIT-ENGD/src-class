main
~/.xmonad.xmonad.hs
main = do 
     session <- getEnv "DESKTOP_SESSION" 
     xmonad $ maybe desktopConfig desktop session 

desktop "gnome"        = gnomeConfig 
desktop "kde"          = kde4Config 
desktop "xfce"         = xfceConfig 
desktop "xmonad-gnome" = gnomeConfig 
desktop _              = desktopConfig 

xmonad $ desktopConfig {
   manageHook = myManageHook <+> manageHook desktopConfig
 , layoutHook = simpleTabbed ||| layoutHook desktopConfig
 }

