import qualified Data.Text.Lazy             as LT
import qualified Data.Text.Lazy.Builder     as TLB

SomeRouteR= do
    -- ................
    code <- someFuncAccessDB
    render <- getUrlRenderParams
    let tmpl = $(textFileReload "templates/some.txt")
        sms_content = LT.toStrict $ TLB.toLazyText $ tmpl render
    $(logDebug) $ "trying to send SMS: " `mappend` sms_content
    -- ....

the code is #{code}

