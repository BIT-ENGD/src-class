rec
proc
do
rec
counter :: ArrowCircuit a => a Bool Int
counter = proc reset -> do
        rec     output <- returnA -< if reset then 0 else next
                next <- delay 0 -< output+1
        returnA -< output

counter
output
output
next
next
output
next
output
output
output
next
output
