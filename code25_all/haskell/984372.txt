f = ...
    g someParms
    ...

SomeServiceImpl
SomeService
SomeServiceImpl
MockSomeServiceImpl
class SomeService a where
    g :: a -> typeOfSomeParms -> gReturnType

data SomeServiceImpl = SomeServiceImpl
data MockSomeServiceImpl = MockSomeServiceImpl

instance SomeService SomeServiceImpl where
    g _ someParms = ... -- real implementation of g

instance SomeService MockSomeServiceImpl where
    g _ someParms = ... -- mock implementation of g

f someService ... = ...
                    g someService someParms
                    ...

