createTransport
curl ifconfig.me
createTransport
curl ifconfig.me
101.119.27.24
ServerClientServer 101.119.27.24 9000

bind: unsupported operation (Cannot assign rerquested address)

main :: IO ()
main = do
  [host, port]    <- getArgs
  serverDone      <- newEmptyMVar
  Right transport <- createTransport host port 
  Right endpoint  <- newEndPoint transport
  forkIO $ echoServer endpoint serverDone 
  putStrLn $ "Echo server started at " ++ show (address endpoint)
  readMVar serverDone `onCtrlC` closeTransport transport

echoServer
onCtrlC
Right transport <- createTransport host port
t <- createTransport host port defaultTCPParameters
let transport = case t of
  (Right t) -> t
  (Left e)  -> error $ show e

