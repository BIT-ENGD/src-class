EmptyDataDecls
alloca
Storable
{-# LANGUAGE ForeignFunctionInterface, EmptyDataDecls #-}

module Main where

import Foreign.Marshal.Alloc
import Foreign.Ptr

data Struct

foreign import ccall "header.h get_struct"
    get_struct :: Ptr Struct -> IO ()

main = alloca $ \ptr -> get_struct ptr

Storable Struct
instance Storable Struct where
    sizeOf _    = ...
    alignment _ = ...

Ptr
Storable
peek
ptr
get_struct
main = alloca $ \ptr -> do
  ptr <- peek ptr
  get_struct ptr

Storable
