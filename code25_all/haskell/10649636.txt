import qualified Data.ByteString.Lazy as BSL

BSL.readFile filename >>= BSL.hPut remoteH  -- OK

BSL.hGet remoteH size >>= BSL.hPut fileH bs  -- starts swapping in 1 second

