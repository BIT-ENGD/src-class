cabal test
cabal configure --enable-tests && cabal build && cabal test
tests/HUnit/Test.hs:4:18:
    Could not find module `AmazonTest'

module AmazonTest where

import Test.HUnit
import Lib.Amazon

tests = TestList [ "test sayHello" ~: "Hell!" ~=? sayHello ]

module Main where

import Test.HUnit
import qualified AmazonTest as Amazon

main = runTestTT Amazon.tests

module Lib.Amazon where

sayHello :: String
sayHello = "Hello!"

test-suite test
    type:              exitcode-stdio-1.0
    main-is:           tests/HUnit/Test.hs
    hs-source-dirs:    .
    ghc-options:       -Wall

    build-depends: base
                 , myapp
                 , yesod-test >= 0.3 && < 0.4
                 , yesod-default
                 , yesod-core
                 , persistent
                 , persistent-postgresql
                 , resourcet
                 , monad-logger
                 , HUnit
                 , text

