.
$
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE FlexibleInstances #-}
{-# LANGUAGE TypeFamilies #-}

class SuperDot a b where
  type Result a b 
  ($.) :: a -> b -> Result a b

instance SuperDot (a -> b) a where
  type Result (a -> b) a = b
  ($.) f x = f x

instance SuperDot (b -> c) (a -> b) where
  type Result (b -> c) (a -> b) = (a -> c)
  ($.) f g = f . g

h1 :: Int -> Int
h1 x = x * 2

h2 :: Int -> Int
h2 x = x + 3

main = print (h2 $. h1 $. (5 :: Int))

