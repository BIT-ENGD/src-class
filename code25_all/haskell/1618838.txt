mean = go 0 0
    where
      go s l []     = s / fromIntegral l
      go s l (x:xs) = go (s+x) (l+1) xs

main = do
  putStrLn (show (mean [0..10000000]))

Stack space overflow: current size 8388608 bytes.

seq
$!
-XBangPatterns
go !s !l (x:xs) = go (s+x) (l+1) xs

-XBangPatterns
-XBangPatterns
go s l (x:xs) = go (seq s (s+x)) (seq l (l+1)) xs

