class (Error e, MonadError e m) => Head m e | m -> e where
  head :: [a] -> m a

errorHead :: (Error e, MonadError e m) => e -> [a] -> m a
errorHead e []       = throwError e
errorHead e (x : xs) = return x

instance Head Maybe () where
  head = errorHead ()

instance Head (Either String) String where
  head = errorHead "error: empty list"

