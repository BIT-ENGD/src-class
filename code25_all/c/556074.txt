if (time_after(jiffies, some_future_jiffies_value))
{
   // we've already passed the saved value
}

some_future_jiffies_value = jiffies + msecs_to_jiffies(10);

   // Sleep for the appropriate time
   while (time_after(some_future_jiffies_value, jiffies))
   {
      set_current_state(TASK_INTERRUPTIBLE);
      schedule_timeout(1);
   }

