unsigned char A[] = {1, 2, 3, 4};

unsigned int
f (unsigned int x)
{
  return A[x];
}

mov edi, edi
movzx  eax, BYTE PTR A[rdi]
ret

