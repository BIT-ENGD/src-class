#include <stdio.h>
#include <stdlib.h>
#include <wordexp.h>
#include <errno.h>
#include <assert.h>

int main (int argc, const char * argv[])
{
    int         wordexpResult;
    wordexp_t   words;
    char*       origPath = "~";

    wordexpResult = wordexp(origPath, &words, 0);

    printf("wordexpResult = %i\n", wordexpResult);

    switch (wordexpResult)
    {
        case 0:
            break;

        case WRDE_BADCHAR:
            fprintf(stderr, "BADCHAR\n");
            exit(EXIT_FAILURE);

        case WRDE_BADVAL:
            fprintf(stderr, "BADVAL\n");
            exit(EXIT_FAILURE);

        case WRDE_CMDSUB:
            fprintf(stderr, "CMDSUB\n");
            exit(EXIT_FAILURE);

        case WRDE_NOSPACE:
            fprintf(stderr, "NOSPACE\n");
            exit(EXIT_FAILURE);

        case WRDE_SYNTAX:
            fprintf(stderr, "SYNTAX\n");
            exit(EXIT_FAILURE);

        default:
            fprintf(stderr, "Unrecognized value: %d\n", wordexpResult);
            exit(EXIT_FAILURE);
    }

    assert(words.we_wordc != 0);

    wordfree(&words);

    return 0;
}

