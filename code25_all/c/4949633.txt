if( stru_ct->size != 0 ){
  unsigned char * s_buffer = malloc(stru_ct->size);
  if( !s_buffer ){
    printf( "Memory error!" );
    return -1;
    }

  fseek( file, wp->stru_ct->offset, SEEK_SET );
  fread( s_buffer, stru_ct->size, 1, file );
}

