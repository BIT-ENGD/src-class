testF.c
#define <stdio.h>
#include <windows.h>
#include <process.h>
#include "testF.h"

#define MAX_THREADS 10

int *var;

void  testF( void *arg ){ 
    int a,N,i;

    a = (INT_PTR)arg;
    N = (int)(10000/(int)(a+1));
    var = (int*) malloc(N*sizeof(int));
    for(i = 0; i<N; i++)
        var[i] = (int)a;
    _endthread();
}
...

main.c
...
#include "testF.h"

int main(void){
    HANDLE   hth[MAX_THREADS];
    DWORD   dwExitCode;
    int i;
    for(i = 0; i<MAX_THREADS; i++)
         hth[i] = (HANDLE)_beginthread( testF, 0, (void*)i );

    WaitForMultipleObjects(MAX_THREADS, hth, TRUE, INFINITE);

    for(i = 0; i<MAX_THREADS; i++){
        GetExitCodeThread( hth[i], &dwExitCode );
        printf( "thread 1 exited with code %u\n", dwExitCode );
        CloseHandle( hth[i] );
    }
}

*var
rand()
