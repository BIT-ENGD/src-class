#include <stdio.h>

#define UPPER 10
#define ABOVE (UPPER+1)

main()
{
    int i, c, wcounter, j;
    int wlengths[ABOVE];
    int maxHistHeight;

    for (i = 0; i <= ABOVE; ++i)        /* Initialize everything to zero */
        wlengths[i] = 0;

    wcounter = maxHistHeight = 0;

    while((c = getchar()) != EOF){      /* Count word lengths */
        if (c != ' ' && c != '\t' && c != '\n'){
            ++wcounter;
        } 
        else if (wcounter >= ABOVE){
            ++wlengths[ABOVE];
            wcounter = 0;
        }else if (wcounter != 0){   
            ++wlengths[wcounter];
            wcounter = 0;
        }
    }

    for (i = 1; i <= ABOVE; ++i)       /*For testing purposes. See if the array is holding correct values*/
        printf(" %d ",wlengths[i]);

    printf("\n");

    for (i = 1; i <= ABOVE; ++i)        /*Get the Maximum height for histogram */
        if (wlengths[i]>maxHistHeight)
            maxHistHeight = wlengths[i];

    printf("Histogram of length of words\n");   /* Print histogram */
    printf("----------------------------\n");

    for (i = maxHistHeight; i >= 0; --i){  /* Start at top of histogram, and go downwards */
        printf("\n");   
        for (j = 1; j <= ABOVE; ++j){      /*For each level of histogram, go through all the */
            if (i == 0 && j != ABOVE){     /*Arrays, and see if they contain an X in that level */
                printf(" %d ", j);
            }else if (i == 0 && j == ABOVE){
                printf(">%d",UPPER);
            }
            else if (wlengths[j]>=i){
                printf(" X ");
            }
            else{ 
                printf("   ");
            }    
        }           
    }
    printf("\n");    
}

                               X 
       X  X                    X 
 1  2  3  4  5  6  7  8  9  10 >10

1234567890
123457890
1234567890

Histogram of length of words
----------------------------

                            X  X 
                         X  X  X 
 1  2  3  4  5  6  7  8  9  10 >10

 0  0  0  0  0  0  0  0  1  2  0 

1234567890
1234567890
12345678901234567890
12345

 0  0  0  0  1  0  0  0  0  2  1 

Histogram of length of words
----------------------------

                            X  X 
          X                 X  X 
 1  2  3  4  5  6  7  8  9  10 >10

