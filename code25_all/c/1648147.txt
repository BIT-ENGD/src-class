struct pollfd fds[2];
fds[0].fd = sock1;
fds[1].fd = sock2;

while (true) {
  int res = poll(fds, 2, timeout);

  if ((fds[0].revents & POLLIN)){
    //ready to recv data from sock1
  }
  if ((fds[1].revents & POLLIN)){
    //ready to recv data from sock2
  }
}

