#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct list
{
    char *data;
    struct list *next;
} node;

int main()
{
    int i;
    char *word = NULL;
    char line[1000];
    node *root,*temp;

    root = (node *) malloc(sizeof(node));
    temp = root;
    FILE *f = fopen("test.txt","r");
    while (fgets( line, sizeof(line), f ))
        for (word = strtok(line, " "); word; word = strtok(NULL, " "))
        {
            temp->data = word;
            temp->next=(node *) malloc(sizeof(node));
            temp=temp->next;
        }
    fclose(f);
    temp =root;
    for(i=0; i<10; i++)
    {
        printf("%s\n",temp->data);
        temp=temp->next;
    }
    return 0;
}

