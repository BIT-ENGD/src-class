LRESULT CALLBACK WindowFunc(HWND hMainWindow, UINT message,
    WPARAM wParam, LPARAM lParam)
{
 POINTS mouseXY;
 WCHAR buffer[256];

    // Act on current message
    switch(message)    
    {
    case WM_DESTROY:
        PostQuitMessage(0);
        break;
 case WM_LBUTTONUP:
  // Get mouse x, y
  mouseXY = MAKEPOINTS(lParam);

  // Output the co-ordinates
  swprintf(buffer, 255, L"x = %d, y = %d", mouseXY.x, mouseXY.y);
  MessageBox(0, buffer, L"Mouse Position", MB_OK);
  break;
    default:
        return DefWindowProc(hMainWindow, message, wParam, lParam);
    }
    return 0;
}

