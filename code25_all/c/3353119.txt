gcc
icc
mpicc
icc
OpenMPI
gcc
Makefile
OpenMPI
Makefile
CC = mpicc
CFLAGS += -DMPI

$ which mpicc
/usr/bin/mpicc

lrwxr-xr-x  /usr/bin/mpicc -> opal_wrapper
-rwxr-xr-x  /usr/bin/opal_wrapper

OpenMPI
mpicc
$ more /usr/local/share/openmpi/mpicc-wrapper-data.txt 
project=Open MPI
project_short=OMPI
version=1.1.4
language=C
compiler_env=CC
compiler_flags_env=CFLAGS
compiler=icc
extra_includes= openmpi
preprocessor_flags= 
compiler_flags=-pthread 
linker_flags=    
libs=-lmpi -lorte -lopal   -ldl   -Wl,--export-dynamic -lnsl -lutil -ldl 
required_file=

OPMI_CC = gcc
CC = gcc
$ export CC=gcc
$ echo $CC
gcc
$ make clean $$ make
...icc:...errors

export OMPI_CC=gcc
/opt/intel/fce/9.1.036/lib/libimf.so: warning: warning: feupdateenv is not implemented and will always fail

