/*
 * PURPOSE
 *      Search if a string contains a string and print it out from there
 */
#include <stdio.h>

void searchHaystack(char cHaystack[], char cNeedle[]);
void showResult(int iOffset, char cHaystack[]);

int main() {
    // Declarations
    char cHaystack[50], cNeedle[50];

    // Input
    puts("Haystack:");
    gets(cHaystack);
    puts("Needle:");
    gets(cNeedle);

    // Call searcher
    searchHaystack(cHaystack, cNeedle);

    return 0;
}

void searchHaystack(char cHaystack[], char cNeedle[]) {
    // Declarations
    int iCntr, iCntr2, iFoundOffset;

    // Search the haystack for the first letter of the needle
    for (iCntr == 0; iCntr < 50 && cHaystack[iCntr] != '\0'; iCntr++) {
        if (cHaystack[iCntr] == cNeedle[0]) {
            iFoundOffset = iCntr;
            for (iCntr2 == 1; iCntr2 < 50 && (cHaystack[iCntr+iCntr2] == cNeedle[iCntr2] || cNeedle[iCntr2] == '\0'); iCntr2++) {
                if (cNeedle[iCntr2] == '\0') {
                    showResult(iFoundOffset, cHaystack);
                }
            }
        }
    }
}

void showResult(int iOffset, char cHaystack[]) {
    int iCntr;

    // Print the substring char by char
    for (iCntr == iOffset; iCntr < 50 && cHaystack[iCntr] != '\0'; iCntr++) {
        printf("%c", cHaystack[iCntr]);
    }
    printf("\n");
}

