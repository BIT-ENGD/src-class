struct nmlist_element_s {
    void *data;
    struct nmlist_element_s *next;
};
typedef struct nmlist_element_s nmlist_element;

struct nmlist_s {
    void (*destructor)(void *data);
    int (*cmp)(const void *e1, const void *e2);
    unsigned int size;
    nmlist_element *head;
    nmlist_element *tail;
};
typedef struct nmlist_s nmlist;

nmlist *nmlist_alloc(void (*destructor)(void *data));

void int_destructor(void *data)
{
    free((int*)data);
}

void "x"_destructor(void *data, "x")
{
    free(("x" *)data);
}

