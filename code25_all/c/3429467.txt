void (* log_msg)(char *msg)
    =printf;

void change_and_log(int *buffer, int offset, int value){
    buffer[offset] = value;
    log_msg("changed");
}

void (* log_msg)(char *msg)
log_msg
printf
(* log_msg)
log_msg
