ueach
string ueach(string s, void *function(string)) {
    unsigned long i;
    for (i = 0; i < s.length; i++)
        function(uchar(s, i));
}

testing
void testing(string c) {
    puts(utoc(c));
}

utoc
char *
string a = ctou("Hello, world!");
ueach(a, &testing);

test.c: In function ‘main’:
test.c:8: warning: passing argument 2 of ‘ueach’ from incompatible pointer type
ulib:171: note: expected ‘void * (*)(struct string)’ but argument is of type ‘void (*)(struct string)’

ueach
string ueach(string s, void (*function)(string)) { ... }

void * (*)(struct string)
void (*)(struct string)
void *function(string)
void (*function)(string)
