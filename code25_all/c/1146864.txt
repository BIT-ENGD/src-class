CGContextRef context = UIGraphicsGetCurrentContext(); 
CGFloat barStartX = 96;
CGFloat barStartY = 64.0;

CGFloat barWidth = 16;
CGFloat barHeight = 64;
CGFloat barGutter = 8;

int barSegments = 8;    

for (int segmentNumber = 0; segmentNumber <= (barSegments - 1); ++segmentNumber) {

    // get the box rect
    CGRect segment = CGRectMake(barStartX + (barWidth * segmentNumber), barStartY , barWidth - barGutter, barHeight);

    // plot box
    CGContextFillRect(context, segment);
}

