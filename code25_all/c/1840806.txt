while (1) {
  input_process();
  network_process();
  graphics_process();
}

#define HAS_NETWORK
...
while (1) {
  input_process();
#ifdef HAS_NETWORK
  network_process();
#endif
  graphics_process();
}

components = {'input', 'network', 'graphics'}
...
foreach component in components
  execute component_process()

