#pragma omp parallel for default(none) shared(x) private (y, z, f) ordered
for (i = 0; i < 512; i++) {
    #pragma omp ordered
    for (y = 0; y < 512; y++) {
        for (z = 0, f = 0; z < 512; z++) {
            x[f++] = z + i + y;
        }
    }
}

