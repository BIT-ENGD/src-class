#define MACRO (xx) \
foo(xx)
...    
#ifdef A
return MACRO(a);
#endif
...

#define MACRO \
foo(a)

