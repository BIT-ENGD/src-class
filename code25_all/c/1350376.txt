typedef struct pstring_t {
    char * chars;
    int (* length)();
} PString;

int length(PString * self) {
    return strlen(self->chars);
}

PString * initializeString() {
    PString *str;
    str->length = &length;
    return str;
}

str->length = &length
