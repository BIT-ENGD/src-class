while (--lim > 0 && (c=getchar()) != EOF && c != '\n')

