static void _nodeRotateRight(avl_tree* t, avl_tree_node** n) {
avl_tree_node* node = (*n)->left;

// refresh parents before rotate
if (node->right)
    node->right->parent = (*n);

if ((*n) == t->top) {
    t->top = node;
    node->parent = NULL;
}
else {
    (*n)->parent->right = node;
    node->parent = (*n)->parent;
}

(*n)->parent = (*n)->left;

// rotate nodes (pointers)
(*n)->left = node->right;
node->right = (*n);
(*n) = node;

// refresh heights
(*n)->right->height -= 2;

