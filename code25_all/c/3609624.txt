void circleBufferData(GLenum target, float radius, GLsizei count, GLenum usage) {
  const int segments = count - 2;

  const float coefficient = 2.0f * (float) M_PI / segments;

  float *vertices = new float[2 * (segments + 2)];

  vertices[0] = 0;
  vertices[1] = 0;
  for (int i = 0; i <= segments; ++i) {
    float radians = i * coefficient;
    float j = radius * cosf(radians);
    float k = radius * sinf(radians);
    vertices[(i + 1) * 2] = j;
    vertices[(i + 1) * 2 + 1] = k;
  }

  glBufferData(target, sizeof(float) * 2 * (segments + 2), vertices, usage);
  glVertexPointer(2, GL_FLOAT, 0, 0);

  delete[] vertices;
}

