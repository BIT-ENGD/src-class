(defun c-shell-compile ()
  (interactive)
  (save-buffer)
  (if (equal (shell-command (concat "gcc " (buffer-file-name))) 
             "(Shell command succeeded with no output)")
      (shell-command "./a.out")
    ;;Else show the errors        
    ))

 (add-hook 'c-mode-hook
           (lambda () (local-set-key (kbd "\C-c\C-c") 'c-shell-compile)))

