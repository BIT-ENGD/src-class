#include <string.h>
#include <jni.h>
#include <time.h>
#include <math.h>

clock_t start, finish;
static int ARRAY_LENGTH = 200;
static int WORD_LENGTH = 4;
char values[200];

void sortStringArray(void){
    int i, j;
    for(i = 0; i < ARRAY_LENGTH; i++){
        for(j = 0; j < ARRAY_LENGTH-1; j++){
          if(strcmp(values[j], values[j+1]) > 0) {
            char holder = values[j+1];
            values[j+1] = values[j];
            values[j] = holder;
          } 
        }
    }   
}
char generateRandomChar(char aC[]){
   int length = strlen(aC);
   char randStr[WORD_LENGTH];
   int m;
   for(m = 0; m <WORD_LENGTH; m++){
     int randNr = rand()%length;
     randStr[m] = aC[randNr];
  }
  return randStr;
}

void fillStringArray(void)
{
  char allowedChars[] = "abcdefghijklmnopqrstuvwxyz";
  int k;
  for(k = 0; k < ARRAY_LENGTH; k++){
     char randStr = generateRandomChar(allowedChars);
     values[k] = randStr;
  }
}
double
Java_com_example_hellojni_HelloJni_processStringSort( JNIEnv* env, jobject thiz)
{
    start = clock();
    fillStringArray();
    sortStringArray();
    finish = clock();
    return ((double)(finish - start));
}

