getpwuid(buf->st_uid);
readdir(dirh);
buf = (struct stat*) malloc(sizeof(struct stat));        
for (dirp[i] = readdir(dirh); dirp[i] != NULL; dirp[++i] = readdir(dirh)){

    ptr=(char *)malloc(sizeof(strlen(mydir)));

    ptr=strdup(mydir);
    strcat(ptr,dirp[i]->d_name);

    stat(ptr,buf);
    //modos();

    getpwuid(buf->st_uid);
    printf("\t%s\n",ptr);

    //we free the buf memory
}

free(buf);
closedir(dirh);

