stdin
stdin
tail -f file | my_prog

#include <stdio.h>
#include <sys/stat.h>

long size(FILE *st_in) {
    struct stat st;
    if (fstat(fileno(st_in), &st) == 0)
        return st.st_size;
    return -1;
}

int main (){
   FILE *file = stdin;
   char line [ 128 ];  

   while ( fgets ( line, sizeof line, file ) != NULL )
      fputs ( line, stdout ); /* write the line */

   long s1, s2; 
   s1 = size(file);
   for (;;) {
      s2 = size (file);
      if (s2 != s1) {
         if (!fseek (file, s1, SEEK_SET)) {
            while ( fgets ( line, sizeof line, file ) != NULL ) { 
               fputs ( line, stdout ); /* write the line */
            }   
         }   
         s1 = s2; 
         usleep(300000);
      }   
   }   
   return 0;
}

