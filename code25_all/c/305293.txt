void g(double *ap, int n)
{
    double (*a)[n] = (double (*)[n]) ap;
    /* ... */ a[1][2] /* ... */
}

ap
void g(const double *ap, int n)
{
    const double (*a)[n] = (const double (*)[n]) ap;
    /* ... */
}

const
double[n]
-Wcast-qual
const
-Wcast-qual
a[i][j]
ap[i*n+j]
