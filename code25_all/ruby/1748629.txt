#user.rb
class User < ActiveRecord::Base
  acts_as_authentic do |c| 
    c.validate_login_field = false
    # optional, but if a user registers by openid, he should at least share his email-address with the app
    c.validate_email_field = false
    # fetch email by ax
    c.openid_required_fields = [:email,"http://axschema.org/contact/email"]
    #c.required_fields = ["http://axschema.org/contact/email"]
    # fetch email by sreg
    #c.optional_fields = ["email"]
  end

  #private method to deal with emails goes here

end


#UserSession.rb
class UserSession < Authlogic::Session::Base
  auto_register
  logout_on_timeout true
end

