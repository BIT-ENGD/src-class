module Voteable
  def has_up_vote_of user
    return ! self.votes.select{|v| v.user.id == user.id && v.value == 1}.empty?
  end
  def has_down_vote_of user
    return ! self.votes.select{|v| v.user.id == user.id && v.value == -1}.empty?
  end
end

class Comment < ActiveRecord::Base
  include Voteable
end

has_up_vote = @voteable.has_up_vote_of @user
has_down_vote = @voteable.has_down_vote_of @user

def has_up_vote_of user
  has = self.votes.select{|v| v.user.id == user.id && v.value == 1}.empty?
  return !has.nil? && has
end

def has_up_vote_of user
  return false
end
def has_down_vote_of user
  return false
end

has_up_vote = false if has_up_vote.nil?
has_down_vote = false if has_down_vote.nil?

