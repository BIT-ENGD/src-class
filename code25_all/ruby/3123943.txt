# -*- encoding: utf-8 -*-

require 'rubygems'
require 'nokogiri'
require 'open-uri'

link = 'http://en.wikipedia.org/wiki/List_of_j%C5%8Dy%C5%8D_kanji'

doc = Nokogiri::HTML(open(link))
doc.encoding = 'UTF-8'

d = []
doc.css('.wikitable tr').each do |tr|
  row = []
  tr.css('td').each {|td| row << td.text }
  d << row
end

d.each {|row| row.each {|td| puts td } }
y = YAML.dump(d, STDOUT)
puts y

