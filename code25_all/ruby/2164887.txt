$?
Thread.new do
  `external_program`
  if $?.exitstatus == 0
    # it worked.
  else
    # it didn't work.
  end
end

Process.new(`external_program`).exitstatus

exitstatus
