now - birthday / 365
now = Date.today
year = now.year - birth_date.year

if (date+year.year) > now
  year = year - 1
end

