v
v = ParserMap[kind][:validation]   # We want to use this value later.
s = ParserMap[kind][:specs]
const_set(name, lambda {
  p = Parser.new(&s)

  # This line starts a new scope...
  class << p
    define_method :validate do |opts|
      v.call(self, opts)  # => NameError! The `class` keyword above
                          #    has started a new scope and we lost
                          #    old `v`.
    end
  end
  p
})

class
