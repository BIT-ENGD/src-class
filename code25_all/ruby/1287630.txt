str = 'This string links to the pages #12 and #125'

page_ids = str.scan(/#(\d*)/).flatten
=> [12, 125]

page_ids.each do |id|
  str = str.gsub(/##{id}/, link_to("##{id}", page_path(id))
end

