 items.sort! do |p1, p2|
   if (p1.foo == p2.foo)
     if (p1.bar == p2.bar)
       if (p1.moo == p2.moo)
         p1.wow <=> p2.wow               # Ascending order
       else
         p2.sam.moo <=> p1.sam.moo       # Descending order, 2 levels attribute
       end
     else
       p2.bar <=> p1.bar                 # Descending order
     end
   else
     p1.foo <=> p2.foo                   # Ascending order
   end
 end

