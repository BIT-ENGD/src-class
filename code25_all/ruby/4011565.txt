<pre><code>:::ruby
def say_hello
  puts 'hello!'
end
</code></pre>

:::ruby
def coderay(text)
  text.gsub(/\<pre\>\<code\>(.+?)\<\/code\>\<\/pre\>/m) do
    CodeRay.scan($2, $3).div()
  end
end

$2
scan()
