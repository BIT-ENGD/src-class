filter_chain
# app/controllers/foo_controller.rb
class FooController < ApplicationController
  def index
    render :text => 'not filtered'
  end
end

# lib/foobar.rb
ActionController::Base.class_eval do
  before_filter :foobar
  def foobar
    render :text => 'hi from foobar filter'
  end
end

# config/environment.rb (at end of file)
require 'foobar'

$ script/server &
$ curl localhost:3000/foo
> hi from foobar filter

$ script/server -e production &
$ curl localhost:3000/foo             
> not filtered

lib/foobar.rb
init.rb
config.cache_classes = false

production.rb
config.cache_classes
true
false
