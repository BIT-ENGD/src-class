it "should be successful" do
  get :show, :section => @section.slug
  response.should be_success
end

it "should have the right title" do
  get :show, :section => @section.slug
  response.should have_selector("title", :content => @section.name)
end

it "should find the right section" do
  get :show, :section => @section.slug
  assigns(:section).should == @section
end

SectionsController#show
Failure/Error: get :show, :section => @section.slug
ActionView::Template::Error

get :show, :section => @section.slug
<%= render 'popular' %>

<div class="most_popular group">
    <%= render post_excerpt(@popular.shift, :class => "one") %>
</div><!-- end most popular -->

render
def post_excerpt(post, options)
  { :partial => 'posts/post_excerpt', :object => post, :as => :post, :locals => { :klass => options[:class] } }
end

<article class="<%= klass if klass %>">
    <h2><%= link_to post.name, section_post_path(post.section, post) %></h2>
    <footer>By <%= link_to post.author.name, post.author %></footer>
    <hr />
    <div class="content">
        <%= raw(post.excerpt) %>
    </div><!-- end content -->
</article>

