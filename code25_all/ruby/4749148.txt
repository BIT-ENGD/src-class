module M
   @@p = []

   def self.included( base )
      def base.add( a )
          @@p += a
      end
   end

   def show_p
       @@p
   end
end

class A
   include M
end
class B
   include M
end

A.add "a"
B.add "b"

B.new.show_p

?> ["a", "b"]

A.add "a"
B.add "b"

A.new.show_p

?> "a"

B.new.show_p

?> "b"

