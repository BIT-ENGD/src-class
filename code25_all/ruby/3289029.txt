Account
Transaction
Account#days_since_balance_was_atleast
class Transaction < ActiveRecord::Base
    validates_presence_of :account_id, :created_at, :amount
    belongs_to :account
    # Some logic to update account balance at creation...
end

class Account < ActiveRecord::Base
   validates_presence_of :balance 
   has_many :transactions

   def days_since_balance_was_atleast(sum)
       #How should I implement this?
   end
end

# We have the following transactions 
# (time is unimportant for the result unless it is 00.00)
# Days ago  0   1   2   3   4  5   6   7
# Amount    -20 10 -60 -30 50 50 -100 100

account.balance == 0             # true
days_since_balance_was(100) == 3 # true

