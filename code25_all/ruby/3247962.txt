class Class
  def attr_reader(*params)
    if block_given?
      params.each do |sym|
        define_method(sym) do
          yield
          self.instance_variable_get("@#{sym}")
        end
      end
    else
      params.each do |sym|
        attr sym
      end
    end
  end
end

class Test
  attr_reader :normal
  attr_reader(:jp,:nope) { changethings if @nope.nil? }

  def initialize
    @normal = "Normal"
    @jp = "JP"
    @done = false
  end

  def changethings
    p "doing"
    @jp = "Haha!"
    @nope = "poop"
  end

end

j = Test.new

p j.normal
p j.jp

changethings
