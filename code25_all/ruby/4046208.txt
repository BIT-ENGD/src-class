class MyLogger
  attr_accessor :log_file
  def initialize
    @log_file = File.new('my_log_file_name.log','w')
  end

  def finalize(id)
    @log_file.close
  end
end

l = MyLogger.new
l = nil
ObjectSpace.garbage_collect

