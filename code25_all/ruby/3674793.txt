def takepic
        $id = @params['id']
        Camera::take_picture(url_for :action => :camera_callback)
  end

  def choosepic
        $id = @params['id']
        Camera::choose_picture(url_for :action => :camera_callback)
  end

  def camera_callback
        if @params['status']='ok'
                @abc = Abc.find($id)
                new_attributes = {"q1img"=>@params['image_uri']}
                @abc.update_attributes(new_attributes ) if @abc
                @abc.save
                WebView.navigate( url_for :action => :mypage, :query => {:id =>
$id})

        end
  end

<tr>
                           <td class="itemLabel">
                                        <%= link_to '[Choose Picture]',  :action => :choosepic , :query
=> { :id => @property.object }  %>
                                  </td>


                                  <td class="itemValue">
                                        <% if System::get_property('has_camera') %>
                                                <%= link_to '[Take Picture]',  :action => :takepic,  :query =>
{ :id => @property.object } %>
                                        <% end %>
                                  </td>
                   </tr>

