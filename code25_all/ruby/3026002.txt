<%= link_to "Create New User", new_user_url(:group => 1) %>

# User model (user.rb)
class User < ActiveRecord::Base  
  has_and_belongs_to_many :user_groups
  accepts_nested_attributes_for :user_groups
end

# UserGroups model (user_groups.rb)
class UserGroup < ActiveRecord::Base
  has_and_belongs_to_many :users
end

# users_controller.rb
def new
  @user = User.new(:user_group_ids => params[:group])
end

