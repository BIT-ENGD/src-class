before_save
class MyThing < ActiveRecord::Base
  before_save :dostuff

  def dostuff
    p self.class.maximum(:mycolumn)
  end
end

PGError: ERROR: current transaction is aborted, commands ignored until end of transaction block : SHOW max_identifier_length

.maximum
dostuff
before_save
