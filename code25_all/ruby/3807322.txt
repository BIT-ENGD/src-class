Enumerable
while record = foo.next
  if bar
    foo.read
  else
    foo.skip
  end
end

foo.each do |record|
  if bar
    foo.read
  else
    foo.skip
  end
end

