class Product < ActiveRecord::Base
 set_table_name 'produce'
end

module ActiveRecord
  class Base
    def self.set_table_name name
    define_attr_method :table_name, name
  end

  def self.define_attr_method(name, value)
    singleton_class.send :alias_method, "original_#{name}", name
    singleton_class.class_eval do
      define_method(name) do
        value
      end
    end
  end
end

set_table_name
singleton_class.send
class_eval
singleton_class
self
