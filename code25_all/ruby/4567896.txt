class Executor
  def execute_command(cmd, &block)
    STDOUT.sync = true # That's all it takes...
    IO.popen(cmd + " 2>&1") do |pipe| # Redirection is performed using operators
      pipe.sync = true
      while str = pipe.gets
      block.call str # This is synchronous!
      end
    end

    return $?.success?
  end
end

