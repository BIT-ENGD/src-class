include Module.new {
  class_eval <<-RUBY
    def foo
       puts 'foo'
    end
  RUBY
}

include Module.new
foo
Module.new
class_eval
foo
self
