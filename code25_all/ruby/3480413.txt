class MyClass
  def initialize(a, b)
    @a = a
    @b = b
  end

  def to_json(*opt)
    [@a, @b].to_json(*opt)
  end
end

irb> m = MyClass.new(10, "abc")
irb> m.to_json
=> "[10,\"abc\"]"

irb> [m].to_json
=> "[{\"a\":10,\"b\":\"abc\"}]"

=> "[[10,\"abc\"]]"

irb> m2 = MyClass.new(20, m)
irb> m2.to_json
=> "[20,{\"a\":10,\"b\":\"abc\"}]"

=> "[20,[10,\"abc\"]]"

