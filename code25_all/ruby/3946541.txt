collection.update({"_id" => document["_id"]}, {"$push" => {field_name => value}})

value = collection.update({"_id" => document["_id"]}, {"$pop" => {field_name => -1}})

result = collection.find_and_modify({:query => {"_id" => document["_id"]}, :update => {"$pop" => {field_name => -1}}})
return result[field_name][0]

