<ul>
  <li class="folder">a</li>
  <ul>
    <li class="folder">z</li>
    <ul>
      <li class="leaf">a.txt</li>
    </ul>
  </ul>
  <li class="folder">b</li>
  <ul>
    <li class="leaf">a.txt</li>
  </ul>
  <li class="leaf">a.txt</li>
</ul>

array = ["home", "about", "about/history", "about/company", "about/history/part1", "about/history/part2"]

auto_hash = Hash.new{ |h,k| h[k] = Hash.new &h.default_proc }

array.each{ |path|
  sub = auto_hash
  path.split( "/" ).each{ |dir| sub[dir]; sub = sub[dir] }
}

