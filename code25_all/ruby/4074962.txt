class Base
  def self.has_many(*args)
    # ...
  end
end

class Student < Base
  has_many :books
end

module Base
  def self.included(klass)
    klass.extend ClassMethods
  end

  module ClassMethods
    def has_many(*args)
      # ...
    end
  end
end

class Student
  include Base

  has_many :books
end

