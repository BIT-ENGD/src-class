found_new_match = false

#Try connected users first
# connected_users = current_user.get_connected_users
connected_users = []

unless connected_users.blank?
  user = connected_users.shuffle.first
  @match = user.matches.first
end

# Here i'd like to detect whether we got through all our connections' matches
while found_new_match == false do 
  found_new_match = true if @match = current_user.get_random_new_match
end

