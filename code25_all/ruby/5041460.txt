@res.items.each do |item|
  # do stuff
end

@res = Amazon::Ecs.item_lookup(ean, options_hash)

<Amazon::Ecs::Response:0xa4449cc @doc=#<Hpricot::Doc 
{xmldecl "<?xml version=\"1.0\" ?>"} 
{elem <itemlookupresponse xmlns="http://webservices.amazon.com/AWSECommerceService/2005-10-05"> 
  {elem <operationrequest> 
    {elem <httpheaders> 
      {emptyelem <header name="UserAgent" value="Ruby">} 
    </HTTPHeaders>} 
    {elem <requestid> "b89bad91-f5a1-4daf-87f2-d309dded35d6" </RequestId>} 
    {elem <arguments> 
      {emptyelem <argument name="Operation" value="ItemLookup">} 
      {emptyelem <argument name="SearchIndex" value="Books">} 
      {emptyelem <argument name="Signature" value="dasdasdsadsadsafdfdsfsdsasadsadsd">} 
      {emptyelem <argument name="ItemId" value="9780307463746">} 
      {emptyelem <argument name="IdType" value="ISBN">} 
      {emptyelem <argument name="AWSAccessKeyId" value="sdasdsadsadsadsadsadd">} 
      {emptyelem <argument name="Timestamp" value="2011-02-17T15:08:09Z">} 
      {emptyelem <argument name="Service" value="AWSECommerceService">} 
    </Arguments>} 
    {elem <requestprocessingtime> "0.0252220000000000" </RequestProcessingTime>} 
  </OperationRequest>} 
  {elem <items> 
    {elem <request> 
      {elem <isvalid> "True" </IsValid>} 
      {elem <itemlookuprequest> 
        {elem <condition> "New" </Condition>} 
        {elem <deliverymethod> "Ship" </DeliveryMethod>} 
        {elem <idtype> "ISBN" </IdType>} 
        {elem <merchantid> "Amazon" </MerchantId>} 
        {elem <offerpage> "1" </OfferPage>} 
        {elem <itemid> "9780307463746" </ItemId>} 
        {elem <responsegroup> "Small" </ResponseGroup>} 
        {elem <reviewpage> "1" </ReviewPage>} 
        {elem <searchindex> "Books" </SearchIndex>} 
      </ItemLookupRequest>} 
    </Request>} 
    {elem <item> 
      {elem <asin> "0307463745" </ASIN>} 
      {elem <detailpageurl> "http://rads.stackoverflow.com/amzn/click/0307463745" </DetailPageURL>} 
      {elem <smallimage> 
        {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL._SL75_.jpg" </URL>} 
        {elem <height units="pixels"> "75" </Height>} 
        {elem <width units="pixels"> "50" </Width>} 
      </SmallImage>} 
      {elem <mediumimage> 
        {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL._SL160_.jpg" </URL>} 
        {elem <height units="pixels"> "160" </Height>} 
        {elem <width units="pixels"> "106" </Width>} 
      </MediumImage>} {elem <largeimage> {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL.jpg" </URL>} {elem <height units="pixels"> "500" </Height>} {elem <width units="pixels"> "331" </Width>} </LargeImage>} {elem <imagesets> {elem <imageset category="primary"> {elem <swatchimage> {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL._SL30_.jpg" </URL>} {elem <height units="pixels"> "30" </Height>} {elem <width units="pixels"> "20" </Width>} </SwatchImage>} {elem <smallimage> {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL._SL75_.jpg" </URL>} {elem <height units="pixels"> "75" </Height>} {elem <width units="pixels"> "50" </Width>} </SmallImage>} {elem <mediumimage> {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL._SL160_.jpg" </URL>} {elem <height units="pixels"> "160" </Height>} {elem <width units="pixels"> "106" </Width>} </MediumImage>} {elem <largeimage> {elem <url> "http://ecx.images-amazon.com/images/I/41Qz6afdrLL.jpg" </URL>} {elem <height units="pixels"> "500" </Height>} {elem <width units="pixels"> "331" </Width>} </LargeImage>} </ImageSet>} </ImageSets>}
      {elem <itemattributes> 
        {elem <author> "Jason Fried" </Author>} 
        {elem <author> "David Heinemeier Hansson" </Author>} 
        {elem <manufacturer> "Crown Business" </Manufacturer>} 
        {elem <productgroup> "Book" </ProductGroup>} 
        {elem <title> "Rework" </Title>} 
      </ItemAttributes>} 
    </Item>} 
  </Items>} 
</ItemLookupResponse>}

