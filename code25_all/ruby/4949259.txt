  <% if flash.length > 0 %>

      <% flash.each do |key, value| %>

           <% if key == "error" %>
                <div class="notice error"><%= value %></div>
           <% elsif key == "success" %>
                <div class="notice success"><%= value %></div>      
           <% else %>
               <div class="notice regular"><%= value %></div>
           <% end %>

      <% end %>

  <% end %>

<% if [certain variable is set] %>

    <% message = Hash.new %>
    <% message[type] = "specific message to be sent with this link" %>
    <%= link_to [Link option one] %>

<% else %>

    <%= link_to [Link option two] %>

<% end %>

 <% flash[:error] = "specific message to be sent with this link" %>
 <%= link to [Link option one] %>

     undefined local variable or method 'message'

      <% if message %>
           <%# show error message %>
      <% end %>

 <% if !message.nil? %>
      etc

