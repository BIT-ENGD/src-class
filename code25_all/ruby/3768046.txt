def self.get(from,to)

open('/tmp/result','w') do |wfile|

dbh = Mysql.real_connect("localhost", "root", "******")

dbh.query("use stock;")

result=dbh.query("select symbol,date,open,high,low,close from `#{symbol}` where (date > from and date< to) order by date asc;")

compute=[]

result.each{|row| wfile.puts row.join(";")}

end

amean=[]

open('/tmp/result','r'){|rfile|

  line=rfile.readlines

  line.each{|item|

  amean<< item.chomp.split(";")[-1].to_f

  }}

  amean=amean.compact

  amean.inject(0){|s,n| s+n}/(amean.size.to_f)

end

