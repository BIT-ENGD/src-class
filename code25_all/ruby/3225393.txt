open4
test1.rb
print 'hi.' # 3 characters
$stdin.read(1) # block

test2.rb
require 'open4'

pid, stdin, stdout, stderr = Open4.popen4 'ruby test1.rb'
p stdout.read(2) # 2 characters

$ ruby test2.rb

