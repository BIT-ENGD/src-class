class A
  def method
    number = 10
    b = B.new
    b.calling(number)
  end
end

class B
  def calling(argument)
    # This code in this class is already testet
  end
end

b.calling
it "should work" do
  b = mock(B)
  b.should_receive(:calling).at_least(1).times
  A.new.method
end

b
