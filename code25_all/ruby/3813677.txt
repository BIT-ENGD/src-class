class User
  has_many :users_in_organizations, :class_name => 'UserInOrganization'
  has_many :organizations,:through => :users_in_organizations
end 

#Attributes [:user_id, :organization_id, :user_role]
class UserInOrganization 
   set_table_name 'users_in_organizations'
   belongs_to :user
   belongs_to :organization
end

class Organization
  has_many :users_in_organizations, :class_name => 'UserInOrganization'
  has_many :users, :through => :users_in_organizations
end

org = User.first.organizations.new(:name => 'Test') #  new || build is the same
org.save # => true
User.first.organizations  # => []
Organization.all # => ['Test']

org = User.first.organizations.create(:name => 'Test')
User.first.organizations  # => ['Test']
Organization.all # => ['Test']

