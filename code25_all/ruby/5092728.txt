class Ad
  include Mongoid::Document
  field :name

  referenced_in :ad_types, :as => :web_spec
  referenced_in :ad_types, :as => :print_spec
end

class AdType
  include Mongoid::Document
  field :shape
  field :size
  field :medium

  references_many :ads
end

<%= f.input :web_spec, :collection => AdType.where(:medium => "Web"), :label_method => :shape, :label => "Web" %>
<%= f.input :print_spec, :collection => AdType.where(:medium => "Print"), :label_method => :shape, :label => "Print" %>

