event has_many :contacts => through :event_contacts

class Event < ActiveRecord::Base
  belongs_to  :user

  has_many    :event_contacts
  accepts_nested_attributes_for :event_contacts 

  has_many    :contacts, :through => :event_contacts
  accepts_nested_attributes_for :contacts


class EventContact < ActiveRecord::Base
  belongs_to :event
  belongs_to :contact

  accepts_nested_attributes_for :contact


class Contact < ActiveRecord::Base
  belongs_to  :user

  has_many    :event _contacts
  has_many    :events, :through => :event_contacts

- fields_for(@event) do |f|
  - f.fields_for :event_contacts do |rc|
    - rc.fields_for :contact do |c|
      = c.collection_select :id, Contact.all, :id, :name, { :selected => @contact.id || 0 }

      = c.hidden_field :user_id, :value => @current_user.id 
      = c.text_field :first_name
          = c.text_field :email

