uri
require 'uri'
class MainController < ApplicationController
  def foo
    uri = URI(params[:uri])
    if uri.host =~ /localhost|mydomain\.com/
      # what goes here?
    else
      @html = Net::HTTP.get(uri)
    end
    # Do something useful with @html...
  end
end
# The code should work for http://localhost/foo?uri=http://apple.com/
# as well as for http://localhost/foo?uri=http://localhost/bar

