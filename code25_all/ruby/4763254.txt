def update
      @description = Tempdescription.find(params[:id])
     @description.update_attributes(params[:tempdescription])
      sendnotification     
end 

def sendnotification
       params[:to_ids]="xxxx"
       sig = hash_params(params);
       params[:sig] = sig 
     response = RestClient.post "http://api.xxxx.com/restserver.do",  params, :content_type => :json, :accept => :json
       render :text=>response
end

def hash_params(params)
      params = Hash[*params.sort.flatten]
    payload = ''
    params.sort.each do |pair|
         key, value = pair
     payload = payload + "#{key}=#{value}"
    end
    return Digest::MD5.hexdigest(payload + API_SECRET)
 end

new_params=Hash[]

 undefined method `<=>' for :session_key:Symbol
 app/controllers/tempdescriptions_controller.rb:72:in `<=>'
  app/controllers/tempdescriptions_controller.rb:72:in `sort'
  app/controllers/tempdescriptions_controller.rb:72:in `hash_params'
  app/controllers/tempdescriptions_controller.rb:45:in `sendnotification'

