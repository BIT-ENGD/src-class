class User
 has n, :answers
 property :id, Serial
 property :name, String
end

class Answer
 belongs_to :user
 has n, :topics, :through => Resource
 property :id, Serial
 property :text, Text
end

class Topic
 has n, :answers, :through => Resource
 property :name, String, :key => true
end

o=User.create(:name=>'tom')
puts a=Answer.create(:user=>o, :text => 'a1', :topics => [
 Topic.first_or_create(:name => 'aboutme'),
 Topic.first_or_create(:name => '@onetom')
])

#THIS WORKS
#puts Answer.all(:user => {:name => 'tom'}, :topics => [{:name => 'aboutme'}])

#THIS DOES NOT WORK
#puts o.answers.all(:topics => [{:name => 'aboutme'}])

