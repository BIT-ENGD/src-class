<table class="availability_table">
    <tr>
        <th>Date</th>
        <th>Early</th>
        <th>Late</th>
    </tr>
    <% f.fields_for :available_dates do |ad| %>
        <% if ad.object.time == 1  #if this is an early shift, then start the new row %>
            <tr><td><%= ad.object.date.strftime('%a, %b %d, %Y') %></td>
                <td><%= ad.collection_select(:availability , LookupAvailability.all.collect, :id, :name) %></td>
        <% else #otherwise end the row with just a box%>
            <td><%= ad.collection_select(:availability , LookupAvailability.all.collect, :id, :name) %></td></tr>
        <% end %>
    <% end %>
</table>

