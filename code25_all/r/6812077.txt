  key val
1   a   5
2   b   7
3   a   6

  key val
1   a   11
2   b   7

keys = unique(inp$key)
vals = sapply(keys, function(x) { sum(inp[inp$key==x,]$val) })
out = data.frame(key=keys, val=vals)

inp[inp$key==x,]
