 library(xts)
 data=xts(1:139,Sys.Date()-139:1)

> head(data)
           [,1]
2012-03-07    1
2012-03-08    2
2012-03-09    3
2012-03-10    4
2012-03-11    5
2012-03-12    6
> tail(data)
           [,1]
2012-07-18  134
2012-07-19  135
2012-07-20  136
2012-07-21  137
2012-07-22  138
2012-07-23  139
> head(index(data))
[1] "2012-03-07" "2012-03-08" "2012-03-09" "2012-03-10" "2012-03-11" "2012-03-12"
> tail(index(data))
[1] "2012-07-18" "2012-07-19" "2012-07-20" "2012-07-21" "2012-07-22" "2012-07-23"
> range(index(data))
[1] "2012-03-07" "2012-07-23"

range(index())
> rollapply(data,width=40,by=30,FUN=function(x){print(range(index(x)));length(x)})
[1]  1 40
[1]  1 40
[1]  1 40
[1]  1 40

2012-03-26 40
2012-04-25 40
2012-05-25 40
2012-06-24 40

str
data=xts(data.frame(a=1:139,b=seq(3.14,by=0.01,length.out=139)),Sys.Date()-139:1)

> rollapply(data,width=40,by=30,FUN=function(x){print(class(x));print(range(index(x)));length(x)})
[1] "xts" "zoo"
[1] "2012-01-02" "2012-02-24"
...
> class(data)
[1] "xts" "zoo"
> str(data)
An ‘xts’ object from 2012-01-02 to 2012-07-18 containing:
  Data: num [1:139, 1] 76.9 76.7 76.7 77.1 76.9 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr "Close"
  Indexed by objects of class: [Date] TZ: 
  xts Attributes:  
List of 2
 $ tclass: chr "Date"
 $ tzone : chr ""

colnames(data)=c("Close")
> rollapply(data,width=40,by=30,FUN=function(x){print(class(x));print(range(index(x)));length(x)})
[1] "integer"
[1]  1 40
...
> class(data)
[1] "xts" "zoo"
> str(data)
An ‘xts’ object from 2012-03-07 to 2012-07-23 containing:
  Data: int [1:139, 1] 1 2 3 4 5 6 7 8 9 10 ...
 - attr(*, "dimnames")=List of 2
  ..$ : NULL
  ..$ : chr "Close"
  Indexed by objects of class: [Date] TZ: 
  xts Attributes:  
List of 2
 $ tclass: chr "Date"
 $ tzone : chr ""

d=read.table(fname,sep=',',header=T,stringsAsFactors=F)
x=as.xts(subset(d,select=-datestamp),order.by=as.Date(d$datestamp))

