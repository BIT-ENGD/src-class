w=c(5,6,7,8)
x=c(1,2,3,4)
y=c(1,2,3)
length(y)=4
z=data.frame(w,x,y)

  w x  y
1 5 1  1
2 6 2  2
3 7 3  3
4 8 4 NA

  w x  y mean
1 5 1  1    1
2 6 2  2    2
3 7 3  3    3
4 8 4 NA    4

z$mean=z$x+z$y/2
cumsum
