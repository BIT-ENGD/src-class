sjbDo <- function(operation, x, statelist, Spos, isFuture = FALSE) {

  # run the operation on x
  xvec <- operation(x);

  # and so on

}

A <- sjbDo( function(x) {x}, statelist$A, statelist, 1)

kTheta <- sjbDo( function(x, b) {x^b}, statelist$K, statelist, 1, FALSE, b=theta.k)

sjbDo <- function(operation, x, statelist, Spos, isFuture = FALSE, ...) {

  # run the operation on x
  xvec <- operation(x,...);

