d
r
dim(d) = J x D
dim(r) = J x R
d
r
outer
d
r
outer
sapply
d.cols <- split(d, col(d))
r.cols <- split(r, col(r))
outer(d.cols, r.cols,
      function(x,y) {
           sapply(seq_along(x),
                 function(i) {
                     Fun(x[[i]], y[[i]]) })} )

