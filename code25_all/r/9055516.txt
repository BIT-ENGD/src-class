id  x 
1   3, 13
2   1, 3, 8, 9, 11, 13
3   1, 9
...

id  x                   x1 x2 x3 x4 x5 x6 x7 x8 x9 x10 x11 x12 x13   
1   3, 13                0  0  1  0  0  0  0  0  0   0   0   0   1 
2   1, 3, 8, 9, 11, 13   1  0  1  0  0  0  0  1  1   0   1   0   1
3   1, 9                 1  0  0  0  0  0  0  0  1   0   0   0   0
...

jp
jp[[1]]
jp[[2]]
> jp[[2]][1:3]
[1] "3, 13                                                                     "
[2] "1, 3, 8, 9, 11, 13                                                        "
[3] "1, 9                                                                      "

strsplit
jp[[4]]
> jp[[4]][1:3]
[[1]]
[1] "3"  "13"

[[2]]
[1] "1"  "3"  "8"  "9"  "11" "13"

[[3]]
[1] "1" "9"

> taught <- as.character(sort(as.numeric(unique(unlist(jp[[4]])))))
> taught
 [1] "1"   "2"   "3"   "4"   "5"   "6"   "7"   "8"   "9"   "10"  "11"  "12"  "13"  "14"  "15"  "16"  "17"  "18"  "19"  "20"  "256"

sapply(jp[[4]], function(x) any(x == "1"))

> table(sapply(jp[[4]], function(x) any(x == "1")))

FALSE  TRUE 
 9404  1891 

jp[[4]]
bla <- function(dt, lst) {
for (i in 1:length(lst)) {
            subs <- list()
            # apply function on each part, by row
            subs[[i]] <- sapply(dt, function(x) any(x == taught[i]))
    }  
    return(subs)
    }

bla(jp[[4]], taught)

> table(bla(jp[[4]], taught)[21])

FALSE  TRUE 
10645   650 

> table(sapply(jp[[4]], function(x) any(x == "256")))

FALSE  TRUE 
10645   650 

