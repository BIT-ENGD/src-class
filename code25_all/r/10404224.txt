str(x)
# x has comments for each variable
x <- x[1:100,]
str(x)
# now x has lost all comments

## keeping special attributes: use a class with a
## "as.data.frame" and "[" method:


as.data.frame.avector <- as.data.frame.vector

`[.avector` <- function(x,i,...) {
  r <- NextMethod("[")
  mostattributes(r) <- attributes(x)
  r
}

d <- data.frame(i= 0:7, f= gl(2,4),
                u= structure(11:18, unit = "kg", class="avector"))
str(d[2:4, -1]) # 'u' keeps its "unit"

# Does not work...
tmp <- attributes(x)
x <- x[1:100,]
attributes(x) <- tmp

