nc <- 5000
nr <- 1024
m <- matrix(rnorm(nc*nr), ncol=nc)

rowMeans
n <- 1000 # group size

system.time(replicate(100, {
   ind1 <- sample(seq.int(nc), n) 
   ind2 <- sample(seq.int(nc), n)
   rowMeans(m[, ind1]) - rowMeans(m[, ind2])
}))

is.data.frame
Rcpp
.rowMeans
