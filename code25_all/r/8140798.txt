library(gpclib)
library(maptools)     # loads sp library too
library(RColorBrewer) # creates nice color schemes
library(classInt)     # finds class intervals for continuous variables


CAcounty.shp <- readShapePoly(file.choose(),proj4string=CRS("+proj=longlat"))

 plotvar <- CAcounty.shp@data$mediresp
 nclr <- 8
 plotclr <- brewer.pal(nclr,"BuPu")
 class <- classIntervals(plotvar, nclr, style="quantile")
 colcode <- findColours(class, plotclr)

 plot(CAcounty.shp, xlim=c(-122.5, -117), ylim=c(32,42))
 plot(CAcounty.shp, col=colcode, add=T) 

XXXXX <- read.csv("XXXXXXXX.csv")
plotvar <- XXXXX$XXXXXX 

title(main=“XXXXXXXXXXXXXXXX",
sub=“Internal Data")
legend(-119, 42, legend=names(attr(colcode, "table")),
    fill=attr(colcode, "palette"), cex=0.6, bty="n")
 plotclr <- brewer.pal(nclr,"RdYlGn")
 colcode <- findColours(class, plotclr)
points(KPhosp$lon, KPhosp$lat, pch=16, col=colcode, cex=1)

