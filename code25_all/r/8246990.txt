require(quantmod)
getSymbols("^GSPC", from="1900-01-01")   #returns GSPC
GSPC$WED  <- weekdays(time(GSPC)) == "Wednesday"
GSPC$NOV  <- months(time(GSPC)) == "November"
G         <- GSPC[GSPC$WED==1 & GSPC$NOV==1]

write.zoo(G, "wen_in_nov")

cat wen_in_nov |
grep -v IND |
cut -c 1-10 | 
sed 's/-/ /g' | 
awk '{if($3 >= 22 && $3 < 29) print $1, $2, $3, "winner"}' |
sed 's/ /-/g' > fourth_wen

fourth_wen
-
fourth_wen <- read.zoo("fourth_wen", format="%Y-%m-%d")

