mat
dat
dat
I
J
mat
mat
dat
> dat$matval <- mat[dat$I, dat$J]
Error: cannot allocate vector of length 1617278737

mat
> str(mat[dat$I[1:100], dat$J[1:100]])
 int [1:100, 1:100] 20 1 1 1 20 1 1 1 1 1 ...

int [1:100] 20 1 1 1 20 1 1 1 1 1 ...
