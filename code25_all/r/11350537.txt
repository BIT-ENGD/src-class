library(data.table)
DT <- data.table(x=rep(1:5, 2))

new.names <- sort(unique(DT$x))

DT[, paste0('col', new.names) := lapply(new.names, function(i) DT$x==i), with=FALSE]

lapply
