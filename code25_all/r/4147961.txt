library(rpanel)
panel <- rp.control(title = "Test")
rp.button(panel,"Close")

library(rpanel)
do.before.close<-function(panel) {
   print("Do stuff here")
   panel
}

panel <- rp.control(title = "Test")
rp.button(panel,"Close", action=do.before.close, quitbutton = TRUE)

