buggy <- function(...) {
    tryCatch({
        itWorked <- FALSE
        stop("I don't like green eggs and ham!")
        itWorked <- TRUE
    }, finally = {
        if ( itWorked )
            return("I do, Sam I am")
        else
            return("I do not like them, Sam I am!")
    })
}

buggy
itWorked
finally
"I do not like them, Sam I am!"
> buggy()
Error in tryCatchList(expr, classes, parentenv, handlers) : 
  I don't like green eggs and ham!
[1] "I do not like them, Sam I am!"

buggy()
tryCatch( buggy(), 
          error=function(e) message('too bad! there was an error') )

buggy
tryCatch
> tryCatch( buggy(), 
+           error=function(e) message('too bad! there was an error') )
[1] "I do not like them, Sam I am!"

'too bad! there was an error'
[1] "I do not like them, Sam I am!"

buggy
