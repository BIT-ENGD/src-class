xyplot(y~x|factor(z),pch=19,data=mydata,col=mydata$q)

 str(cohort)



 $ date                 : Date, format: "2012-03-05" "2012-03-05" ...
 $ area                 : int  1111 3053 3555 3556 4228 6447 1111 ...
 $ score             : num  0.2282 0.1498 0.1823 0.0995 0.3083 ...
 $ color                 : chr  "purple" "blue" "brown" "violet" ...
 $ cex3                  : num  0.753 0.84 1.067 0.875 0.753 ...
 $ pch3                  : num  7 19 19 19 19 8 7 19 19 19 ...
$ time_spent            : int  0 0 0 0 0 0 1 1 1 1 ...

xyplot(score~time_spent|factor(date),groups=area,data=cohort,ylim=c(0,.6),panel=function(x,y,subscripts){panel.xyplot(x=x,y=y,subscripts=subscripts,pch=cohort[subscripts,"pch3"],col=cohort[subscripts,"color"],col.line="black",cex=cohort[subscripts,"cex3"])})

 xyplot(score ~ time_spent | factor(date), groups = area, data = cohort,auto.key=list(columns=10,points=TRUE,title="area"),
    par.settings = list(superpose.symbol = list(col = sort(unique(cohort$color)),pch=sort(unique(cohort$pch3)))),
    panel = function(x, y, subscripts = subscripts, groups = groups) {
    panel.xyplot(x = x, y = y,
    subscripts = subscripts, groups = groups,col.line="black",type=c("p","g"))})

