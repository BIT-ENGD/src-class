dim(ary)
c(n,m)
dim(ary)
c(n,m,3)
f <- function(img)
{
    if ( length(dim(img)) == 2 )
        return( img[1:10,] )
    else
        return( img[1:10,,] )   # Note the extra comma to select all 3D slices?
} 

dim(ary) = c(n,m,1)
dim(img) <- c(dim(img),1)
length(dim(img))==2
