library(fPortfolio)  
library(ROI)

data(LPP2005.RET)  
lppData <- 100 * LPP2005.RET[, 1:6]
r <- mean(lppData)  
foo <- Q_objective(Q = cov(lppData), L = rep(0, ncol(lppData)))  
full_invest <- L_constraint(rep(1, ncol(lppData)), "==", 1)  
target_return <- L_constraint(apply(lppData, 2, mean), "==",r)
op <- OP(objective = foo, constraints = rbind(full_invest, target_return))   
sol <- ROI_solve(op, solver = "quadprog")

