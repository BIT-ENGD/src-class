function(AB,sex,eth){

AB<-AB
sex<- sex
eth<-as.numeric(eth)


#make matrix reference
#make 'european' equal to 'other'
eth <- ifelse(eth==7,6,eth)
#change male from a 0 coding to a 2 for array lookup
sex <- ifelse(sex==1,1,2)
#remove seven from AB due to diab data starting at 30-34 age bracket
agebracket <- AB-7
#random number drawn
diabbase <- runif(census$Total.Sex[AB],0,1) 
#census$total.sex gives the total number in each age bracket

#array assignment
arrayvalue <- Darray[agebracket,sex,eth]

diab <- ifelse((diabbase >= (Darray[agebracket,sex,eth])) ,1,0)
return(diab)
}

