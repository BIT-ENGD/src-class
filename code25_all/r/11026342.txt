t=min(length(x), length(y))
corf=function(i) {
            x=x[c(1:(t-i+1))]
            y=y[c(i:t)]
            cor(x,y, use="pairwise.complete.obs")
        }

lg=c(1:1600)

corf(lg)

mapply(corf, lg)

mapply
