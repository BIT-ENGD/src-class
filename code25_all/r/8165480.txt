Site <- c(1,1,1,1,1,1)
Year <- c(96,96,96,97,97,97)
SpID <- c(1,2,3,1,2,3)
Count <- c(1,1,1,1,1,1)
data <- cbind(Site, Year, SpID)

foo<-function(z){
    data2 <- subset(data, SpID != (z))
    summaryBy(Count~ Year + Site, 
              data = data2, 
              FUN = function(x) { c(l = length(x)) } )
}

richall<- ddply(data,.(SpID),foo)
