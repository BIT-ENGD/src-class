cummax(mydata)-mydata
aggregate(mydata, as.date, cummax)

aggregate
tapply
lapply
plyr
cut
rollapply
