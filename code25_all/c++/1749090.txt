void Game::checkPlayersRecord()
{
if(getPlayersOnline() > lastPlayersRecord){
    Database* db = Database::instance();
    DBQuery query;

    lastPlayersRecord = getPlayersOnline();
    query << "UPDATE `server_record` SET `record` = " << lastPlayersRecord << ";";
    db->executeQuery(query.str());
    query.str("");

    char buffer[50];
    sprintf(buffer, "New record of players online is: %d", lastPlayersRecord);
    AutoList<Player>::listiterator it = Player::listPlayer.list.begin();
    while(it != Player::listPlayer.list.end()){
        (*it).second->sendTextMessage(MSG_EVENT_ADVANCE, buffer);
        ++it;
    }
}
}

