//ch6 p278 exercise #9
#include <iostream>
#include <cstring>
#include <fstream>
#include <cstdlib>
using namespace std;
const int SIZE = 60;
struct contributions
{
    char name[20];
    double dollars;
};

char filename[20];
string donors;
bool donated;

int main()
{
    char filename[SIZE];
    cout << "Enter name of file to scan: ";
    cin >> filename;
    fstream inFile;
    inFile.open(filename);
    if(!inFile.is_open())
    {
        cout << "Could not open the file " << filename << endl;
        cout << "Program terminating.\n";
        exit(EXIT_FAILURE);
    }
    inFile >> donors;
    contributions * ptr = new contributions[donors];
    for(int h = 0; h < donors; h++)
    {
        inFile >> ptr[h].name);
        inFile >> ptr[h].dollars);
    }
//BEGIN OUTPUT OF STRUCTURES
    cout << "GRAND PATRONS:\n";
    for(int i = 0; i < donors; i++)
   {
       if(ptr[i].dollars >= 10000)
       {
           cout << ptr[i].name << " donated " << ptr[i].dollars << endl;
           donated = true;
       }
   }
   if (!donated) {cout << "none.\n";}
   donated = false;
   cout << "PATRONS:\n";
   for(int i=0; i < donors; i++)
   {
       if(ptr[i].dollars < 10000)
       {
           cout << ptr[i].name << " donated " << ptr[i].dollars << endl;
           donated = true;
       }
   }
   if (!donated) {cout << "none.\n";}
   delete ptr;
    return 0;
}

