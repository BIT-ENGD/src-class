#define SAFE_DELETE(a) if( (a) != NULL ) delete (a); (a) = NULL;

template<typename T> void safe_delete(T*& a) {
  delete a;
  a = NULL;
}

