void simple_dynamic_casts( )
{
  AB  ab;

  B*  bp  = (B*)&ab;  // cast needed to break protection
  A*  ap  = &ab;      // public derivation, no cast needed

  AB& abr = dynamic_cast<AB&>(*bp);  // succeeds

  ap = dynamic_cast<A*>(bp);         assert( ap != NULL );
  bp = dynamic_cast<B*>(ap);         assert( bp == NULL );
  ap = dynamic_cast<A*>(&abr);       assert( ap != NULL );
  bp = dynamic_cast<B*>(&abr);       assert( bp == NULL );
}

ap = &abr;

