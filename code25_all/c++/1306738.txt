int main
{
    unsigned char *buffer = new unsigned char[1000];
    Recv(&buffer);

    delete[] buffer;        
    return (0);
}

void Recv(unsigned char **buffer)   
{
    TRequestStatus iStatus;
    TSockXfrLength len;

    TBuf8<1000> buff;
    iSocket.RecvOneOrMore( buff, 0, iStatus, len );     
    User::WaitForRequest(iStatus);  

    *buffer = ( unsigned char* )buff.Ptr();  
}   

