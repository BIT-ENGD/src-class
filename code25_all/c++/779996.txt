InterlockedIncrement()
InterlockedDecrement()
__declspec (align(8)) volatile LONG _ServerState = 0;

InterlockedXXX
LONG x = InterlockedExchange(&_ServerState, _ServerState);

LONG x = InterlockedCompareExchange(&_ServerState, _ServerState, _ServerState);

_ServerState
if (_ServerState == some value)
{
// blah blah blah
}

InterlockedXXX
InterlockedXXX
_ServerState
LONG x = InterlockedExchange(&_ServerState, _ServerState);

_ServerState
InterlockedExchange()
LONG x = InterlockedCompareExchange(&_ServerState, _ServerState, _ServerState);

lock mov eax, [_ServerState]

InterlockedXXX()
LONG Cur = InterlockedCompareExchange(&_ServerState, 0, 0);

