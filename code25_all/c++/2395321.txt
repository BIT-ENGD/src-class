template<typename T> void destroy(T* obj) {
    delete obj;
}

class Base { virtual void doSomething(); };
class Derived : public Base {};
void destroy(Base* obj) {
    obj->doSomething();
    delete obj;
}

Base*
Derived*
void detroy()
