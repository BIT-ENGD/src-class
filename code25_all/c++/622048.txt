template <typename Operation> int foo(int a) 
{
int b=Operation()(a);
/* use b here, etc */
}

struct Operation {
  Operation(int a, int &b) { b=a*a; }
};
template <typename Operation> int foo(int a) 
 {
   int b;
   Operation(a,b);
    /* use b here, etc */
 }

