// ClientFille.cpp
// Cria um arquivo sequencial.

#include <iostream>
using std::cerr;
using std::cin;
using std::cout;
using std::endl;
using std::ios;

#include <fstream> // Fluxo de arquivos
using std::ofstream; // Gera a saída do fluxo do arquivo

#include <cstdlib>
using std::exit; // Sai do protótipo de funcão

int main()
{
    //  Construtor ofstream abre arquivo
    ofstream outClientFile( "Clients.dat", ios::out );

    // Fecha o programa se não conseguir criar o arquivo
    if ( !outClientFile ) // Operador ! sobrecarregado
    {
       cerr << "File could not be opened" << endl;
       exit( 1 );
    } // Fim do if

    cout << "Enter the account, name, and balance." << endl
       << "Enter end-of-file to end the input.\n? ";

    int account;
    char name[ 30 ];
    double balance;

    // Lê conta, nome e saldo a partir de cin, então coloca no arquivo
    while ( cin >> account >> name >> balance )
    {
       outClientFile << account << ' ' << name << ' ' << balance << endl;
       cout << "? ";
    } // Fim do while

    return 0; // Destruitor ofstream fecha o arquivo
} // Fim de main

