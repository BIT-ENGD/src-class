template< typename T1, typename T2 >
T1 const* doIt( T2 const* );

template< typename T1, typename T2 >
T1* doIt( T2* );

class M {};
class N : public M {};

void f()
{
   M* m1 = NULL;
   M const* m2 = NULL;

   doIt<N>( m1 );    // Fail
   doIt<N>( m2 );    // Fail
   doIt<N,M>( m1 );  // OK
   doIt<N,M>( m2 );  // OK

}

