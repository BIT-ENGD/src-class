QTemporaryFile outFile;
if (!outFile.open())
    return;

QString fileName = outFile.fileName();
QTextStream out(&outFile);
out << initial_text;
outFile.close();

QProcess::execute(editor, QStringList() << fileName);

QFile inFile(fileName);
if (!inFile.open(QIODevice::ReadOnly))
    return;

QTextStream in(&inFile);
QString text = in.readAll();

std::cout << text.toStdString() << std::endl;
