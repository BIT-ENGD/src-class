nsresult rv = NS_OK;
    nsCOMPtr<Callback> obj = do_CreateInstance("@jscallback.p2psearch.com/f2f;1", &rv);
    NS_ENSURE_SUCCESS(rv, rv);
    char* str="Hello from C++";
    _beginthread( (void(*)(nsCOMPtr<Callback> ))&P2P::test, 0,obj);

    return NS_OK;//obj->Status(str);

#include "winsock2.h"
#include <process.h>
#include "nsCOMPtr.h"
#include "Callback.h"
class P2P{
public:
    void test(nsCOMPtr<Callback> obj){

}

};

