template<typename T>
class a
{
private:
    T var;
    friend bool operator==(const a<T> &, const a<T> &);
};

template<typename T> inline bool operator==(const a<T> &r1, const a<T> &r2)
{
    return r1.var==r2.var;
}

int main () {
    a<int> var0;
    a<int> var1;
    var0 == var1;
}

main.obj : error LNK2001: unresolved external symbol "bool __cdecl operator==(class a<int> const &,class a<int> const &)" (??8@YA_NABV?$a@H@@0@Z)

