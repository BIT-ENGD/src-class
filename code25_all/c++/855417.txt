Msg * msg;
switch(data[0])
{
    case 'A': msg = new A(); break;
    case 'B': msg = new B(); break;
    ...
}

msg->parse(data);

