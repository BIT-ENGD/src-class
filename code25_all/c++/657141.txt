int foo(arg){
    // some code i need to execute, say,
    LengthyRoutine();
    return 0;
}

int foo(arg){

    if (inRoutine == TRUE) {
        wait = 1;
        return 0;
    } else {
        if (doRoutine == TRUE) {
             LengthyRoutine();
             return 0;
        }
    }

    return 0;
}

