int bufferSize = 32;


char messageBuffer[bufferSize];


char* message;


if (userName.size() > 8)
{
    cout << "Invalid username : Greater than 8 characters" << endl;
}
else
{
    switch(regType)
    {
        case(REGISTER):
        {
            cout << "Registered name: " << userName << endl;
            messageBuffer[0] = 1;
            messageBuffer[1] = 0;
            for (int i = 2; i < (userName.size() + 2); i++)
            {
                messageBuffer[i] = userName[(i - 2)];
            }

            for (int i = 0; i < (userName.size() + 2); i++)
            {
                cout << messageBuffer[i];
            }
            cout << "<<<< messageBuffer " << endl;

            message = &messageBuffer[0];
            cout << messageBuffer << endl;
            //message[(userName.size() + 2)] = '\0';
            int messageLen = userName.size() + 2;
            if (send(sock, messageBuffer, messageLen, 0) != messageLen)
                DieWithError("send() send an invalid name");



        }break;
        case(UNREGISTER):
        {
        }break;
    }

}

// Remove the Prefix
int startIndex = 2;
// Get the username from the message

string userName = message.substr(startIndex, message.size() - startIndex);
cout << "Username " << userName << endl;

