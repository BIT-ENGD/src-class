int remaining = (end > start)
                ? end-start
                : bufferSize - start + end;

