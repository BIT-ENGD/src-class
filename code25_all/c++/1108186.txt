void Foo() {
  ......
  LOG_ERROR("I'm error 1")   // call 1
  .....
  LOG_ERROR("I'm error 2")  // call 2
  .....

}

LOG_ERROR()
LOG_ERROR()
A::Foo()
LOG_ERROR()
__LINE__
Foo()
LOG_ERROR()
Foo()
__FILE__
__FUNCTION__
LOG_ERROR()
Foo()
__FILE__
__FUNCTION__
LOG_ERROR()
Foo()
#define ENABLE_LOG_ERROR static const int LOG_ERROR_start_line = __LINE__
#define LOG_ERROR(s) cerr << "error #" << (__LINE__ - LOG_ERROR_start_line) \
    << " in " << __func__ << ": " << s << endl

void Foo() {
     ENABLE_LOG_ERROR;
     //...
     LOG_ERROR("error 1");
     int i;
     LOG_ERROR("error 2");
} 

ENABLE_LOG_ERROR
LOG_ERROR()
