#include <shape.h>

void computeOperations()
{
    polynomial_t p1("x^2-x*y+1"),p2("x^2+2*y-1");
    BoundingBox bx(-4.01, 4.01,-6.01,6.01,-6.01,6.01);
    Topology3d g(bx);
    AlgebraicCurve* cv= new AlgebraicCurve(p1,p2);
    g.push_back(cv);
    g.run();
    //Other operations on g.
}

#include <shape.h>

class topologyException : public std::runtime_error
{
    public:
        topologyException::topologyException(): std::runtime_error( "topology fails" ) {}
};

void computeOperations()
{
    try
    {
        polynomial_t p1("x^2-x*y+1"),p2("x^2+2*y-1");
        BoundingBox bx(-4.01, 4.01,-6.01,6.01,-6.01,6.01);
        Topology3d g(bx);
        AlgebraicCurve* cv= new AlgebraicCurve(p1,p2);
        g.push_back(cv);
        g.run();
        //other operations on g
        throw topologyException();
    }
    catch(topologyException& topException)
    {
        QMessageBox errorBox;
        errorBox.setIcon(QMessageBox::Warning);
        errorBox.setText("The parameters are incorrect.");
        errorBox.setInformativeText("Please insert another polynomial.");
        errorBox.exec();
    }
}

