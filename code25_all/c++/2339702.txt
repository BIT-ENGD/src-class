    CImage img1;
            int dimx = 100, dimy = 100;
    img1.Load(filename);
    //filename = path on local system to the bitmap

    CDC *screenDC = GetDC();
    CDC *pMDC = new CDC;
    pMDC->CreateCompatibleDC(screenDC);

    CBitmap *pb = new CBitmap;
    pb->CreateCompatibleBitmap(screenDC, dimx, dimy);

    CBitmap *pob = pMDC->SelectObject(pb);
    pMDC->SetStretchBltMode(HALFTONE);
    img1.StretchBlt(pMDC->m_hDC,0, 0, dimx, dimy, 0, 0, img1.GetWidth(), img1.GetHeight(), SRCCOPY);
    pMDC->SelectObject(pob);

    CImage new_image;
    new_image.Attach((HBITMAP)(*pb));
    //
    m_pictureCtrl.SetBitmap(new_image.Detach());
    ReleaseDC(screenDC);

