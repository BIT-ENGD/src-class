TestClass* A = new TestClass();

void TestClass::Foo(){
    TestClass* B = new TestClass();
    ...
}

A=B
this = B
memcpy(this, B, sizeof(TestClass));

Temp = A;
A=A->Foo();
freeMemory(Temp);

this = B
