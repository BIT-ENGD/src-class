Readme
Description
ansible-jenkins is an Ansible role.
Use this role to install Jenkins and install/update plugins.
Provides

Latest Jenkins server
Jenkins plugins support

Requires

Ansible 1.4 or higher
Debian 7.3 (other deb-based distros should work too)
Vagrant (optional)

Usage
Get the code
bash
$ git clone https://github.com/ICTO/ansible-jenkins.git roles
The code should reside in the roles directory of ansible ( See ansible documentation for more information on roles ), in a folder jenkins.
Create a host file
Following example make ansible aware of the Vagrant box reachable on localhost port 2222.
bash
$ vi ansible.host
with
ini
[jenkins]
127.0.0.1 ansible_ssh_port=2222 ansible_ssh_user=vagrant ansible_ssh_private_key_file=~/.vagrant.d/insecure_private_key
Create host specific variables
Make the host_vars directory where ansible.host file is located.
bash
$ mkdir host_vars
Create a file in the newly created directory matching your host.
bash
$ cd host_vars
$ vi 127.0.0.1
with

Run the playbook
First create a playbook including the jenkins role, naming it jenkins.yml.
yml
- name: Jenkins
  hosts: jenkins
  sudo: yes
  roles:
    - ansible-jenkins
Use ansible.host as inventory. Run the playbook only for the remote host jenkins. Use vagrant as the SSH user to connect to the remote host. -k enables the SSH password prompt.
bash
$ ansible-playbook -i ansible.host jenkins.yml
Example output
