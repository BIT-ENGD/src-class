Some Boring List
个人博客和书单网站。
需求

Python2 or Python3
pip install -r requirements.txt


MySql

用法

创建数据库并导入SBL.sql

将config-example.py改为config.py并填入相关配置信息


SECRET_KEY: 用于会话储存的密钥，用以下代码随机生成






DEBUG: 是否开启调试模式

DB_HOST: 数据库主机地址
DB_PORT: 数据库端口
DB_USER: 数据库用户名
DB_PASSWORD: 数据库密码
DB_NAME: 数据库名
SBL_PASSWORD:  用于开启管理功能的密码
SBL_BLOG_SECRET_TAG: 在Blog中用于隐藏文章的标签
SBL_VERSION: 版本号，用于更新静态文件在浏览器中的缓存，随便填
python SBL.py



部署：Apache(mod_wsgi) + virtualenv

安装mod_wsgi和virtualenv
用virtualenv创建新的运行环境并安装依赖库

项目目录下创建SBL.wsgi文件并写入以下内容，自行替换路径
wsgi
activate_this = '/{运行环境路径}/bin/activate_this.py'
execfile(activate_this, dict(__file__=activate_this))
import sys
sys.path.append('/{项目路径}/')
from SBL import app as application


配置Apache虚拟主机，写入以下内容到conf/httpd.conf，自行替换路径
apache
<VirtualHost *:80>
    ServerName 127.0.0.1
    WSGIDaemonProcess SBL user=apache group=apache threads=5
    WSGIScriptAlias / /{项目路径}/SBL.wsgi
    ErrorLog /{项目路径}/logs/error-log
    CustomLog /{项目路径}/logs/access-log combined
    <Directory /{项目路径}/>
        WSGIProcessGroup SBL
        WSGIApplicationGroup %{GLOBAL}
        Order deny,allow
        Allow from all
    </Directory>
</VirtualHost>

