{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE QuasiQuotes           #-}
{-# LANGUAGE TemplateHaskell       #-}
{-# LANGUAGE TypeFamilies          #-}
import           AppCache
import           Routes
import           Yesod.Core

instance Yesod App

mkYesodDispatch "App" resourcesApp

getHomeR :: Handler String
getHomeR = return "Hello"

getSomethingR :: Handler String
getSomethingR = return "Hello"

getAppCacheR :: Handler AppCache
getAppCacheR = $(appCache resourcesApp)

main :: IO ()
main = warp 3000 App
{-# LANGUAGE MultiParamTypeClasses #-}
{-# LANGUAGE QuasiQuotes           #-}
{-# LANGUAGE TemplateHaskell       #-}
{-# LANGUAGE TypeFamilies          #-}
module Routes where

import           Yesod.Core

data App = App

mkYesodData "App" [parseRoutes|
/ HomeR GET
/some/thing SomethingR GET !CACHE
/appcache AppCacheR GET
|]
