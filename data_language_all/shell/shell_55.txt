#!/bin/bash

# Gently fix common Markdown formatting errors. Should be minimally invasive.

set -e -u -o pipefail

hash repren >/dev/null 2>&1 || {
  echo >&2 "repren missing: Install https://github.com/jlevy/repren and re-run"
  exit 1
}

cd $(dirname $0)/..

# Extra spaces following a bullet replaced by tab per mkdownfmt convention.
# Leave other stuff alone.
repren --from '^(\s*)([-*])(\s*  +\s*)' --to '\1\2\t' README.md CONTRIBUTING.md
#!/bin/sh

\. ../../../nvm.sh
\. ../../common.sh

make_fake_node v0.0.2
make_fake_node v0.0.20

die () { echo "$@" ; exit 1; }

# The result should contain only the appropriate version numbers.

nvm ls 0.0.2 | grep 'v0.0.2' > /dev/null
if [ $? -eq 0 ]; then
  echo '"nvm ls 0.0.2" contained v0.0.2'
fi

nvm ls 0.0.2 | grep 'v0.0.20' > /dev/null
if [ $? -eq 0 ]; then
  die '"nvm ls 0.0.2" contained v0.0.20'
fi
#!/bin/sh

\. ../../../nvm.sh
\. ../../common.sh

make_fake_node v0.0.2
make_fake_node v0.0.20

die () { echo "$@" ; exit 1; }

# The result should contain only the appropriate version numbers.

nvm ls 0.0.2 | grep 'v0.0.2' > /dev/null
if [ $? -eq 0 ]; then
  echo '"nvm ls 0.0.2" contained v0.0.2'
fi

nvm ls 0.0.2 | grep 'v0.0.20' > /dev/null
if [ $? -eq 0 ]; then
  die '"nvm ls 0.0.2" contained v0.0.20'
fi
