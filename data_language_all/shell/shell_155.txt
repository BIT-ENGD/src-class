#!/usr/bin/env bash

if test "$1" = "--all"; then
  git shortlog -n -s | awk '{print substr($0,index($0,$2)) " (" $1 ")"}'
  echo
fi

echo total `git rev-list --count HEAD`
#!/usr/bin/env bats

load test_helper

@test "not enough arguments for python-build" {
  # use empty inline definition so nothing gets built anyway
  local definition="${TMP}/build-definition"
  echo '' > "$definition"

  run python-build "$definition"
  assert_failure
  assert_output_contains 'Usage: python-build'
}

@test "extra arguments for python-build" {
  # use empty inline definition so nothing gets built anyway
  local definition="${TMP}/build-definition"
  echo '' > "$definition"

  run python-build "$definition" "${TMP}/install" ""
  assert_failure
  assert_output_contains 'Usage: python-build'
}
#!/usr/bin/env bats

load test_helper

@test "not enough arguments for python-build" {
  # use empty inline definition so nothing gets built anyway
  local definition="${TMP}/build-definition"
  echo '' > "$definition"

  run python-build "$definition"
  assert_failure
  assert_output_contains 'Usage: python-build'
}

@test "extra arguments for python-build" {
  # use empty inline definition so nothing gets built anyway
  local definition="${TMP}/build-definition"
  echo '' > "$definition"

  run python-build "$definition" "${TMP}/install" ""
  assert_failure
  assert_output_contains 'Usage: python-build'
}
