#!/bin/sh

# Usage: Doxyfile.user lexicon_filter
DOXYFILE=$1
LEXICON_FILTER=$2

(cat "${DOXYFILE}" ;\
 echo INPUT_FILTER="${LEXICON_FILTER}"; \
 echo PROJECT_NUMBER=${FISH_BUILD_VERSION} \
 | /usr/bin/env sed "s/-[a-z0-9-]*//") \
   | doxygen - && touch user_doc

(cd ./user_doc/html/ && \
 rm -f bc_s.png bdwn.png closed.png doc.png folder*.png ftv2*.png \
       nav*.png open.png splitbar.png sync_*.png tab*.* doxygen.* \
       dynsections.js jquery.js pages.html)
#!/usr/bin/env bash
# Usage: rbenv version-file-write <file> <version>

set -e
[ -n "$RBENV_DEBUG" ] && set -x

RBENV_VERSION_FILE="$1"
RBENV_VERSION="$2"

if [ -z "$RBENV_VERSION" ] || [ -z "$RBENV_VERSION_FILE" ]; then
  rbenv-help --usage version-file-write >&2
  exit 1
fi

# Make sure the specified version is installed.
rbenv-prefix "$RBENV_VERSION" >/dev/null

# Write the version out to disk.
echo "$RBENV_VERSION" > "$RBENV_VERSION_FILE"
#!/usr/bin/env bash
# Usage: rbenv version-file-write <file> <version>

set -e
[ -n "$RBENV_DEBUG" ] && set -x

RBENV_VERSION_FILE="$1"
RBENV_VERSION="$2"

if [ -z "$RBENV_VERSION" ] || [ -z "$RBENV_VERSION_FILE" ]; then
  rbenv-help --usage version-file-write >&2
  exit 1
fi

# Make sure the specified version is installed.
rbenv-prefix "$RBENV_VERSION" >/dev/null

# Write the version out to disk.
echo "$RBENV_VERSION" > "$RBENV_VERSION_FILE"
