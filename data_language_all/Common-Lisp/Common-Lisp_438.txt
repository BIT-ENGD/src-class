#|
  This file is a part of Caveman package.
  URL: http://github.com/fukamachi/caveman
  Copyright (c) 2011 Eitaro Fukamachi <e.arrows@gmail.com>

  Caveman is freely distributable under the LLGPL License.
|#

(in-package :cl-user)
(defpackage caveman.skeleton
  (:use :cl)
  (:import-from :cl-project
                :make-project))
(in-package :caveman.skeleton)

(cl-syntax:use-syntax :annot)

(defvar *skeleton-directory*
    #.(asdf:system-relative-pathname
       :caveman
       #p"v1/skeleton/"))

@export
(defun generate (path &rest params &key name description author email license depends-on &allow-other-keys)
  "Generate a skeleton of Caveman Application.
`name' must be a symbol or a keyword. `path' must be a pathname. If `path' isn't specified, generate a skeleton to current directory."
  (apply #'cl-project:make-project path params)
  (let ((cl-project:*skeleton-directory*
         *skeleton-directory*))
    (apply #'cl-project:make-project path params)))
